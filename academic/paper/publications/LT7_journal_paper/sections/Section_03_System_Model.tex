\documentclass[11pt]{article}
\usepackage[utf8]{inputenc}
\usepackage{amsmath,amssymb}
\usepackage[margin=1in]{geometry}

\title{Section 2\textcolon System Model and Problem Formulation}
\date{December 25, 2025}

\begin{document}
\maketitle

\section{System Model and Problem Formulation}

\subsection{Double-Inverted Pendulum Dynamics}

The double-inverted pendulum (DIP) system consists of a cart of mass $m 0$ moving horizontally on a track, with two pendulum links (masses $m 1$, $m 2$; lengths $L 1$, $L 2$) attached sequentially to form a double-joint structure. The system is actuated by a horizontal force $u$ applied to the cart, with the control objective to stabilize both pendulums in the upright position ($\theta 1 = \theta 2 = 0$).

\subsubsection{Physical System Description}

Figure 2.1: Double-inverted pendulum system schematic


System Configuration:
- Cart: Moves along 1D horizontal track ($\pm$1m travel limit in simulation)
- Pendulum 1: Rigid link pivoting at cart position, free to rotate 360 deg ($\pm$π rad)
- Pendulum 2: Rigid link pivoting at end of pendulum 1, free to rotate 360 deg
- Actuation: Single horizontal force u applied to cart (motor-driven)
- Sensing: Encoders measure cart position x and angles theta1, theta2; velocities estimated via differentiation

Physical Constraints:
- Mass distribution: m0 > m1 > m2 (cart heaviest, tip lightest - typical configuration)
- Length ratio: L1 > L2 (longer base link provides larger control authority)
- Inertia moments: I1 > I2 (proportional to m·L²)

Model Derivation Approach:

We derive the equations of motion using the Euler-Lagrange method (rather than Newton-Euler) because:
- Lagrangian mechanics automatically handles constraint forces (no need to compute reaction forces at joints)
- Kinetic/potential energy formulation is systematic for multi-link systems
- Resulting M-C-G structure is standard for robot manipulators, enabling direct application of nonlinear control theory

The Lagrangian L = T - V (kinetic minus potential energy) yields equations via:
where Q i are generalized forces (control input u for cart, zero for unactuated joints).

---

State Vector:

where:
- $x$ - cart position (m)
- $\theta 1$ - angle of first pendulum from upright (rad)
- $\theta 2$ - angle of second pendulum from upright (rad)
- $\dot{x}, \dot{\theta} 1, \dot{\theta} 2$ - corresponding velocities

Equations of Motion:

The nonlinear dynamics are derived using the Euler-Lagrange method, yielding:


where $\mathbf{q} = [x, \theta 1, \theta 2]^T$ (generalized coordinates).

Inertia Matrix $\mathbf{M}(\mathbf{q}) \in \mathbb{R}^{3 \times 3}$ (symmetric, positive definite):


with elements (derived from kinetic energy):
- $M {11} = m 0 + m 1 + m 2$
- $M {12} = M {21} = (m 1 r 1 + m 2 L 1)\cos\theta 1 + m 2 r 2 \cos\theta 2$
- $M {13} = M {31} = m 2 r 2 \cos\theta 2$
- $M {22} = m 1 r 1^2 + m 2 L 1^2 + I 1$
- $M {23} = M {32} = m 2 L 1 r 2 \cos(\theta 1 - \theta 2) + I 2$
- $M {33} = m 2 r 2^2 + I 2$

where $r i$ = distance to center of mass, $I i$ = moment of inertia.

Coriolis/Centrifugal Matrix $\mathbf{C}(\mathbf{q}, \dot{\mathbf{q}}) \in \mathbb{R}^{3 \times 3}$:

Captures velocity-dependent forces, including centrifugal terms $\propto \dot{\theta} i^2$ and Coriolis terms $\propto \dot{\theta} i \dot{\theta} j$.

Nonlinearity Characterization:

The DIP system exhibits strong nonlinearity across multiple mechanisms:

- Configuration-Dependent Inertia:
   - M12 varies by up to 40percent as theta1 changes from 0 to π/4 (for m1=0.2kg, L1=0.4m)
   - M23 varies by up to 35percent as theta1-theta2 changes (coupling between pendulum links)
   - This creates state-dependent effective mass, making control gains tuned at theta=0 potentially ineffective at theta=$\pm$0.3 rad

- Trigonometric Nonlinearity in Gravity:
   - For small angles: sin(theta) ~= $\theta$ (linear approximation, error <2percent for |theta|<0.25 rad)
   - For realistic perturbations |theta|=0.3 rad: sin(0.3)=0.296 vs linear 0.3 (1.3percent error)
   - For large angles |theta|>1 rad: sin(theta) deviates significantly, requiring full nonlinear model

- Velocity-Dependent Coriolis Forces:
   - Coriolis terms ∝ thetȧ1·thetȧ2 create cross-coupling between pendulum motions
   - During fast transients (thetȧ1 > 2 rad/s), Coriolis forces can exceed 20percent of gravity torque
   - This velocity-state coupling prevents simple gain-scheduled linear control

Linearization Error Analysis:

At equilibrium (theta1=theta2=0), the linearized model:
(where G'(0) is Jacobian at origin) is accurate only for |theta|<0.05 rad. Beyond this, linearization errors exceed 10percent, necessitating nonlinear control approaches like SMC.

Comparison: Simplified vs Full Dynamics:

Some studies use simplified DIP models neglecting:
- Pendulum inertia moments (I1=I2=0, point masses)
- Coriolis/centrifugal terms (quasi-static approximation)
- Friction terms (frictionless pivots)

Our full nonlinear model retains all terms because:
- Inertia I1, I2 contribute ~15percent to M22, M33 (non-negligible for pendulums with distributed mass)
- Coriolis forces critical during transient response (fast pendulum swings)
- Friction prevents unrealistic steady-state oscillations in simulation

Simplified models may overestimate control performance by 20-30percent (based on preliminary comparison, not shown here).

---

Gravity Vector $\mathbf{G}(\mathbf{q}) \in \mathbb{R}^3$:


Friction Vector $\mathbf{F} {\text{friction}}\dot{\mathbf{q}}$:


where $b 0, b 1, b 2$ are cart friction and joint damping coefficients.

Control Input Matrix $\mathbf{B} \in \mathbb{R}^3$:


indicating force applied to cart only (underactuated system: 1 input, 3 degrees of freedom).

Disturbances $\mathbf{d}(t) \in \mathbb{R}^3$:

External disturbances (wind, measurement noise, unmodeled dynamics).

\subsection{System Parameters}

Physical Configuration (from config.yaml):


[TABLE - See Markdown version for details]


Parameter Selection Rationale:

The chosen parameters represent a realistic laboratory-scale DIP system consistent with:
- Quanser DIP Module: Commercial hardware platform (m0=1.5kg, L1=0.4m similar to Quanser specifications)
- Literature Benchmarks: Furuta et al. (1992) [ref45], Spong (1994) [ref48], Bogdanov (2004) [ref53] use comparable scales
- Fabrication Constraints: Aluminum links (density ~=2700 kg/m³) with 25mm diameter yield masses m1~=0.2kg, m2~=0.15kg for given lengths
- Control Authority: Mass ratio m0/(m1+m2) ~= 4.3 provides sufficient control authority while maintaining nontrivial underactuation

Key Dimensional Analysis:
- Natural frequency (pendulum 1): omega1 = √(g/L1) ~= 4.95 rad/s (period T1 ~= 1.27s)
- Natural frequency (pendulum 2): omega2 = √(g/L2) ~= 5.72 rad/s (period T2 ~= 1.10s)
- Frequency separation: omega2/omega1 ~= 1.16 (sufficient to avoid resonance, close enough for interesting coupling dynamics)
- Characteristic time: τ = √(L1/g) ~= 0.20s (fall time from upright if uncontrolled)

These timescales drive control design requirements: settling time target (3s ~= 2.4xT1) must be faster than natural oscillation period, yet achievable with realistic actuator bandwidths.

Friction Coefficients:
- Cart friction b0 = 0.2 N·s/m corresponds to linear bearing with light lubrication
- Joint friction b1, b2 = 0.005, 0.004 N·m·s/rad represents ball-bearing pivots (typical for precision rotary joints)
- Friction assumed viscous (linear in velocity) for simplicity; real systems exhibit Coulomb friction (constant), but viscous model adequate for control design in continuous-motion regime

---

Key Properties:
- Underactuated: 1 control input ($u$), 3 degrees of freedom (cart, 2 pendulums)
- Unstable Equilibrium: Upright position $(\theta 1, \theta 2) = (0, 0)$ is unstable
- Nonlinear: $M(\mathbf{q})$ depends on angles; $\mathbf{G}(\mathbf{q})$ contains $\sin\theta i$ terms
- Coupled: Motion of cart affects both pendulums; pendulum 1 affects pendulum 2

\subsection{Control Objectives}

Primary Objective: Stabilize DIP system at upright equilibrium from small initial perturbations

Formal Statement:

Given initial condition $\mathbf{x}(0) = [x 0, \theta {10}, \theta {20}, 0, 0, 0]^T$ with $|\theta {i0}| \leq \theta {\max}$ (typically $\theta {\max} = 0.05$ rad = 2.9 deg), design control law $u(t)$ such that:

Objective Rationale:

These five primary objectives balance theoretical rigor (asymptotic stability, Lyapunov-based), practical performance (settling time, overshoot matching industrial specs), and hardware feasibility (control bounds, compute time):

- 3-second settling time: Matches humanoid balance recovery timescales (Atlas: 0.8s, ASIMO: 2-3s) scaled to DIP size
- 10percent overshoot: Prevents excessive pendulum swing that could violate $\pm$π workspace limits
- 20N force limit: Realistic for DC motor + ball screw actuator (e.g., Maxon EC-45 motor with 10:1 gearbox)
- 50mus compute time: Leaves 50percent CPU margin for 10kHz loop (modern embedded controllers: STM32F4 @168MHz, ARM Cortex-M4)

Secondary objectives (chattering, energy, robustness) enable multi-objective tradeoff analysis in Sections 7-9, revealing which controllers excel in specific applications.

---

- Asymptotic Stability:
   where $\mathbf{x} {\text{eq}} = [0, 0, 0, 0, 0, 0]^T$ (equilibrium)

- Settling Time Constraint:
   Target: $t s < 3$ seconds (within 2percent of equilibrium)

- Overshoot Constraint:
   Target: $\alpha < 1.1$ (less than 10percent overshoot)

- Control Input Bounds:
   Prevent actuator saturation

- Real-Time Feasibility:
   For 10 kHz control loop (100 mus period), control law computation must complete in <50percent of cycle

Secondary Objectives:

- Chattering Minimization: Reduce high-frequency control switching to minimize actuator wear
- Energy Efficiency: Minimize control effort $\int 0^{t s} u^2(t) dt$
- Robustness: Maintain performance under:
   - Model parameter uncertainty ($\pm$10-20percent in masses, lengths, inertias)
   - External disturbances (sinusoidal, impulse, white noise)
   - Initial condition variations ($\pm$0.3 rad for challenging scenarios)

\subsection{Problem Statement}

Problem: Design and comparatively evaluate seven sliding mode control (SMC) variants for stabilization of the double-inverted pendulum system described in Section 2.1, subject to objectives in Section 2.3.

Controllers to Evaluate:
- \textbf{Classical SMC} (boundary layer)
- Super-Twisting Algorithm (\textbf{STA-SMC})
- \textbf{Adaptive SMC} (parameter estimation)
- Hybrid Adaptive \textbf{STA-SMC} (mode-switching)
- Swing-Up SMC (energy-based + stabilization)
- Model Predictive Control (MPC, for comparison)
- Combinations/variants

Evaluation Criteria:
- Computational efficiency (compute time, memory)
- Transient response (settling time, overshoot, convergence rate)
- Chattering characteristics (FFT analysis, amplitude, frequency)
- Energy consumption (control effort)
- Robustness (model uncertainty, disturbances, generalization)
- Theoretical guarantees (Lyapunov stability, convergence type)

Constraints:
- All controllers operate on same physical system (parameters in Table 2.1)
- Fair comparison: Same initial conditions, simulation parameters (dt = 0.01s, duration = 10s)
- Same actuator limits ($|u| \leq 20$ N)
- Real-time constraint (<50 mus compute time per control cycle)

Assumptions:
- Full State Measurement: All 6 states ($x, \theta 1, \theta 2, \dot{x}, \dot{\theta} 1, \dot{\theta} 2$) measurable with negligible noise
- Matched Disturbances: External disturbances enter through control channel: $\mathbf{d}(t) = \mathbf{B}d u(t)$
- Bounded Disturbances: $|\mathbf{d}(t)| \leq d {\max}$ for known $d {\max}$
- Small Angle Assumption (for linearization-based controllers): Some controllers assume $|\theta i| < 0.1$ rad during operation
- No Parameter Variations During Single Run: System parameters fixed during 10s simulation (uncertainty tested across runs)

---

\end{document}
