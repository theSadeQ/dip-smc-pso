% ==============================================================================
% MASTER TEMPLATE FOR PODCAST EPISODE CHEATSHEET PDFs
% ==============================================================================
% Purpose: Beginner-friendly, colorful, multi-page study guides (2-4 pages)
% Target Audience: Complete beginners (Path 0 learners)
% Visual Style: Infographic-style with vibrant colors, icons, callout boxes
% ==============================================================================

\documentclass[11pt,a4paper]{article}

% ------------------------------------------------------------------------------
% GEOMETRY & LAYOUT
% ------------------------------------------------------------------------------
\usepackage[top=1.5cm, bottom=1.5cm, left=1.5cm, right=1.5cm, headheight=14pt]{geometry}
\usepackage{multicol}
\usepackage{fancyhdr}
\pagestyle{fancy}

% ------------------------------------------------------------------------------
% COLOR PALETTE (Vibrant & Beginner-Friendly)
% ------------------------------------------------------------------------------
\usepackage{xcolor}
\definecolor{primary}{RGB}{41, 128, 185}      % Blue - Main concepts, headers
\definecolor{secondary}{RGB}{39, 174, 96}     % Green - Success, examples
\definecolor{accent}{RGB}{230, 126, 34}       % Orange - Important notes
\definecolor{warning}{RGB}{231, 76, 60}       % Red - Common pitfalls
\definecolor{background}{RGB}{236, 240, 241}  % Light gray - Callout boxes
\definecolor{codeblock}{RGB}{44, 62, 80}      % Dark blue-gray - Code background
\definecolor{highlight}{RGB}{241, 196, 15}    % Yellow - Highlights

% ------------------------------------------------------------------------------
% TIKZ & GRAPHICS
% ------------------------------------------------------------------------------
\usepackage{tikz}
\usetikzlibrary{shapes, arrows, positioning, calc, shadows, decorations.pathreplacing, backgrounds, fit}
\usepackage{graphicx}
\usepackage{float}

% TikZ styles for consistent diagrams
\tikzstyle{block} = [rectangle, draw, fill=primary!20, text width=5em, text centered, rounded corners, minimum height=3em, drop shadow]
\tikzstyle{arrow} = [thick,->,>=stealth]
\tikzstyle{process} = [rectangle, draw, fill=secondary!20, text width=6em, text centered, rounded corners, minimum height=3em]
\tikzstyle{decision} = [diamond, draw, fill=accent!20, text width=4.5em, text badly centered, inner sep=0pt]
\tikzstyle{cloud} = [ellipse, draw, fill=background, text width=5em, text centered, minimum height=2.5em]

% ------------------------------------------------------------------------------
% BOXES & CALLOUTS (tcolorbox)
% ------------------------------------------------------------------------------
\usepackage{tcolorbox}
\tcbuselibrary{skins, breakable, raster}

% Key Concept Box (Blue)
\newtcolorbox{keypoint}{
    enhanced,
    colback=primary!10,
    colframe=primary,
    fonttitle=\bfseries,
    title=\faLightbulb\ Key Concept,
    attach boxed title to top left={yshift=-2mm, xshift=5mm},
    boxed title style={colback=primary},
    breakable
}

% Example Box (Green)
\newtcolorbox{example}{
    enhanced,
    colback=secondary!10,
    colframe=secondary,
    fonttitle=\bfseries,
    title=\faCode\ Example,
    attach boxed title to top left={yshift=-2mm, xshift=5mm},
    boxed title style={colback=secondary},
    breakable
}

% Warning Box (Red)
\newtcolorbox{warning}{
    enhanced,
    colback=warning!10,
    colframe=warning,
    fonttitle=\bfseries,
    title=\faExclamationTriangle\ Common Pitfall,
    attach boxed title to top left={yshift=-2mm, xshift=5mm},
    boxed title style={colback=warning},
    breakable
}

% Tip Box (Orange)
\newtcolorbox{tip}{
    enhanced,
    colback=accent!10,
    colframe=accent,
    fonttitle=\bfseries,
    title=\faLightbulb\ Pro Tip,
    attach boxed title to top left={yshift=-2mm, xshift=5mm},
    boxed title style={colback=accent},
    breakable
}

% Summary Box (Light gray)
\newtcolorbox{summary}{
    enhanced,
    colback=background,
    colframe=codeblock,
    fonttitle=\bfseries,
    title=\faListUl\ Quick Summary,
    attach boxed title to top left={yshift=-2mm, xshift=5mm},
    boxed title style={colback=codeblock},
    breakable
}

% ------------------------------------------------------------------------------
% ICONS & SYMBOLS (fontawesome5)
% ------------------------------------------------------------------------------
\usepackage{fontawesome5}

% Custom icon commands for consistency
\newcommand{\iconKey}{\textcolor{primary}{\faLightbulb}}
\newcommand{\iconCode}{\textcolor{secondary}{\faCode}}
\newcommand{\iconWarning}{\textcolor{warning}{\faExclamationTriangle}}
\newcommand{\iconTip}{\textcolor{accent}{\faInfoCircle}}
\newcommand{\iconLink}{\textcolor{primary}{\faLink}}
\newcommand{\iconBook}{\textcolor{secondary}{\faBook}}
\newcommand{\iconTarget}{\textcolor{accent}{\faBullseye}}

% ------------------------------------------------------------------------------
% TYPOGRAPHY & FONTS
% ------------------------------------------------------------------------------
\usepackage{lmodern}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}

% Section styling
\usepackage{titlesec}
\titleformat{\section}{\Large\bfseries\color{primary}}{\thesection}{1em}{}[\titlerule]
\titleformat{\subsection}{\large\bfseries\color{secondary}}{\thesubsection}{1em}{}

% ------------------------------------------------------------------------------
% CODE LISTINGS
% ------------------------------------------------------------------------------
\usepackage{listings}
\lstset{
    basicstyle=\ttfamily\footnotesize\color{white},
    backgroundcolor=\color{codeblock},
    keywordstyle=\color{primary!80},
    commentstyle=\color{secondary!60}\itshape,
    stringstyle=\color{accent!80},
    numbers=left,
    numberstyle=\tiny\color{white!50},
    stepnumber=1,
    numbersep=8pt,
    frame=single,
    rulecolor=\color{codeblock},
    breaklines=true,
    breakatwhitespace=true,
    tabsize=4,
    captionpos=b
}

% Python-specific styling
\lstdefinestyle{python}{
    language=Python,
    morekeywords={self, def, class, import, from, as, return, if, else, elif, for, while, True, False, None}
}

% YAML-specific styling
\lstdefinestyle{yaml}{
    basicstyle=\ttfamily\footnotesize,
    showstringspaces=false,
    commentstyle=\color{secondary!60}\itshape,
    keywordstyle=\color{primary!80}
}

% ------------------------------------------------------------------------------
% HYPERLINKS
% ------------------------------------------------------------------------------
\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=primary,
    urlcolor=secondary,
    citecolor=accent
}

% ------------------------------------------------------------------------------
% HEADER & FOOTER CUSTOMIZATION
% ------------------------------------------------------------------------------
\fancyhf{}
\fancyhead[L]{\textcolor{primary}{\textbf{DIP-SMC-PSO Podcast Cheatsheet}}}
\fancyhead[R]{\textcolor{secondary}{\episodetitle}}
\fancyfoot[C]{\textcolor{primary}{\thepage}}
\renewcommand{\headrulewidth}{0.5pt}
\renewcommand{\footrulewidth}{0.5pt}

% ------------------------------------------------------------------------------
% CUSTOM COMMANDS
% ------------------------------------------------------------------------------

% Episode title command (to be defined in each episode file)
\newcommand{\episodetitle}{Episode Title}

% Learning objective command
\newcommand{\learningobjective}[1]{%
    \begin{center}
    \begin{tcolorbox}[colback=highlight!30, colframe=accent, width=0.9\textwidth]
    \iconTarget\ \textbf{Learning Objective:} #1
    \end{tcolorbox}
    \end{center}
}

% Quick reference command (for formulas/code snippets)
\newcommand{\quickref}[2]{%
    \begin{tcolorbox}[colback=background, colframe=primary, title=\faBookmark\ #1]
    #2
    \end{tcolorbox}
}

% Resource link command
\newcommand{\resourcelink}[2]{%
    \iconLink\ \href{#1}{\textcolor{secondary}{#2}}
}

% ------------------------------------------------------------------------------
% TITLE PAGE FORMATTING
% ------------------------------------------------------------------------------
\usepackage{afterpage}

\newcommand{\makeepisodetitle}[4]{%
    \begin{titlepage}
    \begin{tikzpicture}[remember picture, overlay]
        % Background gradient
        \fill[primary!20] (current page.south west) rectangle (current page.north east);

        % Title box
        \node[
            fill=white,
            rounded corners=10pt,
            drop shadow,
            text width=0.8\paperwidth,
            align=center
        ] at (current page.center) {
            \Huge\bfseries\color{primary} #1 \\[1em]
            \Large\color{secondary} #2 \\[2em]
            \large\color{codeblock} Part #3 $\cdot$ Duration: #4 \\[1em]
            \normalsize\color{codeblock} \textit{Beginner-Friendly Visual Study Guide}
        };

        % Footer
        \node[
            anchor=south,
            text width=0.9\paperwidth,
            align=center
        ] at (current page.south) {
            \color{primary}\rule{0.8\paperwidth}{0.5pt} \\[0.5em]
            \small\color{codeblock}
            \textbf{Repository:} \url{https://github.com/theSadeQ/dip-smc-pso} \\
            \textbf{Documentation:} academic/paper/presentations/podcasts/episodes/ \\[1em]
        };
    \end{tikzpicture}
    \end{titlepage}
}

% ------------------------------------------------------------------------------
% MATH & EQUATIONS
% ------------------------------------------------------------------------------
\usepackage{amsmath, amssymb, amsthm}
\usepackage{mathtools}

% Equation box (highlighted equations)
\newcommand{\eqbox}[1]{%
    \begin{tcolorbox}[colback=primary!5, colframe=primary, boxrule=1pt]
    \begin{equation}
    #1
    \end{equation}
    \end{tcolorbox}
}

% ------------------------------------------------------------------------------
% TABLES
% ------------------------------------------------------------------------------
\usepackage{booktabs}
\usepackage{array}
\usepackage{multirow}
\usepackage{colortbl}

% Custom table colors
\newcommand{\tableheadcolor}{\rowcolor{primary!30}}

% ------------------------------------------------------------------------------
% END OF PREAMBLE
% ------------------------------------------------------------------------------
