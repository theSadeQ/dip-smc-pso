[1m============================= test session starts =============================[0m
platform win32 -- Python 3.12.6, pytest-8.3.5, pluggy-1.6.0 -- C:\Program Files\Python312\python.exe
cachedir: .pytest_cache
hypothesis profile 'default'
benchmark: 4.0.0 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)
rootdir: D:\Projects\main
configfile: pytest.ini
plugins: anyio-4.10.0, hypothesis-6.139.2, benchmark-4.0.0, cov-7.0.0
[1mcollecting ... [0mcollected 1525 items / 5 deselected / 2 skipped / 1520 selected

tests/config_validation/test_config_validation.py::TestUnknownKeyValidation::test_single_unknown_key_physics [32mPASSED[0m[32m [  0%][0m
tests/config_validation/test_config_validation.py::TestUnknownKeyValidation::test_multiple_unknown_keys_aggregated [32mPASSED[0m[32m [  0%][0m
tests/config_validation/test_config_validation.py::TestTypeValidation::test_single_wrong_type [32mPASSED[0m[32m [  0%][0m
tests/config_validation/test_config_validation.py::TestTypeValidation::test_multiple_wrong_types_aggregated [32mPASSED[0m[32m [  0%][0m
tests/config_validation/test_config_validation.py::TestPositiveValidation::test_minimal_valid_config [32mPASSED[0m[32m [  0%][0m
tests/config_validation/test_config_validation.py::TestPositiveValidation::test_full_config_loads [32mPASSED[0m[32m [  0%][0m
tests/config_validation/test_config_validation.py::TestMixedValidationErrors::test_unknown_keys_and_wrong_types_combined [32mPASSED[0m[32m [  0%][0m
tests/config_validation/test_config_validation.py::TestErrorMessageDeterminism::test_error_message_structure_consistent [32mPASSED[0m[32m [  0%][0m
tests/integration/test_controller_instantiation.py::test_controller_instantiation [32mPASSED[0m[32m [  0%][0m
tests/integration/test_controller_instantiation.py::test_pso_integration [32mPASSED[0m[32m [  0%][0m
tests/integration/test_legacy_factory_integration.py::test_legacy_factory_imports [32mPASSED[0m[32m [  0%][0m
tests/integration/test_legacy_factory_integration.py::test_controller_name_normalization [32mPASSED[0m[32m [  0%][0m
tests/integration/test_legacy_factory_integration.py::test_deprecation_mapping [32mPASSED[0m[32m [  0%][0m
tests/integration/test_legacy_factory_integration.py::test_legacy_controller_creation [32mPASSED[0m[32m [  0%][0m
tests/integration/test_legacy_factory_integration.py::test_factory_compatibility [32mPASSED[0m[32m [  0%][0m
tests/integration/test_legacy_factory_integration.py::test_migration_path [32mPASSED[0m[32m [  1%][0m
tests/integration/test_overshoot_comparison.py::test_overshoot_comparison [32mPASSED[0m[32m [  1%][0m
tests/integration/test_pso_controller_integration.py::test_controller_type_bounds_mapping [32mPASSED[0m[32m [  1%][0m
tests/integration/test_pso_controller_integration.py::test_pso_tuner_with_all_controllers [32mPASSED[0m[32m [  1%][0m
tests/integration/test_pso_controller_integration.py::test_controller_factory_validation [32mPASSED[0m[32m [  1%][0m
tests/integration/test_pso_controller_integration.py::test_pso_optimization_workflow [32mPASSED[0m[32m [  1%][0m
tests/integration/test_pso_integration.py::test_pso_configuration_compatibility [32mPASSED[0m[32m [  1%][0m
tests/integration/test_pso_integration.py::test_pso_optimizer_initialization [32mPASSED[0m[32m [  1%][0m
tests/integration/test_pso_integration.py::test_fitness_function [32mPASSED[0m[32m  [  1%][0m
tests/integration/test_pso_integration.py::test_mini_optimization [32mPASSED[0m[32m [  1%][0m
tests/integration/test_pso_integration.py::test_optimized_controller_validation [32mPASSED[0m[32m [  1%][0m
tests/integration/test_pso_integration_workflow.py::test_pso_controller_creation [32mPASSED[0m[32m [  1%][0m
tests/integration/test_pso_integration_workflow.py::test_gain_bounds [32mPASSED[0m[32m [  1%][0m
tests/integration/test_pso_integration_workflow.py::test_gain_validation [32mPASSED[0m[32m [  1%][0m
tests/integration/test_pso_integration_workflow.py::test_pso_fitness_function [32mPASSED[0m[32m [  1%][0m
tests/integration/test_pso_integration_workflow.py::test_multiple_smc_types [32mPASSED[0m[32m [  2%][0m
tests/integration/test_simulation_integration.py::test_factory_simulation_integration [32mPASSED[0m[32m [  2%][0m
tests/integration/test_simulation_integration.py::test_real_simulation_runner [32mPASSED[0m[32m [  2%][0m
tests/integration/test_simulation_integration.py::test_pso_simulation_integration [32mPASSED[0m[32m [  2%][0m
tests/integration/test_sta_smc_issue2.py::test_sta_smc_with_optimized_gains [32mPASSED[0m[32m [  2%][0m
tests/integration/test_sta_smc_issue2_fixed.py::test_sta_smc_with_optimized_gains [32mPASSED[0m[32m [  2%][0m
tests/integration/test_sta_smc_issue2_fixed.py::test_configuration_compatibility [32mPASSED[0m[32m [  2%][0m
tests/test_analysis/fault_detection/test_fdi.py::test_fdi_trips_after_persistence [32mPASSED[0m[32m [  2%][0m
tests/test_analysis/fault_detection/test_fdi.py::test_fdi_resets_counter_on_good_measurement [32mPASSED[0m[32m [  2%][0m
tests/test_analysis/fault_detection/test_fdi.py::test_fdi_no_false_alarm [32mPASSED[0m[32m [  2%][0m
tests/test_analysis/fault_detection/test_fdi.py::test_fdi_dt_validation [32mPASSED[0m[32m [  2%][0m
tests/test_analysis/fault_detection/test_fdi.py::test_residual_with_weights [32mPASSED[0m[32m [  2%][0m
tests/test_analysis/fault_detection/test_fdi.py::test_cusum_drift_detection [32mPASSED[0m[32m [  2%][0m
tests/test_analysis/fault_detection/test_fdi.py::test_cusum_reset_behavior [32mPASSED[0m[32m [  2%][0m
tests/test_analysis/fault_detection/test_fdi.py::test_history_recording [32mPASSED[0m[32m [  2%][0m
tests/test_analysis/fault_detection/test_fdi_infrastructure.py::TestFaultDetectionInterface::test_fault_detection_interface_protocol [32mPASSED[0m[32m [  3%][0m
tests/test_analysis/fault_detection/test_fdi_infrastructure.py::TestFaultDetectionInterface::test_fdi_system_implements_interface [32mPASSED[0m[32m [  3%][0m
tests/test_analysis/fault_detection/test_fdi_infrastructure.py::TestFaultDetectionInterface::test_dynamics_protocol_compliance [32mPASSED[0m[32m [  3%][0m
tests/test_analysis/fault_detection/test_fdi_infrastructure.py::TestResidualGeneration::test_basic_residual_generation [32mPASSED[0m[32m [  3%][0m
tests/test_analysis/fault_detection/test_fdi_infrastructure.py::TestResidualGeneration::test_residual_with_state_selection [32mPASSED[0m[32m [  3%][0m
tests/test_analysis/fault_detection/test_fdi_infrastructure.py::TestResidualGeneration::test_residual_with_weights [32mPASSED[0m[32m [  3%][0m
tests/test_analysis/fault_detection/test_fdi_infrastructure.py::TestResidualGeneration::test_residual_error_handling [32mPASSED[0m[32m [  3%][0m
tests/test_analysis/fault_detection/test_fdi_infrastructure.py::TestThresholdAdaptation::test_fixed_threshold_operation [32mPASSED[0m[32m [  3%][0m
tests/test_analysis/fault_detection/test_fdi_infrastructure.py::TestThresholdAdaptation::test_adaptive_threshold_operation [32mPASSED[0m[32m [  3%][0m
tests/test_analysis/fault_detection/test_fdi_infrastructure.py::TestThresholdAdaptation::test_adaptive_threshold_convergence [32mPASSED[0m[32m [  3%][0m
tests/test_analysis/fault_detection/test_fdi_infrastructure.py::TestThresholdAdaptation::test_threshold_with_zero_variance [32mPASSED[0m[32m [  3%][0m
tests/test_analysis/fault_detection/test_fdi_infrastructure.py::TestCUSUMDriftDetection::test_cusum_drift_detection [32mPASSED[0m[32m [  3%][0m
tests/test_analysis/fault_detection/test_fdi_infrastructure.py::TestCUSUMDriftDetection::test_cusum_with_adaptive_reference [32mPASSED[0m[32m [  3%][0m
tests/test_analysis/fault_detection/test_fdi_infrastructure.py::TestCUSUMDriftDetection::test_cusum_reset_behavior [32mPASSED[0m[32m [  3%][0m
tests/test_analysis/fault_detection/test_fdi_infrastructure.py::TestFaultDetectionRobustness::test_invalid_time_step_handling [32mPASSED[0m[32m [  3%][0m
tests/test_analysis/fault_detection/test_fdi_infrastructure.py::TestFaultDetectionRobustness::test_non_finite_prediction_handling [32mPASSED[0m[32m [  4%][0m
tests/test_analysis/fault_detection/test_fdi_infrastructure.py::TestFaultDetectionRobustness::test_state_dimension_mismatch_handling [32mPASSED[0m[32m [  4%][0m
tests/test_analysis/fault_detection/test_fdi_infrastructure.py::TestFaultDetectionRobustness::test_persistence_after_fault [32mPASSED[0m[32m [  4%][0m
tests/test_analysis/fault_detection/test_fdi_infrastructure.py::TestFaultDetectionRobustness::test_history_recording [32mPASSED[0m[32m [  4%][0m
tests/test_analysis/fault_detection/test_fdi_infrastructure.py::TestFaultDetectionIntegration::test_end_to_end_fault_detection_scenario [32mPASSED[0m[32m [  4%][0m
tests/test_analysis/fault_detection/test_fdi_infrastructure.py::TestFaultDetectionIntegration::test_fault_detection_with_multiple_fault_types [32mPASSED[0m[32m [  4%][0m
tests/test_analysis/fault_detection/test_fdi_infrastructure.py::TestFaultDetectionPerformance::test_large_scale_processing [32mPASSED[0m[32m [  4%][0m
tests/test_analysis/fault_detection/test_fdi_infrastructure.py::TestFaultDetectionPerformance::test_memory_usage_stability [32mPASSED[0m[32m [  4%][0m
tests/test_analysis/infrastructure/test_analysis_chain.py::TestAnalysisInfrastructureChain::test_critical_imports_available [32mPASSED[0m[32m [  4%][0m
tests/test_analysis/infrastructure/test_analysis_chain.py::TestAnalysisInfrastructureChain::test_metrics_chain_functionality [32mPASSED[0m[32m [  4%][0m
tests/test_analysis/infrastructure/test_analysis_chain.py::TestAnalysisInfrastructureChain::test_statistical_test_suite_functionality [32mPASSED[0m[32m [  4%][0m
tests/test_analysis/infrastructure/test_analysis_chain.py::TestAnalysisInfrastructureChain::test_fault_detection_infrastructure [32mPASSED[0m[32m [  4%][0m
tests/test_analysis/infrastructure/test_analysis_chain.py::TestAnalysisInfrastructureChain::test_analysis_chain_integration [32mPASSED[0m[32m [  4%][0m
tests/test_analysis/infrastructure/test_analysis_chain.py::TestAnalysisInfrastructureChain::test_analysis_error_handling [32mPASSED[0m[32m [  4%][0m
tests/test_analysis/infrastructure/test_analysis_chain.py::TestAnalysisInfrastructureChain::test_performance_analysis_accuracy [32mPASSED[0m[32m [  4%][0m
tests/test_analysis/infrastructure/test_analysis_chain.py::TestAnalysisInfrastructureChain::test_statistical_rigor_validation [32mPASSED[0m[32m [  5%][0m
tests/test_analysis/infrastructure/test_analysis_chain.py::TestAnalysisInfrastructureChain::test_analysis_framework_robustness [32mPASSED[0m[32m [  5%][0m
tests/test_analysis/infrastructure/test_analysis_chain.py::TestAnalysisInfrastructureChain::test_analysis_chain_performance [32mPASSED[0m[32m [  5%][0m
tests/test_analysis/performance/test_lyapunov.py::test_lyapunov_decrease_sta [31mFAILED[0m[31m [  5%][0m

================================== FAILURES ===================================
[31m[1m_________________________ test_lyapunov_decrease_sta __________________________[0m
[1m[31mtests\test_analysis\performance\test_lyapunov.py[0m:90: in test_lyapunov_decrease_sta
    [0m[94massert[39;49;00m np.all(V_history[:, -[94m1[39;49;00m] < [94m1e-6[39;49;00m), ([90m[39;49;00m
[1m[31mE   IndexError: index -1 is out of bounds for axis 1 with size 0[0m
============================ slowest 10 durations =============================
2.37s call     tests/integration/test_pso_integration.py::test_mini_optimization
1.12s call     tests/test_analysis/fault_detection/test_fdi_infrastructure.py::TestFaultDetectionPerformance::test_large_scale_processing
0.81s call     tests/integration/test_controller_instantiation.py::test_controller_instantiation
0.77s call     tests/integration/test_pso_integration.py::test_optimized_controller_validation
0.60s call     tests/integration/test_pso_controller_integration.py::test_pso_optimization_workflow
0.24s call     tests/integration/test_simulation_integration.py::test_factory_simulation_integration
0.23s call     tests/integration/test_pso_integration.py::test_fitness_function
0.18s call     tests/integration/test_pso_controller_integration.py::test_controller_factory_validation
0.06s setup    tests/test_analysis/performance/test_lyapunov.py::test_lyapunov_decrease_sta
0.04s call     tests/integration/test_pso_integration.py::test_pso_optimizer_initialization
[36m[1m=========================== short test summary info ===========================[0m
[31mFAILED[0m tests/test_analysis/performance/test_lyapunov.py::[1mtest_lyapunov_decrease_sta[0m - IndexError: index -1 is out of bounds for axis 1 with size 0
[31m!!!!!!!!!!!!!!!!!!!!!!!!!! stopping after 1 failures !!!!!!!!!!!!!!!!!!!!!!!!!![0m
[31m=========== [31m[1m1 failed[0m, [32m78 passed[0m, [33m2 skipped[0m, [33m5 deselected[0m[31m in 23.81s[0m[31m ============[0m
