\section{System Model and Problem Formulation}
\label{sec:model}

% Content to be extracted from docs/theory/system_dynamics.md

\subsection{Physical Description}
The double-inverted pendulum (DIP) system consists of three main components:
\begin{itemize}
\item \textbf{Cart} (mass $m_0$): Moves horizontally on a frictionless track
\item \textbf{First Pendulum} (mass $m_1$, length $l_1$): Revolute joint attached to cart
\item \textbf{Second Pendulum} (mass $m_2$, length $l_2$): Revolute joint attached to first pendulum tip
\end{itemize}

The control objective is to stabilize both pendulums in the upright position ($\theta_1 = \theta_2 = 0$) using horizontal cart force $u$, while regulating cart position within bounds.

\subsection{System Challenges}
The DIP presents four key challenges for control design:

\textbf{Underactuation}: The system has 3 degrees of freedom (DOF) but only 1 control input, requiring exploitation of dynamic coupling.

\textbf{Unstable Equilibrium}: The upright position is inherently unstableâ€”small perturbations cause pendulums to fall without active stabilization.

\textbf{Nonlinear Dynamics}: Trigonometric functions in the equations of motion complicate controller design, especially for large-angle swings.

\textbf{System Coupling}: Cart motion affects both pendulums, and second pendulum motion influences the first through inertial coupling.

\subsection{State-Space Representation}
The system state vector is:
\begin{equation}
\vect{x} = [x, \theta_1, \theta_2, \dot{x}, \dot{\theta}_1, \dot{\theta}_2]^T \in \Real^6
\label{eq:state_vector}
\end{equation}

The nonlinear dynamics are:
\begin{equation}
\vect{M}(\vect{q})\ddot{\vect{q}} + \vect{C}(\vect{q}, \dot{\vect{q}}) + \vect{G}(\vect{q}) = \vect{B}u
\label{eq:dynamics}
\end{equation}

where $\vect{q} = [x, \theta_1, \theta_2]^T$ represents generalized coordinates, $u$ is the control force applied to the cart, and $\vect{M}$, $\vect{C}$, $\vect{G}$ are inertia, Coriolis, and gravity terms.

\subsection{Control Objectives}
\begin{enumerate}
\item Stabilization: $\lim_{t \to \infty} [\theta_1(t), \theta_2(t)] = [0, 0]$
\item Cart regulation: $|x(t)| \leq x_{max}$
\item Bounded control effort: $|u(t)| \leq u_{max}$
\end{enumerate}

% Figures will be added here from generate_figures.py script
