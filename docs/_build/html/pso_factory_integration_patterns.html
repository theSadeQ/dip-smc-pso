<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark">
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
<style>
.chartjs-container {
    margin: 1.5em auto;
    padding: 1em;
    background: #f8f9fa;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}
.chart-note {
    text-align: center;
    color: #6c757d;
    font-size: 0.9em;
    margin-top: 0.5em;
}
</style>
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" />

    <!-- Generated with Sphinx 7.4.7 and Furo 2024.08.06 -->
        <title>PSO-Factory Integration Patterns Documentation - DIP_SMC_PSO Documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5349f25f" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=302659d7" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=f5a89ef9" />
    
    


<style>
  body {
    --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">DIP_SMC_PSO Documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">DIP_SMC_PSO Documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">📚 Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="README.html">Optimal Sliding Mode Control for a Double-Inverted Pendulum via PSO</a></li>
<li class="toctree-l1"><a class="reference internal" href="theory_overview.html">1. Theoretical Background â€” Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">3. System Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="plant_model.html">1.x Plant Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="hil_quickstart.html">Hardware-in-the-Loop (HIL) Quickstart Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="streamlit_dashboard_guide.html">Streamlit Dashboard User Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">🎮 Control Systems &amp; Optimization</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="controllers/index.html">Controllers Module Documentation</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Controllers Module Documentation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="controllers/classical_smc_technical_guide.html">Classical Sliding Mode Control Technical Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="controllers/adaptive_smc_technical_guide.html">Adaptive Sliding Mode Control Technical Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="controllers/sta_smc_technical_guide.html">Super-Twisting Sliding Mode Control Technical Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="controllers/hybrid_smc_technical_guide.html">Hybrid Adaptive Super-Twisting SMC Technical Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="controllers/mpc_technical_guide.html">Model Predictive Control Technical Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="controllers/swing_up_smc_technical_guide.html">Swing-Up SMC Technical Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="controllers/swing_up_smc_technical_guide.html#example-metadata">example-metadata:</a></li>
<li class="toctree-l2"><a class="reference internal" href="controllers/swing_up_smc_technical_guide.html#runnable-false">runnable: false</a></li>
<li class="toctree-l2"><a class="reference internal" href="controllers/factory_system_guide.html">SMC Controller Factory System Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="controllers/control_primitives_reference.html">Control Primitives Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="mathematical_foundations/smc_complete_theory.html">Complete Sliding Mode Control Mathematical Theory</a></li>
<li class="toctree-l2"><a class="reference internal" href="mathematical_foundations/controller_comparison_theory.html">SMC Controller Comparison Theory</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="reference/controllers/index.html">Controllers Module</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Controllers Module</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/adaptive_smc.html">controllers.adaptive_smc</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/classic_smc.html">controllers.classic_smc</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/factory.html">controllers.factory</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/mpc_controller.html">controllers.mpc_controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/sta_smc.html">controllers.sta_smc</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/swing_up_smc.html">controllers.swing_up_smc</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/__init__.html">controllers.<strong>init</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/base_controller_interface.html">controllers.base.controller_interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/base_control_primitives.html">controllers.base.control_primitives</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/base___init__.html">controllers.base.<strong>init</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/factory_deprecation.html">controllers.factory.deprecation</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/factory_fallback_configs.html">controllers.factory.fallback_configs</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/factory_legacy_factory.html">controllers.factory.legacy_factory</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/factory_optimization.html">controllers.factory.optimization</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/factory_pso_integration.html">controllers.factory.pso_integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/factory_smc_factory.html">controllers.factory.smc_factory</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/factory_thread_safety.html">controllers.factory.thread_safety</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/factory___init__.html">controllers.factory.<strong>init</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/mpc_mpc_controller.html">controllers.mpc.mpc_controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/mpc___init__.html">controllers.mpc.<strong>init</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_adaptive_smc.html">controllers.smc.adaptive_smc</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_classic_smc.html">controllers.smc.classic_smc</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_hybrid_adaptive_sta_smc.html">controllers.smc.hybrid_adaptive_sta_smc</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_sta_smc.html">controllers.smc.sta_smc</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc___init__.html">controllers.smc.<strong>init</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/specialized_swing_up_smc.html">controllers.specialized.swing_up_smc</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/specialized___init__.html">controllers.specialized.<strong>init</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/factory_core_protocols.html">controllers.factory.core.protocols</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/factory_core_registry.html">controllers.factory.core.registry</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/factory_core_threading.html">controllers.factory.core.threading</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/factory_core_validation.html">controllers.factory.core.validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/factory_core___init__.html">controllers.factory.core.<strong>init</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_algorithms___init__.html">controllers.smc.algorithms.<strong>init</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_core_equivalent_control.html">controllers.smc.core.equivalent_control</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_core_gain_validation.html">controllers.smc.core.gain_validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_core_sliding_surface.html">controllers.smc.core.sliding_surface</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_core_switching_functions.html">controllers.smc.core.switching_functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_core___init__.html">controllers.smc.core.<strong>init</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_algorithms_adaptive_adaptation_law.html">controllers.smc.algorithms.adaptive.adaptation_law</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_algorithms_adaptive_config.html">controllers.smc.algorithms.adaptive.config</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_algorithms_adaptive_controller.html">controllers.smc.algorithms.adaptive.controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_algorithms_adaptive_parameter_estimation.html">controllers.smc.algorithms.adaptive.parameter_estimation</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_algorithms_adaptive___init__.html">controllers.smc.algorithms.adaptive.<strong>init</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_algorithms_classical_boundary_layer.html">controllers.smc.algorithms.classical.boundary_layer</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_algorithms_classical_config.html">controllers.smc.algorithms.classical.config</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_algorithms_classical_controller.html">controllers.smc.algorithms.classical.controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_algorithms_classical___init__.html">controllers.smc.algorithms.classical.<strong>init</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_algorithms_hybrid_config.html">controllers.smc.algorithms.hybrid.config</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_algorithms_hybrid_controller.html">controllers.smc.algorithms.hybrid.controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_algorithms_hybrid_switching_logic.html">controllers.smc.algorithms.hybrid.switching_logic</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_algorithms_hybrid___init__.html">controllers.smc.algorithms.hybrid.<strong>init</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_algorithms_super_twisting_config.html">controllers.smc.algorithms.super_twisting.config</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_algorithms_super_twisting_controller.html">controllers.smc.algorithms.super_twisting.controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_algorithms_super_twisting_twisting_algorithm.html">controllers.smc.algorithms.super_twisting.twisting_algorithm</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_algorithms_super_twisting___init__.html">controllers.smc.algorithms.super_twisting.<strong>init</strong></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="mathematical_foundations/index.html">Mathematical Foundations</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Mathematical Foundations</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="mathematical_foundations/smc_complete_theory.html">Complete Sliding Mode Control Mathematical Theory</a></li>
<li class="toctree-l2"><a class="reference internal" href="mathematical_foundations/controller_comparison_theory.html">SMC Controller Comparison Theory</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="plant/models_guide.html">Plant Models Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="optimization_simulation/guide.html">Optimization &amp; Simulation Guide</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="reference/controllers/index.html">Controllers Module</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Controllers Module</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/adaptive_smc.html">controllers.adaptive_smc</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/classic_smc.html">controllers.classic_smc</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/factory.html">controllers.factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/mpc_controller.html">controllers.mpc_controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/sta_smc.html">controllers.sta_smc</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/swing_up_smc.html">controllers.swing_up_smc</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/__init__.html">controllers.<strong>init</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/base_controller_interface.html">controllers.base.controller_interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/base_control_primitives.html">controllers.base.control_primitives</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/base___init__.html">controllers.base.<strong>init</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/factory_deprecation.html">controllers.factory.deprecation</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/factory_fallback_configs.html">controllers.factory.fallback_configs</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/factory_legacy_factory.html">controllers.factory.legacy_factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/factory_optimization.html">controllers.factory.optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/factory_pso_integration.html">controllers.factory.pso_integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/factory_smc_factory.html">controllers.factory.smc_factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/factory_thread_safety.html">controllers.factory.thread_safety</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/factory___init__.html">controllers.factory.<strong>init</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/mpc_mpc_controller.html">controllers.mpc.mpc_controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/mpc___init__.html">controllers.mpc.<strong>init</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_adaptive_smc.html">controllers.smc.adaptive_smc</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_classic_smc.html">controllers.smc.classic_smc</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_hybrid_adaptive_sta_smc.html">controllers.smc.hybrid_adaptive_sta_smc</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_sta_smc.html">controllers.smc.sta_smc</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc___init__.html">controllers.smc.<strong>init</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/specialized_swing_up_smc.html">controllers.specialized.swing_up_smc</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/specialized___init__.html">controllers.specialized.<strong>init</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/factory_core_protocols.html">controllers.factory.core.protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/factory_core_registry.html">controllers.factory.core.registry</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/factory_core_threading.html">controllers.factory.core.threading</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/factory_core_validation.html">controllers.factory.core.validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/factory_core___init__.html">controllers.factory.core.<strong>init</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_algorithms___init__.html">controllers.smc.algorithms.<strong>init</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_core_equivalent_control.html">controllers.smc.core.equivalent_control</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_core_gain_validation.html">controllers.smc.core.gain_validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_core_sliding_surface.html">controllers.smc.core.sliding_surface</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_core_switching_functions.html">controllers.smc.core.switching_functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_core___init__.html">controllers.smc.core.<strong>init</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_algorithms_adaptive_adaptation_law.html">controllers.smc.algorithms.adaptive.adaptation_law</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_algorithms_adaptive_config.html">controllers.smc.algorithms.adaptive.config</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_algorithms_adaptive_controller.html">controllers.smc.algorithms.adaptive.controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_algorithms_adaptive_parameter_estimation.html">controllers.smc.algorithms.adaptive.parameter_estimation</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_algorithms_adaptive___init__.html">controllers.smc.algorithms.adaptive.<strong>init</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_algorithms_classical_boundary_layer.html">controllers.smc.algorithms.classical.boundary_layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_algorithms_classical_config.html">controllers.smc.algorithms.classical.config</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_algorithms_classical_controller.html">controllers.smc.algorithms.classical.controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_algorithms_classical___init__.html">controllers.smc.algorithms.classical.<strong>init</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_algorithms_hybrid_config.html">controllers.smc.algorithms.hybrid.config</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_algorithms_hybrid_controller.html">controllers.smc.algorithms.hybrid.controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_algorithms_hybrid_switching_logic.html">controllers.smc.algorithms.hybrid.switching_logic</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_algorithms_hybrid___init__.html">controllers.smc.algorithms.hybrid.<strong>init</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_algorithms_super_twisting_config.html">controllers.smc.algorithms.super_twisting.config</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_algorithms_super_twisting_controller.html">controllers.smc.algorithms.super_twisting.controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_algorithms_super_twisting_twisting_algorithm.html">controllers.smc.algorithms.super_twisting.twisting_algorithm</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_algorithms_super_twisting___init__.html">controllers.smc.algorithms.super_twisting.<strong>init</strong></a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="reference/optimizer/index.html">Optimizer Module</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Optimizer Module</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="reference/optimizer/pso_optimizer.html">optimizer.pso_optimizer</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/optimizer/__init__.html">optimizer.<strong>init</strong></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="analysis_plan.html">5. Analysis &amp; Verification Plan</a></li>
<li class="toctree-l1"><a class="reference internal" href="benchmarks_methodology.html">Benchmarks &amp; Methodology</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">🧪 Development &amp; Testing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="TESTING.html">Testing Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="test_protocols.html">5.x Test Protocols</a></li>
<li class="toctree-l1"><a class="reference internal" href="use_cases.html">4. Use Cases &amp; Operating Modes</a></li>
<li class="toctree-l1"><a class="reference internal" href="context.html">2. Application Context</a></li>
<li class="toctree-l1"><a class="reference internal" href="fault_detection_guide.html">Fault Detection &amp; Isolation (FDI) Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">📊 Research &amp; Theory</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="presentation/index.html">Research Presentation Materials</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Research Presentation Materials</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="presentation/introduction.html">Abstract</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/introduction.html#introduction-and-motivation">Introduction and Motivation</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/introduction.html#the-double-inverted-pendulum-as-a-canonical-control-problem">The Double Inverted Pendulum as a Canonical Control Problem</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/introduction.html#the-primary-control-objectives-and-challenges">The Primary Control Objectives and Challenges</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/introduction.html#sliding-mode-control-as-a-robust-solution">Sliding Mode Control as a Robust Solution</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/introduction.html#the-gain-tuning-dilemma-and-the-need-for-optimization">The Gain Tuning Dilemma and the Need for Optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/introduction.html#particle-swarm-optimization-for-automated-design">Particle Swarm Optimization for Automated Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/introduction.html#synthesis-and-motivation">Synthesis and Motivation</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/introduction.html#references">References</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/problem-statement.html">Problem Statement for Double‑Inverted Pendulum (DIP) Control with SMC and PSO</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/previous-works.html">Previous Work Before the Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/system-modeling.html"><strong>A Comprehensive Technical Report on the Modeling and Configuration of a Cart‑Based Double Inverted Pendulum System</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/smc-theory.html">Sliding Mode Control for a Double‑Inverted Pendulum: Bridging Theory and Implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/chattering-mitigation.html">Abstract</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/chattering-mitigation.html#introduction">1 Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/chattering-mitigation.html#system-modelling-and-problem-formulation">2 System Modelling and Problem Formulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/chattering-mitigation.html#simulation-methodology">3 Simulation Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/chattering-mitigation.html#classic-sliding-mode-control">4 Classic Sliding Mode Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/chattering-mitigation.html#chattering-mitigation-strategy-i-boundary-layer-method">5 Chattering Mitigation Strategy I: Boundary Layer Method</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/chattering-mitigation.html#chattering-mitigation-strategy-ii-supertwisting-algorithm">6 Chattering Mitigation Strategy II: Super‑Twisting Algorithm</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/chattering-mitigation.html#chattering-mitigation-strategy-iii-adaptive-sliding-mode-control">7 Chattering Mitigation Strategy III: Adaptive Sliding Mode Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/chattering-mitigation.html#chattering-mitigation-strategy-iv-hybrid-adaptivesta">8 Chattering Mitigation Strategy IV: Hybrid Adaptive–STA</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/chattering-mitigation.html#synthesis-and-comparative-analysis">9 Synthesis and Comparative Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/chattering-mitigation.html#references">References</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/pso-optimization.html"><strong>Comprehensive Simulation Analysis and Enhancements for the Double Inverted Pendulum Control System</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/simulation-setup.html">Particle Swarm Optimization for Sliding‑Mode Controller Tuning of a Double Inverted Pendulum</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/results-discussion.html">8 – Results and Discussion</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/results-discussion.html#references">References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="presentation/introduction.html">Abstract</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/introduction.html#introduction-and-motivation">Introduction and Motivation</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/introduction.html#the-double-inverted-pendulum-as-a-canonical-control-problem">The Double Inverted Pendulum as a Canonical Control Problem</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/introduction.html#the-primary-control-objectives-and-challenges">The Primary Control Objectives and Challenges</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/introduction.html#sliding-mode-control-as-a-robust-solution">Sliding Mode Control as a Robust Solution</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/introduction.html#the-gain-tuning-dilemma-and-the-need-for-optimization">The Gain Tuning Dilemma and the Need for Optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/introduction.html#particle-swarm-optimization-for-automated-design">Particle Swarm Optimization for Automated Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/introduction.html#synthesis-and-motivation">Synthesis and Motivation</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/introduction.html#references">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/problem-statement.html">Problem Statement for Double‑Inverted Pendulum (DIP) Control with SMC and PSO</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/previous-works.html">Previous Work Before the Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/system-modeling.html"><strong>A Comprehensive Technical Report on the Modeling and Configuration of a Cart‑Based Double Inverted Pendulum System</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/smc-theory.html">Sliding Mode Control for a Double‑Inverted Pendulum: Bridging Theory and Implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/chattering-mitigation.html">Abstract</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/chattering-mitigation.html#introduction">1 Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/chattering-mitigation.html#system-modelling-and-problem-formulation">2 System Modelling and Problem Formulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/chattering-mitigation.html#simulation-methodology">3 Simulation Methodology</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/chattering-mitigation.html#classic-sliding-mode-control">4 Classic Sliding Mode Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/chattering-mitigation.html#chattering-mitigation-strategy-i-boundary-layer-method">5 Chattering Mitigation Strategy I: Boundary Layer Method</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/chattering-mitigation.html#chattering-mitigation-strategy-ii-supertwisting-algorithm">6 Chattering Mitigation Strategy II: Super‑Twisting Algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/chattering-mitigation.html#chattering-mitigation-strategy-iii-adaptive-sliding-mode-control">7 Chattering Mitigation Strategy III: Adaptive Sliding Mode Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/chattering-mitigation.html#chattering-mitigation-strategy-iv-hybrid-adaptivesta">8 Chattering Mitigation Strategy IV: Hybrid Adaptive–STA</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/chattering-mitigation.html#synthesis-and-comparative-analysis">9 Synthesis and Comparative Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/chattering-mitigation.html#references">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/pso-optimization.html"><strong>Comprehensive Simulation Analysis and Enhancements for the Double Inverted Pendulum Control System</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/simulation-setup.html">Particle Swarm Optimization for Sliding‑Mode Controller Tuning of a Double Inverted Pendulum</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/results-discussion.html">8 – Results and Discussion</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/results-discussion.html#references">References</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">📖 API Reference &amp; Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api/index.html">API Reference Documentation</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="examples/index.html">Examples</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of Examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">Bibliography &amp; Academic References</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">🔧 Project Management</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="CONTRIBUTING.html">Contributing – ResearchPlanSpec Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="RELEASE_CHECKLIST.html">Release Checklist</a></li>
<li class="toctree-l1"><a class="reference internal" href="CHANGELOG.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="symbols.html">Symbols &amp; Units</a></li>
<li class="toctree-l1"><a class="reference internal" href="results_readme.html">Results &amp; Plots</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">📚 Citations &amp; Attribution</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="CITATIONS.html">Citations &amp; Academic Attribution</a></li>
<li class="toctree-l1"><a class="reference internal" href="CITATIONS_ACADEMIC.html">Academic Theory Citations &amp; References</a></li>
<li class="toctree-l1"><a class="reference internal" href="DEPENDENCIES.html">Software Dependencies &amp; Citations</a></li>
<li class="toctree-l1"><a class="reference internal" href="PATTERNS.html">Software Design Patterns &amp; Architecture Attribution</a></li>
<li class="toctree-l1"><a class="reference internal" href="LICENSES.html">License Compliance &amp; Attribution</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="https://github.com/theSadeQ/DIP_SMC_PSO/blob/main/docs/pso_factory_integration_patterns.md?plain=true" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div><div class="edit-this-page">
  <a class="muted-link" href="https://github.com/theSadeQ/DIP_SMC_PSO/edit/main/docs/pso_factory_integration_patterns.md" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <p>#==========================================================================================\<br />
#==================== docs/pso_factory_integration_patterns.md ======================\<br />
#==========================================================================================\</p>
<section class="tex2jax_ignore mathjax_ignore" id="pso-factory-integration-patterns-documentation">
<h1>PSO-Factory Integration Patterns Documentation<a class="headerlink" href="#pso-factory-integration-patterns-documentation" title="Link to this heading">¶</a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">¶</a></h2>
<p>This document provides comprehensive guidance on integrating the factory system with Particle Swarm Optimization (PSO) workflows. The DIP SMC-PSO project features native PSO integration patterns that streamline controller optimization while maintaining scientific rigor and performance.</p>
</section>
<section id="table-of-contents">
<h2>Table of Contents<a class="headerlink" href="#table-of-contents" title="Link to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#pso-integration-architecture">PSO Integration Architecture</a></p></li>
<li><p><a class="reference internal" href="#controller-factory-patterns">Controller Factory Patterns</a></p></li>
<li><p><a class="reference internal" href="#gain-optimization-workflows">Gain Optimization Workflows</a></p></li>
<li><p><a class="reference internal" href="#performance-optimization">Performance Optimization</a></p></li>
<li><p><a class="reference internal" href="#scientific-validation">Scientific Validation</a></p></li>
<li><p><a class="reference internal" href="#advanced-pso-patterns">Advanced PSO Patterns</a></p></li>
<li><p><a class="reference internal" href="#best-practices">Best Practices</a></p></li>
<li><p><a class="reference internal" href="#examples-and-use-cases">Examples and Use Cases</a></p></li>
</ol>
</section>
<hr class="docutils" />
<section id="pso-integration-architecture">
<h2>PSO Integration Architecture<a class="headerlink" href="#pso-integration-architecture" title="Link to this heading">¶</a></h2>
<section id="design-philosophy">
<h3>Design Philosophy<a class="headerlink" href="#design-philosophy" title="Link to this heading">¶</a></h3>
<p>The PSO integration follows several key principles:</p>
<ol class="arabic simple">
<li><p><strong>Native Integration</strong>: PSO optimization is a first-class citizen in the factory system</p></li>
<li><p><strong>Performance Optimized</strong>: Minimal overhead for PSO fitness evaluation loops</p></li>
<li><p><strong>Type Safety</strong>: Full type safety with domain-specific validation</p></li>
<li><p><strong>Scientific Rigor</strong>: Control theory-based gain bounds and validation</p></li>
<li><p><strong>Flexible Configuration</strong>: Support for various PSO algorithms and strategies</p></li>
</ol>
</section>
<section id="architecture-overview">
<h3>Architecture Overview<a class="headerlink" href="#architecture-overview" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">PSO</span> <span class="n">Integration</span> <span class="n">Layer</span>
<span class="err">├──</span> <span class="n">Factory</span> <span class="n">Functions</span>
<span class="err">│</span>   <span class="err">├──</span> <span class="n">create_smc_for_pso</span><span class="p">()</span>           <span class="c1"># Direct controller creation for PSO</span>
<span class="err">│</span>   <span class="err">├──</span> <span class="n">create_pso_controller_factory</span><span class="p">()</span> <span class="c1"># Factory function creation</span>
<span class="err">│</span>   <span class="err">└──</span> <span class="n">create_all_smc_controllers</span><span class="p">()</span>    <span class="c1"># Batch controller creation</span>
<span class="err">├──</span> <span class="n">Wrapper</span> <span class="n">System</span>
<span class="err">│</span>   <span class="err">├──</span> <span class="n">PSOControllerWrapper</span>           <span class="c1"># PSO-compatible interface wrapper</span>
<span class="err">│</span>   <span class="err">├──</span> <span class="n">gain</span> <span class="n">validation</span> <span class="n">methods</span>        <span class="c1"># Domain-specific validation</span>
<span class="err">│</span>   <span class="err">└──</span> <span class="n">standardized</span> <span class="n">compute_control</span>   <span class="c1"># Unified control computation</span>
<span class="err">├──</span> <span class="n">Gain</span> <span class="n">Management</span>
<span class="err">│</span>   <span class="err">├──</span> <span class="n">get_gain_bounds_for_pso</span><span class="p">()</span>      <span class="c1"># Control theory-based bounds</span>
<span class="err">│</span>   <span class="err">├──</span> <span class="n">validate_smc_gains</span><span class="p">()</span>           <span class="c1"># Pre-optimization validation</span>
<span class="err">│</span>   <span class="err">└──</span> <span class="n">SMC_GAIN_SPECS</span>                 <span class="c1"># Complete gain specifications</span>
<span class="err">└──</span> <span class="n">Configuration</span> <span class="n">Integration</span>
    <span class="err">├──</span> <span class="n">PSO</span> <span class="n">parameter</span> <span class="n">resolution</span>       <span class="c1"># Multi-source parameter resolution</span>
    <span class="err">├──</span> <span class="n">optimization</span><span class="o">-</span><span class="n">specific</span> <span class="n">configs</span>  <span class="c1"># PSO-optimized configurations</span>
    <span class="err">└──</span> <span class="n">performance</span> <span class="n">monitoring</span>         <span class="c1"># Real-time optimization metrics</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="controller-factory-patterns">
<h2>Controller Factory Patterns<a class="headerlink" href="#controller-factory-patterns" title="Link to this heading">¶</a></h2>
<section id="pattern-1-direct-controller-creation">
<h3>Pattern 1: Direct Controller Creation<a class="headerlink" href="#pattern-1-direct-controller-creation" title="Link to this heading">¶</a></h3>
<p><strong>Use Case:</strong> Simple PSO fitness functions with straightforward controller evaluation.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">src.controllers.factory</span><span class="w"> </span><span class="kn">import</span> <span class="n">create_smc_for_pso</span><span class="p">,</span> <span class="n">SMCType</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="k">def</span><span class="w"> </span><span class="nf">simple_fitness_function</span><span class="p">(</span><span class="n">gains_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Simple PSO fitness evaluation using direct controller creation.&quot;&quot;&quot;</span>

    <span class="c1"># Create controller directly from gains</span>
    <span class="n">controller</span> <span class="o">=</span> <span class="n">create_smc_for_pso</span><span class="p">(</span>
        <span class="n">SMCType</span><span class="o">.</span><span class="n">CLASSICAL</span><span class="p">,</span>
        <span class="n">gains</span><span class="o">=</span><span class="n">gains_array</span><span class="p">,</span>
        <span class="n">max_force</span><span class="o">=</span><span class="mf">150.0</span><span class="p">,</span>
        <span class="n">dt</span><span class="o">=</span><span class="mf">0.001</span>
    <span class="p">)</span>

    <span class="c1"># Evaluate controller performance</span>
    <span class="n">performance_metrics</span> <span class="o">=</span> <span class="n">evaluate_controller_performance</span><span class="p">(</span><span class="n">controller</span><span class="p">)</span>

    <span class="c1"># Return fitness value (minimize)</span>
    <span class="k">return</span> <span class="n">performance_metrics</span><span class="p">[</span><span class="s1">&#39;total_cost&#39;</span><span class="p">]</span>

<span class="c1"># PSO optimization setup</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">src.optimization.algorithms.pso_optimizer</span><span class="w"> </span><span class="kn">import</span> <span class="n">PSOTuner</span>

<span class="n">bounds</span> <span class="o">=</span> <span class="n">get_gain_bounds_for_pso</span><span class="p">(</span><span class="n">SMCType</span><span class="o">.</span><span class="n">CLASSICAL</span><span class="p">)</span>
<span class="n">tuner</span> <span class="o">=</span> <span class="n">PSOTuner</span><span class="p">(</span>
    <span class="n">controller_factory</span><span class="o">=</span><span class="n">simple_fitness_function</span><span class="p">,</span>
    <span class="n">config</span><span class="o">=</span><span class="n">config</span>
<span class="p">)</span>
<span class="n">best_gains</span><span class="p">,</span> <span class="n">best_fitness</span> <span class="o">=</span> <span class="n">tuner</span><span class="o">.</span><span class="n">optimize</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>Advantages:</strong></p>
<ul class="simple">
<li><p>✅ Simple and straightforward</p></li>
<li><p>✅ Minimal setup code</p></li>
<li><p>✅ Direct control over parameters</p></li>
</ul>
<p><strong>Disadvantages:</strong></p>
<ul class="simple">
<li><p>❌ Recreates factory overhead for each evaluation</p></li>
<li><p>❌ Less efficient for high-frequency PSO calls</p></li>
</ul>
</section>
<section id="pattern-2-factory-function-pattern-recommended">
<h3>Pattern 2: Factory Function Pattern (Recommended)<a class="headerlink" href="#pattern-2-factory-function-pattern-recommended" title="Link to this heading">¶</a></h3>
<p><strong>Use Case:</strong> High-performance PSO optimization with thousands of fitness evaluations.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">src.controllers.factory</span><span class="w"> </span><span class="kn">import</span> <span class="n">create_pso_controller_factory</span><span class="p">,</span> <span class="n">SMCType</span>

<span class="k">def</span><span class="w"> </span><span class="nf">optimized_pso_workflow</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;High-performance PSO workflow using factory function pattern.&quot;&quot;&quot;</span>

    <span class="c1"># Create factory function once (expensive operation)</span>
    <span class="n">controller_factory</span> <span class="o">=</span> <span class="n">create_pso_controller_factory</span><span class="p">(</span>
        <span class="n">SMCType</span><span class="o">.</span><span class="n">CLASSICAL</span><span class="p">,</span>
        <span class="n">plant_config</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">physics</span><span class="p">,</span>
        <span class="n">max_force</span><span class="o">=</span><span class="mf">150.0</span><span class="p">,</span>
        <span class="n">dt</span><span class="o">=</span><span class="mf">0.001</span>
    <span class="p">)</span>

    <span class="c1"># Factory function has required PSO attributes</span>
    <span class="k">assert</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">controller_factory</span><span class="p">,</span> <span class="s1">&#39;n_gains&#39;</span><span class="p">)</span>         <span class="c1"># Number of gains required</span>
    <span class="k">assert</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">controller_factory</span><span class="p">,</span> <span class="s1">&#39;controller_type&#39;</span><span class="p">)</span> <span class="c1"># Controller type string</span>
    <span class="k">assert</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">controller_factory</span><span class="p">,</span> <span class="s1">&#39;max_force&#39;</span><span class="p">)</span>       <span class="c1"># Force saturation limit</span>

    <span class="c1"># Define fitness function using pre-created factory</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">fitness_function</span><span class="p">(</span><span class="n">gains_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Fast fitness evaluation using factory function.&quot;&quot;&quot;</span>

        <span class="c1"># Create controller (fast operation)</span>
        <span class="n">controller</span> <span class="o">=</span> <span class="n">controller_factory</span><span class="p">(</span><span class="n">gains_array</span><span class="p">)</span>

        <span class="c1"># Evaluate performance</span>
        <span class="k">return</span> <span class="n">evaluate_controller_performance</span><span class="p">(</span><span class="n">controller</span><span class="p">)[</span><span class="s1">&#39;total_cost&#39;</span><span class="p">]</span>

    <span class="c1"># PSO optimization with optimized factory</span>
    <span class="n">tuner</span> <span class="o">=</span> <span class="n">PSOTuner</span><span class="p">(</span>
        <span class="n">controller_factory</span><span class="o">=</span><span class="n">fitness_function</span><span class="p">,</span>
        <span class="n">config</span><span class="o">=</span><span class="n">config</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">tuner</span><span class="o">.</span><span class="n">optimize</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>Advantages:</strong></p>
<ul class="simple">
<li><p>✅ Maximum performance for PSO loops</p></li>
<li><p>✅ Factory overhead paid only once</p></li>
<li><p>✅ Built-in PSO metadata (n_gains, controller_type)</p></li>
<li><p>✅ Thread-safe operation</p></li>
</ul>
<p><strong>Disadvantages:</strong></p>
<ul class="simple">
<li><p>❌ Slightly more complex setup</p></li>
</ul>
</section>
<section id="pattern-3-batch-controller-creation">
<h3>Pattern 3: Batch Controller Creation<a class="headerlink" href="#pattern-3-batch-controller-creation" title="Link to this heading">¶</a></h3>
<p><strong>Use Case:</strong> Comparative studies, batch optimization, multi-objective PSO.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">src.controllers.factory</span><span class="w"> </span><span class="kn">import</span> <span class="n">create_all_smc_controllers</span>

<span class="k">def</span><span class="w"> </span><span class="nf">multi_controller_optimization</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Optimize gains for multiple controller types simultaneously.&quot;&quot;&quot;</span>

    <span class="c1"># Define gain sets for all controller types</span>
    <span class="n">gains_dict</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;classical&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">20.0</span><span class="p">,</span> <span class="mf">15.0</span><span class="p">,</span> <span class="mf">12.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">35.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">],</span>
        <span class="s1">&#39;adaptive&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">25.0</span><span class="p">,</span> <span class="mf">18.0</span><span class="p">,</span> <span class="mf">15.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">],</span>
        <span class="s1">&#39;sta&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">25.0</span><span class="p">,</span> <span class="mf">15.0</span><span class="p">,</span> <span class="mf">20.0</span><span class="p">,</span> <span class="mf">12.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">],</span>
        <span class="s1">&#39;hybrid&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">18.0</span><span class="p">,</span> <span class="mf">12.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">]</span>
    <span class="p">}</span>

    <span class="c1"># Create all controllers efficiently</span>
    <span class="n">controllers</span> <span class="o">=</span> <span class="n">create_all_smc_controllers</span><span class="p">(</span>
        <span class="n">gains_dict</span><span class="p">,</span>
        <span class="n">max_force</span><span class="o">=</span><span class="mf">150.0</span><span class="p">,</span>
        <span class="n">dt</span><span class="o">=</span><span class="mf">0.001</span>
    <span class="p">)</span>

    <span class="c1"># Evaluate all controllers</span>
    <span class="n">performance_results</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">controller_type</span><span class="p">,</span> <span class="n">controller</span> <span class="ow">in</span> <span class="n">controllers</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">performance_results</span><span class="p">[</span><span class="n">controller_type</span><span class="p">]</span> <span class="o">=</span> <span class="n">evaluate_controller_performance</span><span class="p">(</span><span class="n">controller</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">performance_results</span>

<span class="k">def</span><span class="w"> </span><span class="nf">parallel_multi_objective_pso</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Multi-objective PSO across different controller types.&quot;&quot;&quot;</span>

    <span class="n">controller_types</span> <span class="o">=</span> <span class="p">[</span><span class="n">SMCType</span><span class="o">.</span><span class="n">CLASSICAL</span><span class="p">,</span> <span class="n">SMCType</span><span class="o">.</span><span class="n">ADAPTIVE</span><span class="p">,</span> <span class="n">SMCType</span><span class="o">.</span><span class="n">SUPER_TWISTING</span><span class="p">]</span>

    <span class="c1"># Create factory functions for each type</span>
    <span class="n">factories</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">ctrl_type</span><span class="p">:</span> <span class="n">create_pso_controller_factory</span><span class="p">(</span><span class="n">ctrl_type</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">ctrl_type</span> <span class="ow">in</span> <span class="n">controller_types</span>
    <span class="p">}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">multi_objective_fitness</span><span class="p">(</span><span class="n">gains_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Multi-objective fitness evaluation.&quot;&quot;&quot;</span>
        <span class="n">objectives</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">ctrl_type</span><span class="p">,</span> <span class="n">gains</span> <span class="ow">in</span> <span class="n">gains_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">controller</span> <span class="o">=</span> <span class="n">factories</span><span class="p">[</span><span class="n">ctrl_type</span><span class="p">](</span><span class="n">gains</span><span class="p">)</span>
            <span class="n">performance</span> <span class="o">=</span> <span class="n">evaluate_controller_performance</span><span class="p">(</span><span class="n">controller</span><span class="p">)</span>
            <span class="n">objectives</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">performance</span><span class="p">[</span><span class="s1">&#39;total_cost&#39;</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">objectives</span>  <span class="c1"># Pareto optimization</span>

    <span class="c1"># Run multi-objective PSO</span>
    <span class="k">return</span> <span class="n">run_multi_objective_pso</span><span class="p">(</span><span class="n">multi_objective_fitness</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Advantages:</strong></p>
<ul class="simple">
<li><p>✅ Efficient for multiple controller types</p></li>
<li><p>✅ Unified configuration management</p></li>
<li><p>✅ Parallel evaluation support</p></li>
</ul>
</section>
</section>
<hr class="docutils" />
<section id="gain-optimization-workflows">
<h2>Gain Optimization Workflows<a class="headerlink" href="#gain-optimization-workflows" title="Link to this heading">¶</a></h2>
<section id="basic-pso-workflow">
<h3>Basic PSO Workflow<a class="headerlink" href="#basic-pso-workflow" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># example-metadata:</span>
<span class="c1"># runnable: false</span>

<span class="k">def</span><span class="w"> </span><span class="nf">basic_pso_optimization</span><span class="p">(</span><span class="n">controller_type</span><span class="p">:</span> <span class="n">SMCType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Standard PSO optimization workflow for SMC controllers.&quot;&quot;&quot;</span>

    <span class="c1"># Step 1: Get gain bounds based on control theory</span>
    <span class="n">lower_bounds</span><span class="p">,</span> <span class="n">upper_bounds</span> <span class="o">=</span> <span class="n">get_gain_bounds_for_pso</span><span class="p">(</span><span class="n">controller_type</span><span class="p">)</span>

    <span class="c1"># Step 2: Create optimized factory function</span>
    <span class="n">controller_factory</span> <span class="o">=</span> <span class="n">create_pso_controller_factory</span><span class="p">(</span>
        <span class="n">controller_type</span><span class="p">,</span>
        <span class="n">plant_config</span><span class="o">=</span><span class="n">load_config</span><span class="p">(</span><span class="s2">&quot;config.yaml&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">physics</span>
    <span class="p">)</span>

    <span class="c1"># Step 3: Define fitness function with validation</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">fitness_function</span><span class="p">(</span><span class="n">gains</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;PSO fitness function with robust error handling.&quot;&quot;&quot;</span>

        <span class="c1"># Pre-validate gains</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">validate_smc_gains</span><span class="p">(</span><span class="n">controller_type</span><span class="p">,</span> <span class="n">gains</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)</span>  <span class="c1"># Invalid gains get worst fitness</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Create controller</span>
            <span class="n">controller</span> <span class="o">=</span> <span class="n">controller_factory</span><span class="p">(</span><span class="n">gains</span><span class="p">)</span>

            <span class="c1"># Evaluate performance</span>
            <span class="n">metrics</span> <span class="o">=</span> <span class="n">evaluate_controller_performance</span><span class="p">(</span><span class="n">controller</span><span class="p">)</span>

            <span class="c1"># Combine multiple objectives</span>
            <span class="n">fitness</span> <span class="o">=</span> <span class="p">(</span>
                <span class="mf">0.4</span> <span class="o">*</span> <span class="n">metrics</span><span class="p">[</span><span class="s1">&#39;control_effort&#39;</span><span class="p">]</span> <span class="o">+</span>
                <span class="mf">0.3</span> <span class="o">*</span> <span class="n">metrics</span><span class="p">[</span><span class="s1">&#39;tracking_error&#39;</span><span class="p">]</span> <span class="o">+</span>
                <span class="mf">0.2</span> <span class="o">*</span> <span class="n">metrics</span><span class="p">[</span><span class="s1">&#39;settling_time&#39;</span><span class="p">]</span> <span class="o">+</span>
                <span class="mf">0.1</span> <span class="o">*</span> <span class="n">metrics</span><span class="p">[</span><span class="s1">&#39;overshoot_penalty&#39;</span><span class="p">]</span>
            <span class="p">)</span>

            <span class="k">return</span> <span class="n">fitness</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Controller evaluation failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)</span>

    <span class="c1"># Step 4: Configure and run PSO</span>
    <span class="n">pso_config</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;n_particles&#39;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
        <span class="s1">&#39;max_iter&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
        <span class="s1">&#39;bounds&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">lower_bounds</span><span class="p">,</span> <span class="n">upper_bounds</span><span class="p">),</span>
        <span class="s1">&#39;w&#39;</span><span class="p">:</span> <span class="mf">0.9</span><span class="p">,</span>       <span class="c1"># Inertia weight</span>
        <span class="s1">&#39;c1&#39;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>      <span class="c1"># Cognitive coefficient</span>
        <span class="s1">&#39;c2&#39;</span><span class="p">:</span> <span class="mf">2.0</span>       <span class="c1"># Social coefficient</span>
    <span class="p">}</span>

    <span class="n">tuner</span> <span class="o">=</span> <span class="n">PSOTuner</span><span class="p">(</span>
        <span class="n">controller_factory</span><span class="o">=</span><span class="n">fitness_function</span><span class="p">,</span>
        <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span>
        <span class="o">**</span><span class="n">pso_config</span>
    <span class="p">)</span>

    <span class="c1"># Step 5: Run optimization</span>
    <span class="n">best_gains</span><span class="p">,</span> <span class="n">best_fitness</span> <span class="o">=</span> <span class="n">tuner</span><span class="o">.</span><span class="n">optimize</span><span class="p">()</span>

    <span class="c1"># Step 6: Validate results</span>
    <span class="n">final_controller</span> <span class="o">=</span> <span class="n">controller_factory</span><span class="p">(</span><span class="n">best_gains</span><span class="p">)</span>
    <span class="n">final_metrics</span> <span class="o">=</span> <span class="n">evaluate_controller_performance</span><span class="p">(</span><span class="n">final_controller</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Optimization complete:&quot;</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Best gains: </span><span class="si">{</span><span class="n">best_gains</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Best fitness: </span><span class="si">{</span><span class="n">best_fitness</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Final metrics: </span><span class="si">{</span><span class="n">final_metrics</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">best_gains</span><span class="p">,</span> <span class="n">best_fitness</span>
</pre></div>
</div>
</section>
<section id="advanced-pso-workflow-with-constraints">
<h3>Advanced PSO Workflow with Constraints<a class="headerlink" href="#advanced-pso-workflow-with-constraints" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># example-metadata:</span>
<span class="c1"># runnable: false</span>

<span class="k">def</span><span class="w"> </span><span class="nf">constrained_pso_optimization</span><span class="p">(</span><span class="n">controller_type</span><span class="p">:</span> <span class="n">SMCType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Advanced PSO with stability constraints and adaptive bounds.&quot;&quot;&quot;</span>

    <span class="c1"># Get base bounds</span>
    <span class="n">lower_bounds</span><span class="p">,</span> <span class="n">upper_bounds</span> <span class="o">=</span> <span class="n">get_gain_bounds_for_pso</span><span class="p">(</span><span class="n">controller_type</span><span class="p">)</span>

    <span class="c1"># Create constraint functions based on control theory</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">stability_constraint</span><span class="p">(</span><span class="n">gains</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Verify closed-loop stability constraints.&quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">controller_type</span> <span class="o">==</span> <span class="n">SMCType</span><span class="o">.</span><span class="n">CLASSICAL</span><span class="p">:</span>
            <span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">,</span> <span class="n">lam1</span><span class="p">,</span> <span class="n">lam2</span><span class="p">,</span> <span class="n">K</span><span class="p">,</span> <span class="n">kd</span> <span class="o">=</span> <span class="n">gains</span>

            <span class="c1"># Sliding surface stability (Hurwitz condition)</span>
            <span class="k">if</span> <span class="n">lam1</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">lam2</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>

            <span class="c1"># Reaching condition constraint</span>
            <span class="k">if</span> <span class="n">K</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>

            <span class="c1"># Practical stability margins</span>
            <span class="k">if</span> <span class="n">lam1</span><span class="o">/</span><span class="n">k1</span> <span class="o">&gt;</span> <span class="mi">20</span> <span class="ow">or</span> <span class="n">lam2</span><span class="o">/</span><span class="n">k2</span> <span class="o">&gt;</span> <span class="mi">20</span><span class="p">:</span>  <span class="c1"># Avoid overly aggressive surfaces</span>
                <span class="k">return</span> <span class="kc">False</span>

            <span class="c1"># Chattering prevention</span>
            <span class="k">if</span> <span class="n">K</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">:</span>  <span class="c1"># Excessive switching gain</span>
                <span class="k">return</span> <span class="kc">False</span>

        <span class="k">elif</span> <span class="n">controller_type</span> <span class="o">==</span> <span class="n">SMCType</span><span class="o">.</span><span class="n">ADAPTIVE</span><span class="p">:</span>
            <span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">,</span> <span class="n">lam1</span><span class="p">,</span> <span class="n">lam2</span><span class="p">,</span> <span class="n">gamma</span> <span class="o">=</span> <span class="n">gains</span>

            <span class="c1"># Adaptation rate constraints</span>
            <span class="k">if</span> <span class="n">gamma</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">gamma</span> <span class="o">&gt;</span> <span class="mi">20</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>

            <span class="c1"># Surface stability</span>
            <span class="k">if</span> <span class="n">lam1</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">lam2</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="kc">True</span>

    <span class="c1"># Create factory with constraint checking</span>
    <span class="n">base_factory</span> <span class="o">=</span> <span class="n">create_pso_controller_factory</span><span class="p">(</span><span class="n">controller_type</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">constrained_factory</span><span class="p">(</span><span class="n">gains</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Factory with built-in constraint checking.&quot;&quot;&quot;</span>

        <span class="c1"># Check stability constraints</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">stability_constraint</span><span class="p">(</span><span class="n">gains</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Stability constraints violated&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">base_factory</span><span class="p">(</span><span class="n">gains</span><span class="p">)</span>

    <span class="c1"># Enhanced fitness function</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">constrained_fitness_function</span><span class="p">(</span><span class="n">gains</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Fitness function with constraint penalties.&quot;&quot;&quot;</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Check basic validity</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">validate_smc_gains</span><span class="p">(</span><span class="n">controller_type</span><span class="p">,</span> <span class="n">gains</span><span class="p">):</span>
                <span class="k">return</span> <span class="mf">1e6</span>

            <span class="c1"># Check stability constraints</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">stability_constraint</span><span class="p">(</span><span class="n">gains</span><span class="p">):</span>
                <span class="k">return</span> <span class="mf">1e6</span>

            <span class="c1"># Create and evaluate controller</span>
            <span class="n">controller</span> <span class="o">=</span> <span class="n">constrained_factory</span><span class="p">(</span><span class="n">gains</span><span class="p">)</span>
            <span class="n">metrics</span> <span class="o">=</span> <span class="n">evaluate_controller_performance</span><span class="p">(</span><span class="n">controller</span><span class="p">)</span>

            <span class="c1"># Multi-objective fitness with penalties</span>
            <span class="n">base_fitness</span> <span class="o">=</span> <span class="p">(</span>
                <span class="mf">0.4</span> <span class="o">*</span> <span class="n">metrics</span><span class="p">[</span><span class="s1">&#39;ise&#39;</span><span class="p">]</span> <span class="o">+</span>                    <span class="c1"># Control performance</span>
                <span class="mf">0.3</span> <span class="o">*</span> <span class="n">metrics</span><span class="p">[</span><span class="s1">&#39;settling_time&#39;</span><span class="p">]</span> <span class="o">+</span>          <span class="c1"># Speed</span>
                <span class="mf">0.2</span> <span class="o">*</span> <span class="n">metrics</span><span class="p">[</span><span class="s1">&#39;control_effort&#39;</span><span class="p">]</span> <span class="o">+</span>         <span class="c1"># Efficiency</span>
                <span class="mf">0.1</span> <span class="o">*</span> <span class="n">metrics</span><span class="p">[</span><span class="s1">&#39;overshoot&#39;</span><span class="p">]</span>                <span class="c1"># Stability margin</span>
            <span class="p">)</span>

            <span class="c1"># Add constraint penalties</span>
            <span class="n">penalty</span> <span class="o">=</span> <span class="mf">0.0</span>

            <span class="c1"># Chattering penalty</span>
            <span class="k">if</span> <span class="s1">&#39;chattering_index&#39;</span> <span class="ow">in</span> <span class="n">metrics</span> <span class="ow">and</span> <span class="n">metrics</span><span class="p">[</span><span class="s1">&#39;chattering_index&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mf">0.1</span><span class="p">:</span>
                <span class="n">penalty</span> <span class="o">+=</span> <span class="mi">100</span> <span class="o">*</span> <span class="n">metrics</span><span class="p">[</span><span class="s1">&#39;chattering_index&#39;</span><span class="p">]</span>

            <span class="c1"># Control saturation penalty</span>
            <span class="k">if</span> <span class="s1">&#39;saturation_ratio&#39;</span> <span class="ow">in</span> <span class="n">metrics</span> <span class="ow">and</span> <span class="n">metrics</span><span class="p">[</span><span class="s1">&#39;saturation_ratio&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mf">0.05</span><span class="p">:</span>
                <span class="n">penalty</span> <span class="o">+=</span> <span class="mi">50</span> <span class="o">*</span> <span class="n">metrics</span><span class="p">[</span><span class="s1">&#39;saturation_ratio&#39;</span><span class="p">]</span>

            <span class="k">return</span> <span class="n">base_fitness</span> <span class="o">+</span> <span class="n">penalty</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">return</span> <span class="mf">1e6</span>  <span class="c1"># Severe penalty for failed evaluations</span>

    <span class="c1"># Adaptive PSO configuration</span>
    <span class="n">adaptive_config</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;n_particles&#39;</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span>
        <span class="s1">&#39;max_iter&#39;</span><span class="p">:</span> <span class="mi">150</span><span class="p">,</span>
        <span class="s1">&#39;bounds&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">lower_bounds</span><span class="p">,</span> <span class="n">upper_bounds</span><span class="p">),</span>
        <span class="s1">&#39;w&#39;</span><span class="p">:</span> <span class="mf">0.9</span><span class="p">,</span>
        <span class="s1">&#39;c1&#39;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
        <span class="s1">&#39;c2&#39;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
        <span class="s1">&#39;early_stopping&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s1">&#39;patience&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
        <span class="s1">&#39;min_improvement&#39;</span><span class="p">:</span> <span class="mf">1e-6</span>
    <span class="p">}</span>

    <span class="c1"># Run constrained optimization</span>
    <span class="n">tuner</span> <span class="o">=</span> <span class="n">PSOTuner</span><span class="p">(</span>
        <span class="n">controller_factory</span><span class="o">=</span><span class="n">constrained_fitness_function</span><span class="p">,</span>
        <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span>
        <span class="o">**</span><span class="n">adaptive_config</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">tuner</span><span class="o">.</span><span class="n">optimize</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="multi-stage-pso-optimization">
<h3>Multi-Stage PSO Optimization<a class="headerlink" href="#multi-stage-pso-optimization" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># example-metadata:</span>
<span class="c1"># runnable: false</span>

<span class="k">def</span><span class="w"> </span><span class="nf">multi_stage_pso_optimization</span><span class="p">(</span><span class="n">controller_type</span><span class="p">:</span> <span class="n">SMCType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Multi-stage PSO with progressive refinement.&quot;&quot;&quot;</span>

    <span class="c1"># Stage 1: Coarse optimization with wide bounds</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Stage 1: Coarse optimization&quot;</span><span class="p">)</span>

    <span class="n">lower_bounds</span><span class="p">,</span> <span class="n">upper_bounds</span> <span class="o">=</span> <span class="n">get_gain_bounds_for_pso</span><span class="p">(</span><span class="n">controller_type</span><span class="p">)</span>

    <span class="c1"># Expand bounds for exploration</span>
    <span class="n">exploration_lower</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.5</span> <span class="o">*</span> <span class="n">lb</span> <span class="k">for</span> <span class="n">lb</span> <span class="ow">in</span> <span class="n">lower_bounds</span><span class="p">]</span>
    <span class="n">exploration_upper</span> <span class="o">=</span> <span class="p">[</span><span class="mf">2.0</span> <span class="o">*</span> <span class="n">ub</span> <span class="k">for</span> <span class="n">ub</span> <span class="ow">in</span> <span class="n">upper_bounds</span><span class="p">]</span>

    <span class="n">coarse_config</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;n_particles&#39;</span><span class="p">:</span> <span class="mi">40</span><span class="p">,</span>
        <span class="s1">&#39;max_iter&#39;</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span>
        <span class="s1">&#39;bounds&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">exploration_lower</span><span class="p">,</span> <span class="n">exploration_upper</span><span class="p">),</span>
        <span class="s1">&#39;w&#39;</span><span class="p">:</span> <span class="mf">0.9</span><span class="p">,</span>  <span class="c1"># High inertia for exploration</span>
        <span class="s1">&#39;c1&#39;</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>
        <span class="s1">&#39;c2&#39;</span><span class="p">:</span> <span class="mf">1.5</span>
    <span class="p">}</span>

    <span class="n">coarse_factory</span> <span class="o">=</span> <span class="n">create_pso_controller_factory</span><span class="p">(</span><span class="n">controller_type</span><span class="p">)</span>
    <span class="n">coarse_tuner</span> <span class="o">=</span> <span class="n">PSOTuner</span><span class="p">(</span>
        <span class="n">controller_factory</span><span class="o">=</span><span class="k">lambda</span> <span class="n">gains</span><span class="p">:</span> <span class="n">evaluate_basic_performance</span><span class="p">(</span><span class="n">coarse_factory</span><span class="p">(</span><span class="n">gains</span><span class="p">)),</span>
        <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span>
        <span class="o">**</span><span class="n">coarse_config</span>
    <span class="p">)</span>

    <span class="n">stage1_gains</span><span class="p">,</span> <span class="n">stage1_fitness</span> <span class="o">=</span> <span class="n">coarse_tuner</span><span class="o">.</span><span class="n">optimize</span><span class="p">()</span>

    <span class="c1"># Stage 2: Fine optimization around best solution</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Stage 2: Fine optimization&quot;</span><span class="p">)</span>

    <span class="c1"># Narrow bounds around stage 1 result</span>
    <span class="n">bound_margin</span> <span class="o">=</span> <span class="mf">0.2</span>  <span class="c1"># 20% margin</span>
    <span class="n">fine_lower</span> <span class="o">=</span> <span class="p">[</span><span class="nb">max</span><span class="p">(</span><span class="n">lb</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">bound_margin</span><span class="p">)</span> <span class="o">*</span> <span class="n">g</span><span class="p">)</span> <span class="k">for</span> <span class="n">lb</span><span class="p">,</span> <span class="n">g</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">lower_bounds</span><span class="p">,</span> <span class="n">stage1_gains</span><span class="p">)]</span>
    <span class="n">fine_upper</span> <span class="o">=</span> <span class="p">[</span><span class="nb">min</span><span class="p">(</span><span class="n">ub</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">bound_margin</span><span class="p">)</span> <span class="o">*</span> <span class="n">g</span><span class="p">)</span> <span class="k">for</span> <span class="n">ub</span><span class="p">,</span> <span class="n">g</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">upper_bounds</span><span class="p">,</span> <span class="n">stage1_gains</span><span class="p">)]</span>

    <span class="n">fine_config</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;n_particles&#39;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
        <span class="s1">&#39;max_iter&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
        <span class="s1">&#39;bounds&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">fine_lower</span><span class="p">,</span> <span class="n">fine_upper</span><span class="p">),</span>
        <span class="s1">&#39;w&#39;</span><span class="p">:</span> <span class="mf">0.4</span><span class="p">,</span>  <span class="c1"># Low inertia for exploitation</span>
        <span class="s1">&#39;c1&#39;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
        <span class="s1">&#39;c2&#39;</span><span class="p">:</span> <span class="mf">2.0</span>
    <span class="p">}</span>

    <span class="n">fine_factory</span> <span class="o">=</span> <span class="n">create_pso_controller_factory</span><span class="p">(</span><span class="n">controller_type</span><span class="p">)</span>
    <span class="n">fine_tuner</span> <span class="o">=</span> <span class="n">PSOTuner</span><span class="p">(</span>
        <span class="n">controller_factory</span><span class="o">=</span><span class="k">lambda</span> <span class="n">gains</span><span class="p">:</span> <span class="n">evaluate_detailed_performance</span><span class="p">(</span><span class="n">fine_factory</span><span class="p">(</span><span class="n">gains</span><span class="p">)),</span>
        <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span>
        <span class="o">**</span><span class="n">fine_config</span>
    <span class="p">)</span>

    <span class="n">stage2_gains</span><span class="p">,</span> <span class="n">stage2_fitness</span> <span class="o">=</span> <span class="n">fine_tuner</span><span class="o">.</span><span class="n">optimize</span><span class="p">()</span>

    <span class="c1"># Stage 3: Validation and robustness testing</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Stage 3: Robustness validation&quot;</span><span class="p">)</span>

    <span class="n">final_controller</span> <span class="o">=</span> <span class="n">fine_factory</span><span class="p">(</span><span class="n">stage2_gains</span><span class="p">)</span>
    <span class="n">robustness_metrics</span> <span class="o">=</span> <span class="n">evaluate_robustness</span><span class="p">(</span><span class="n">final_controller</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Multi-stage optimization complete:&quot;</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Stage 1 (coarse): </span><span class="si">{</span><span class="n">stage1_fitness</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Stage 2 (fine): </span><span class="si">{</span><span class="n">stage2_fitness</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Final gains: </span><span class="si">{</span><span class="n">stage2_gains</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Robustness score: </span><span class="si">{</span><span class="n">robustness_metrics</span><span class="p">[</span><span class="s1">&#39;robustness_index&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">stage2_gains</span><span class="p">,</span> <span class="n">stage2_fitness</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="performance-optimization">
<h2>Performance Optimization<a class="headerlink" href="#performance-optimization" title="Link to this heading">¶</a></h2>
<section id="memory-efficient-pso-patterns">
<h3>Memory-Efficient PSO Patterns<a class="headerlink" href="#memory-efficient-pso-patterns" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">memory_efficient_pso</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Memory-optimized PSO for large-scale optimization.&quot;&quot;&quot;</span>

    <span class="c1"># Pattern 1: Reuse controller instances</span>
    <span class="n">controller_pool</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">pooled_factory</span><span class="p">(</span><span class="n">gains</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">controller_type</span><span class="p">:</span> <span class="n">SMCType</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Factory with controller pooling.&quot;&quot;&quot;</span>
        <span class="n">gains_key</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">gains</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">gains_key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">controller_pool</span><span class="p">:</span>
            <span class="c1"># Create new controller only if not in pool</span>
            <span class="n">controller_pool</span><span class="p">[</span><span class="n">gains_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">create_smc_for_pso</span><span class="p">(</span><span class="n">controller_type</span><span class="p">,</span> <span class="n">gains</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">controller_pool</span><span class="p">[</span><span class="n">gains_key</span><span class="p">]</span>

    <span class="c1"># Pattern 2: Batch evaluation for parallel PSO</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">batch_fitness_evaluation</span><span class="p">(</span><span class="n">gains_batch</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Evaluate multiple gain sets in batch.&quot;&quot;&quot;</span>

        <span class="c1"># Create controllers in batch</span>
        <span class="n">controllers</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">create_smc_for_pso</span><span class="p">(</span><span class="n">SMCType</span><span class="o">.</span><span class="n">CLASSICAL</span><span class="p">,</span> <span class="n">gains</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">gains</span> <span class="ow">in</span> <span class="n">gains_batch</span>
        <span class="p">]</span>

        <span class="c1"># Parallel evaluation</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">concurrent.futures</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProcessPoolExecutor</span>

        <span class="k">with</span> <span class="n">ProcessPoolExecutor</span><span class="p">(</span><span class="n">max_workers</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span> <span class="k">as</span> <span class="n">executor</span><span class="p">:</span>
            <span class="n">fitness_values</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">executor</span><span class="o">.</span><span class="n">map</span><span class="p">(</span>
                <span class="n">evaluate_controller_performance</span><span class="p">,</span>
                <span class="n">controllers</span>
            <span class="p">))</span>

        <span class="k">return</span> <span class="p">[</span><span class="n">f</span><span class="p">[</span><span class="s1">&#39;total_cost&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">fitness_values</span><span class="p">]</span>

    <span class="c1"># Pattern 3: Incremental evaluation</span>
    <span class="k">class</span><span class="w"> </span><span class="nc">IncrementalEvaluator</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Incremental controller evaluation with caching.&quot;&quot;&quot;</span>

        <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">controller_type</span><span class="p">:</span> <span class="n">SMCType</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">controller_type</span> <span class="o">=</span> <span class="n">controller_type</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">evaluation_cache</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">factory</span> <span class="o">=</span> <span class="n">create_pso_controller_factory</span><span class="p">(</span><span class="n">controller_type</span><span class="p">)</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gains</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Evaluate with caching.&quot;&quot;&quot;</span>
            <span class="n">gains_key</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">gains</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>  <span class="c1"># Round for cache efficiency</span>

            <span class="k">if</span> <span class="n">gains_key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">evaluation_cache</span><span class="p">:</span>
                <span class="n">controller</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">factory</span><span class="p">(</span><span class="n">gains</span><span class="p">)</span>
                <span class="n">performance</span> <span class="o">=</span> <span class="n">evaluate_controller_performance</span><span class="p">(</span><span class="n">controller</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">evaluation_cache</span><span class="p">[</span><span class="n">gains_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">performance</span><span class="p">[</span><span class="s1">&#39;total_cost&#39;</span><span class="p">]</span>

            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">evaluation_cache</span><span class="p">[</span><span class="n">gains_key</span><span class="p">]</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">clear_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Clear evaluation cache to manage memory.&quot;&quot;&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">evaluation_cache</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="high-performance-pso-integration">
<h3>High-Performance PSO Integration<a class="headerlink" href="#high-performance-pso-integration" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">high_performance_pso_integration</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;High-performance PSO integration with optimizations.&quot;&quot;&quot;</span>

    <span class="c1"># Pre-compile Numba functions for controller evaluation</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">numba</span><span class="w"> </span><span class="kn">import</span> <span class="n">jit</span>

    <span class="nd">@jit</span><span class="p">(</span><span class="n">nopython</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">fast_control_computation</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">gains</span><span class="p">,</span> <span class="n">max_force</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Numba-compiled control computation.&quot;&quot;&quot;</span>
        <span class="c1"># Simplified controller logic for speed</span>
        <span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">,</span> <span class="n">lam1</span><span class="p">,</span> <span class="n">lam2</span><span class="p">,</span> <span class="n">K</span><span class="p">,</span> <span class="n">kd</span> <span class="o">=</span> <span class="n">gains</span>

        <span class="c1"># Sliding surface</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">lam1</span> <span class="o">*</span> <span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">lam2</span> <span class="o">*</span> <span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">state</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="n">state</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>

        <span class="c1"># Control law</span>
        <span class="n">u</span> <span class="o">=</span> <span class="o">-</span><span class="n">K</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">tanh</span><span class="p">(</span><span class="n">s</span> <span class="o">/</span> <span class="mf">0.01</span><span class="p">)</span>

        <span class="c1"># Saturation</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="o">-</span><span class="n">max_force</span><span class="p">,</span> <span class="n">max_force</span><span class="p">)</span>

    <span class="c1"># Vectorized fitness evaluation</span>
    <span class="nd">@jit</span><span class="p">(</span><span class="n">nopython</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">vectorized_fitness_evaluation</span><span class="p">(</span><span class="n">gains_matrix</span><span class="p">,</span> <span class="n">states_batch</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Vectorized evaluation for multiple gain sets.&quot;&quot;&quot;</span>
        <span class="n">n_particles</span><span class="p">,</span> <span class="n">n_gains</span> <span class="o">=</span> <span class="n">gains_matrix</span><span class="o">.</span><span class="n">shape</span>
        <span class="n">n_states</span><span class="p">,</span> <span class="n">state_dim</span> <span class="o">=</span> <span class="n">states_batch</span><span class="o">.</span><span class="n">shape</span>

        <span class="n">fitness_values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">n_particles</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_particles</span><span class="p">):</span>
            <span class="n">gains</span> <span class="o">=</span> <span class="n">gains_matrix</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">total_cost</span> <span class="o">=</span> <span class="mf">0.0</span>

            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_states</span><span class="p">):</span>
                <span class="n">state</span> <span class="o">=</span> <span class="n">states_batch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
                <span class="n">control</span> <span class="o">=</span> <span class="n">fast_control_computation</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">gains</span><span class="p">,</span> <span class="mf">150.0</span><span class="p">)</span>
                <span class="n">total_cost</span> <span class="o">+=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">state</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mf">0.1</span> <span class="o">*</span> <span class="n">control</span><span class="o">**</span><span class="mi">2</span>

            <span class="n">fitness_values</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">total_cost</span> <span class="o">/</span> <span class="n">n_states</span>

        <span class="k">return</span> <span class="n">fitness_values</span>

    <span class="c1"># High-performance PSO workflow</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">optimized_pso_workflow</span><span class="p">():</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Optimized PSO workflow using vectorized operations.&quot;&quot;&quot;</span>

        <span class="c1"># Pre-generate test states for evaluation</span>
        <span class="n">test_states</span> <span class="o">=</span> <span class="n">generate_test_state_batch</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>

        <span class="c1"># Vectorized fitness function</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">fitness_function</span><span class="p">(</span><span class="n">gains_matrix</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Vectorized fitness evaluation.&quot;&quot;&quot;</span>
            <span class="k">if</span> <span class="n">gains_matrix</span><span class="o">.</span><span class="n">ndim</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">gains_matrix</span> <span class="o">=</span> <span class="n">gains_matrix</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">vectorized_fitness_evaluation</span><span class="p">(</span><span class="n">gains_matrix</span><span class="p">,</span> <span class="n">test_states</span><span class="p">)</span>

        <span class="c1"># Use vectorized PSO</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">src.optimization.algorithms.vectorized_pso</span><span class="w"> </span><span class="kn">import</span> <span class="n">VectorizedPSO</span>

        <span class="n">optimizer</span> <span class="o">=</span> <span class="n">VectorizedPSO</span><span class="p">(</span>
            <span class="n">fitness_function</span><span class="o">=</span><span class="n">fitness_function</span><span class="p">,</span>
            <span class="n">n_particles</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
            <span class="n">n_dimensions</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span>
            <span class="n">bounds</span><span class="o">=</span><span class="n">get_gain_bounds_for_pso</span><span class="p">(</span><span class="n">SMCType</span><span class="o">.</span><span class="n">CLASSICAL</span><span class="p">),</span>
            <span class="n">max_iterations</span><span class="o">=</span><span class="mi">100</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">optimizer</span><span class="o">.</span><span class="n">optimize</span><span class="p">()</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="scientific-validation">
<h2>Scientific Validation<a class="headerlink" href="#scientific-validation" title="Link to this heading">¶</a></h2>
<section id="control-theory-validation">
<h3>Control Theory Validation<a class="headerlink" href="#control-theory-validation" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># example-metadata:</span>
<span class="c1"># runnable: false</span>

<span class="k">def</span><span class="w"> </span><span class="nf">validate_pso_optimized_controller</span><span class="p">(</span><span class="n">gains</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">controller_type</span><span class="p">:</span> <span class="n">SMCType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Comprehensive validation of PSO-optimized controller.&quot;&quot;&quot;</span>

    <span class="n">validation_results</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1"># Create optimized controller</span>
    <span class="n">controller</span> <span class="o">=</span> <span class="n">create_smc_for_pso</span><span class="p">(</span><span class="n">controller_type</span><span class="p">,</span> <span class="n">gains</span><span class="p">)</span>

    <span class="c1"># 1. Stability Analysis</span>
    <span class="n">validation_results</span><span class="p">[</span><span class="s1">&#39;stability&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">validate_lyapunov_stability</span><span class="p">(</span><span class="n">controller</span><span class="p">)</span>

    <span class="c1"># 2. Performance Metrics</span>
    <span class="n">validation_results</span><span class="p">[</span><span class="s1">&#39;performance&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;ise&#39;</span><span class="p">:</span> <span class="n">compute_integral_squared_error</span><span class="p">(</span><span class="n">controller</span><span class="p">),</span>
        <span class="s1">&#39;itae&#39;</span><span class="p">:</span> <span class="n">compute_integral_time_absolute_error</span><span class="p">(</span><span class="n">controller</span><span class="p">),</span>
        <span class="s1">&#39;settling_time&#39;</span><span class="p">:</span> <span class="n">compute_settling_time</span><span class="p">(</span><span class="n">controller</span><span class="p">),</span>
        <span class="s1">&#39;overshoot&#39;</span><span class="p">:</span> <span class="n">compute_overshoot</span><span class="p">(</span><span class="n">controller</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="c1"># 3. Robustness Analysis</span>
    <span class="n">validation_results</span><span class="p">[</span><span class="s1">&#39;robustness&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;parameter_sensitivity&#39;</span><span class="p">:</span> <span class="n">analyze_parameter_sensitivity</span><span class="p">(</span><span class="n">controller</span><span class="p">),</span>
        <span class="s1">&#39;disturbance_rejection&#39;</span><span class="p">:</span> <span class="n">test_disturbance_rejection</span><span class="p">(</span><span class="n">controller</span><span class="p">),</span>
        <span class="s1">&#39;noise_tolerance&#39;</span><span class="p">:</span> <span class="n">evaluate_noise_tolerance</span><span class="p">(</span><span class="n">controller</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="c1"># 4. Chattering Analysis</span>
    <span class="n">validation_results</span><span class="p">[</span><span class="s1">&#39;chattering&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;chattering_index&#39;</span><span class="p">:</span> <span class="n">compute_chattering_index</span><span class="p">(</span><span class="n">controller</span><span class="p">),</span>
        <span class="s1">&#39;high_frequency_content&#39;</span><span class="p">:</span> <span class="n">analyze_frequency_content</span><span class="p">(</span><span class="n">controller</span><span class="p">),</span>
        <span class="s1">&#39;actuator_stress&#39;</span><span class="p">:</span> <span class="n">evaluate_actuator_stress</span><span class="p">(</span><span class="n">controller</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="c1"># 5. Control Theory Properties</span>
    <span class="k">if</span> <span class="n">controller_type</span> <span class="o">==</span> <span class="n">SMCType</span><span class="o">.</span><span class="n">CLASSICAL</span><span class="p">:</span>
        <span class="n">validation_results</span><span class="p">[</span><span class="s1">&#39;theory&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">validate_classical_smc_properties</span><span class="p">(</span><span class="n">gains</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">controller_type</span> <span class="o">==</span> <span class="n">SMCType</span><span class="o">.</span><span class="n">ADAPTIVE</span><span class="p">:</span>
        <span class="n">validation_results</span><span class="p">[</span><span class="s1">&#39;theory&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">validate_adaptive_smc_properties</span><span class="p">(</span><span class="n">gains</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">controller_type</span> <span class="o">==</span> <span class="n">SMCType</span><span class="o">.</span><span class="n">SUPER_TWISTING</span><span class="p">:</span>
        <span class="n">validation_results</span><span class="p">[</span><span class="s1">&#39;theory&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">validate_sta_smc_properties</span><span class="p">(</span><span class="n">gains</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">validation_results</span>

<span class="k">def</span><span class="w"> </span><span class="nf">validate_classical_smc_properties</span><span class="p">(</span><span class="n">gains</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Validate classical SMC theoretical properties.&quot;&quot;&quot;</span>
    <span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">,</span> <span class="n">lam1</span><span class="p">,</span> <span class="n">lam2</span><span class="p">,</span> <span class="n">K</span><span class="p">,</span> <span class="n">kd</span> <span class="o">=</span> <span class="n">gains</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s1">&#39;surface_stability&#39;</span><span class="p">:</span> <span class="n">lam1</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">lam2</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span>  <span class="c1"># Hurwitz stability</span>
        <span class="s1">&#39;reaching_condition&#39;</span><span class="p">:</span> <span class="n">K</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span>                  <span class="c1"># Reaching condition</span>
        <span class="s1">&#39;finite_time_convergence&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>              <span class="c1"># Guaranteed by SMC theory</span>
        <span class="s1">&#39;robustness_margin&#39;</span><span class="p">:</span> <span class="n">K</span> <span class="o">&gt;</span> <span class="mi">2</span> <span class="o">*</span> <span class="nb">max</span><span class="p">(</span><span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">),</span>    <span class="c1"># Sufficient robustness</span>
        <span class="s1">&#39;chattering_bound&#39;</span><span class="p">:</span> <span class="n">K</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">,</span>                  <span class="c1"># Practical chattering limit</span>
        <span class="s1">&#39;damping_sufficient&#39;</span><span class="p">:</span> <span class="n">kd</span> <span class="o">&gt;=</span> <span class="mi">0</span>                 <span class="c1"># Non-negative damping</span>
    <span class="p">}</span>

<span class="k">def</span><span class="w"> </span><span class="nf">validate_adaptive_smc_properties</span><span class="p">(</span><span class="n">gains</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Validate adaptive SMC theoretical properties.&quot;&quot;&quot;</span>
    <span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">,</span> <span class="n">lam1</span><span class="p">,</span> <span class="n">lam2</span><span class="p">,</span> <span class="n">gamma</span> <span class="o">=</span> <span class="n">gains</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s1">&#39;surface_stability&#39;</span><span class="p">:</span> <span class="n">lam1</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">lam2</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s1">&#39;adaptation_convergence&#39;</span><span class="p">:</span> <span class="n">gamma</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s1">&#39;adaptation_rate_bound&#39;</span><span class="p">:</span> <span class="mf">0.1</span> <span class="o">&lt;=</span> <span class="n">gamma</span> <span class="o">&lt;=</span> <span class="mi">20</span><span class="p">,</span>
        <span class="s1">&#39;finite_time_reaching&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s1">&#39;parameter_convergence&#39;</span><span class="p">:</span> <span class="n">gamma</span> <span class="o">&gt;</span> <span class="mf">0.5</span>  <span class="c1"># Sufficient for convergence</span>
    <span class="p">}</span>
</pre></div>
</div>
</section>
<section id="statistical-validation">
<h3>Statistical Validation<a class="headerlink" href="#statistical-validation" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">statistical_validation_of_pso_results</span><span class="p">(</span><span class="n">controller_type</span><span class="p">:</span> <span class="n">SMCType</span><span class="p">,</span>
                                        <span class="n">optimized_gains</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
                                        <span class="n">n_trials</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">50</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Statistical validation of PSO optimization results.&quot;&quot;&quot;</span>

    <span class="c1"># Multiple independent evaluations</span>
    <span class="n">performance_samples</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">trial</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_trials</span><span class="p">):</span>
        <span class="c1"># Add small random perturbations to test robustness</span>
        <span class="n">perturbed_gains</span> <span class="o">=</span> <span class="n">optimized_gains</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mf">0.01</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">optimized_gains</span><span class="p">)))</span>

        <span class="c1"># Create controller with perturbed gains</span>
        <span class="n">controller</span> <span class="o">=</span> <span class="n">create_smc_for_pso</span><span class="p">(</span><span class="n">controller_type</span><span class="p">,</span> <span class="n">perturbed_gains</span><span class="p">)</span>

        <span class="c1"># Evaluate performance</span>
        <span class="n">metrics</span> <span class="o">=</span> <span class="n">evaluate_controller_performance</span><span class="p">(</span><span class="n">controller</span><span class="p">)</span>
        <span class="n">performance_samples</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">metrics</span><span class="p">[</span><span class="s1">&#39;total_cost&#39;</span><span class="p">])</span>

    <span class="c1"># Statistical analysis</span>
    <span class="n">performance_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">performance_samples</span><span class="p">)</span>

    <span class="n">validation_stats</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;mean_performance&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">performance_array</span><span class="p">),</span>
        <span class="s1">&#39;std_performance&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">performance_array</span><span class="p">),</span>
        <span class="s1">&#39;coefficient_variation&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">performance_array</span><span class="p">)</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">performance_array</span><span class="p">),</span>
        <span class="s1">&#39;confidence_interval_95&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">performance_array</span><span class="p">,</span> <span class="p">[</span><span class="mf">2.5</span><span class="p">,</span> <span class="mf">97.5</span><span class="p">]),</span>
        <span class="s1">&#39;worst_case_performance&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">performance_array</span><span class="p">),</span>
        <span class="s1">&#39;best_case_performance&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">performance_array</span><span class="p">),</span>
        <span class="s1">&#39;robustness_score&#39;</span><span class="p">:</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">performance_array</span><span class="p">))</span>
    <span class="p">}</span>

    <span class="c1"># Statistical significance tests</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">scipy</span><span class="w"> </span><span class="kn">import</span> <span class="n">stats</span>

    <span class="c1"># Test for normality</span>
    <span class="n">_</span><span class="p">,</span> <span class="n">normality_p_value</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">shapiro</span><span class="p">(</span><span class="n">performance_array</span><span class="p">)</span>
    <span class="n">validation_stats</span><span class="p">[</span><span class="s1">&#39;performance_distribution_normal&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">normality_p_value</span> <span class="o">&gt;</span> <span class="mf">0.05</span>

    <span class="c1"># Compare with default gains</span>
    <span class="n">default_gains</span> <span class="o">=</span> <span class="n">get_default_gains</span><span class="p">(</span><span class="n">controller_type</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
    <span class="n">default_controller</span> <span class="o">=</span> <span class="n">create_smc_for_pso</span><span class="p">(</span><span class="n">controller_type</span><span class="p">,</span> <span class="n">default_gains</span><span class="p">)</span>
    <span class="n">default_performance</span> <span class="o">=</span> <span class="n">evaluate_controller_performance</span><span class="p">(</span><span class="n">default_controller</span><span class="p">)[</span><span class="s1">&#39;total_cost&#39;</span><span class="p">]</span>

    <span class="c1"># Statistical improvement test</span>
    <span class="n">improvement_ratio</span> <span class="o">=</span> <span class="n">default_performance</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">performance_array</span><span class="p">)</span>
    <span class="n">validation_stats</span><span class="p">[</span><span class="s1">&#39;improvement_ratio&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">improvement_ratio</span>
    <span class="n">validation_stats</span><span class="p">[</span><span class="s1">&#39;significant_improvement&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">improvement_ratio</span> <span class="o">&gt;</span> <span class="mf">1.1</span>  <span class="c1"># 10% improvement threshold</span>

    <span class="k">return</span> <span class="n">validation_stats</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="advanced-pso-patterns">
<h2>Advanced PSO Patterns<a class="headerlink" href="#advanced-pso-patterns" title="Link to this heading">¶</a></h2>
<section id="multi-objective-pso-integration">
<h3>Multi-Objective PSO Integration<a class="headerlink" href="#multi-objective-pso-integration" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">multi_objective_pso_optimization</span><span class="p">(</span><span class="n">controller_type</span><span class="p">:</span> <span class="n">SMCType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Multi-objective PSO optimization for SMC controllers.&quot;&quot;&quot;</span>

    <span class="c1"># Define multiple objectives</span>
    <span class="n">objectives</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;tracking_performance&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">controller</span><span class="p">:</span> <span class="n">evaluate_tracking_error</span><span class="p">(</span><span class="n">controller</span><span class="p">),</span>
        <span class="s1">&#39;control_efficiency&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">controller</span><span class="p">:</span> <span class="n">evaluate_control_effort</span><span class="p">(</span><span class="n">controller</span><span class="p">),</span>
        <span class="s1">&#39;robustness&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">controller</span><span class="p">:</span> <span class="n">evaluate_robustness_index</span><span class="p">(</span><span class="n">controller</span><span class="p">),</span>
        <span class="s1">&#39;chattering_minimization&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">controller</span><span class="p">:</span> <span class="n">evaluate_chattering_index</span><span class="p">(</span><span class="n">controller</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="c1"># Create controller factory</span>
    <span class="n">factory</span> <span class="o">=</span> <span class="n">create_pso_controller_factory</span><span class="p">(</span><span class="n">controller_type</span><span class="p">)</span>

    <span class="c1"># Multi-objective fitness function</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">multi_objective_fitness</span><span class="p">(</span><span class="n">gains</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Evaluate multiple objectives.&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">controller</span> <span class="o">=</span> <span class="n">factory</span><span class="p">(</span><span class="n">gains</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">objective_func</span><span class="p">(</span><span class="n">controller</span><span class="p">)</span> <span class="k">for</span> <span class="n">objective_func</span> <span class="ow">in</span> <span class="n">objectives</span><span class="o">.</span><span class="n">values</span><span class="p">()]</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">objectives</span><span class="p">)</span>

    <span class="c1"># Pareto optimization using NSGA-II-style PSO</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">src.optimization.algorithms.multi_objective_pso</span><span class="w"> </span><span class="kn">import</span> <span class="n">MultiObjectivePSO</span>

    <span class="n">optimizer</span> <span class="o">=</span> <span class="n">MultiObjectivePSO</span><span class="p">(</span>
        <span class="n">fitness_function</span><span class="o">=</span><span class="n">multi_objective_fitness</span><span class="p">,</span>
        <span class="n">n_objectives</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">objectives</span><span class="p">),</span>
        <span class="n">n_particles</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
        <span class="n">n_dimensions</span><span class="o">=</span><span class="n">factory</span><span class="o">.</span><span class="n">n_gains</span><span class="p">,</span>
        <span class="n">bounds</span><span class="o">=</span><span class="n">get_gain_bounds_for_pso</span><span class="p">(</span><span class="n">controller_type</span><span class="p">),</span>
        <span class="n">max_iterations</span><span class="o">=</span><span class="mi">200</span>
    <span class="p">)</span>

    <span class="n">pareto_solutions</span> <span class="o">=</span> <span class="n">optimizer</span><span class="o">.</span><span class="n">optimize</span><span class="p">()</span>

    <span class="c1"># Analyze Pareto front</span>
    <span class="n">pareto_analysis</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;n_solutions&#39;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">pareto_solutions</span><span class="p">),</span>
        <span class="s1">&#39;objective_ranges&#39;</span><span class="p">:</span> <span class="n">analyze_objective_ranges</span><span class="p">(</span><span class="n">pareto_solutions</span><span class="p">),</span>
        <span class="s1">&#39;recommended_solution&#39;</span><span class="p">:</span> <span class="n">select_best_tradeoff_solution</span><span class="p">(</span><span class="n">pareto_solutions</span><span class="p">),</span>
        <span class="s1">&#39;diversity_metric&#39;</span><span class="p">:</span> <span class="n">compute_pareto_diversity</span><span class="p">(</span><span class="n">pareto_solutions</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s1">&#39;pareto_solutions&#39;</span><span class="p">:</span> <span class="n">pareto_solutions</span><span class="p">,</span>
        <span class="s1">&#39;analysis&#39;</span><span class="p">:</span> <span class="n">pareto_analysis</span><span class="p">,</span>
        <span class="s1">&#39;objective_names&#39;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="n">objectives</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
    <span class="p">}</span>
</pre></div>
</div>
</section>
<section id="adaptive-pso-with-factory-integration">
<h3>Adaptive PSO with Factory Integration<a class="headerlink" href="#adaptive-pso-with-factory-integration" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># example-metadata:</span>
<span class="c1"># runnable: false</span>

<span class="k">def</span><span class="w"> </span><span class="nf">adaptive_pso_optimization</span><span class="p">(</span><span class="n">controller_type</span><span class="p">:</span> <span class="n">SMCType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adaptive PSO with dynamic parameter adjustment.&quot;&quot;&quot;</span>

    <span class="n">factory</span> <span class="o">=</span> <span class="n">create_pso_controller_factory</span><span class="p">(</span><span class="n">controller_type</span><span class="p">)</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">AdaptivePSOController</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adaptive PSO controller with factory integration.&quot;&quot;&quot;</span>

        <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iteration</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">best_fitness_history</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stagnation_counter</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">current_bounds</span> <span class="o">=</span> <span class="n">get_gain_bounds_for_pso</span><span class="p">(</span><span class="n">controller_type</span><span class="p">)</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">adapt_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">current_best_fitness</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Adapt PSO parameters based on progress.&quot;&quot;&quot;</span>

            <span class="c1"># Check for stagnation</span>
            <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">best_fitness_history</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span>
                <span class="nb">abs</span><span class="p">(</span><span class="n">current_best_fitness</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">best_fitness_history</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="o">&lt;</span> <span class="mf">1e-6</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">stagnation_counter</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">stagnation_counter</span> <span class="o">=</span> <span class="mi">0</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">best_fitness_history</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">current_best_fitness</span><span class="p">)</span>

            <span class="c1"># Adaptive parameter adjustment</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">stagnation_counter</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">:</span>
                <span class="c1"># Increase exploration</span>
                <span class="n">w</span> <span class="o">=</span> <span class="mf">0.9</span>  <span class="c1"># High inertia</span>
                <span class="n">c1</span><span class="p">,</span> <span class="n">c2</span> <span class="o">=</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mf">1.5</span>  <span class="c1"># High cognitive, low social</span>

                <span class="c1"># Expand search bounds slightly</span>
                <span class="n">lower</span><span class="p">,</span> <span class="n">upper</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_bounds</span>
                <span class="n">expansion</span> <span class="o">=</span> <span class="mf">0.1</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">current_bounds</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="p">[</span><span class="n">l</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">expansion</span><span class="p">)</span> <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">lower</span><span class="p">],</span>
                    <span class="p">[</span><span class="n">u</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">expansion</span><span class="p">)</span> <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="n">upper</span><span class="p">]</span>
                <span class="p">)</span>

            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">iteration</span> <span class="o">&lt;</span> <span class="mi">50</span><span class="p">:</span>
                <span class="c1"># Early exploration phase</span>
                <span class="n">w</span> <span class="o">=</span> <span class="mf">0.9</span>
                <span class="n">c1</span><span class="p">,</span> <span class="n">c2</span> <span class="o">=</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># Late exploitation phase</span>
                <span class="n">w</span> <span class="o">=</span> <span class="mf">0.4</span>
                <span class="n">c1</span><span class="p">,</span> <span class="n">c2</span> <span class="o">=</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mf">2.5</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">iteration</span> <span class="o">+=</span> <span class="mi">1</span>

            <span class="k">return</span> <span class="p">{</span>
                <span class="s1">&#39;w&#39;</span><span class="p">:</span> <span class="n">w</span><span class="p">,</span>
                <span class="s1">&#39;c1&#39;</span><span class="p">:</span> <span class="n">c1</span><span class="p">,</span>
                <span class="s1">&#39;c2&#39;</span><span class="p">:</span> <span class="n">c2</span><span class="p">,</span>
                <span class="s1">&#39;bounds&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_bounds</span>
            <span class="p">}</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">fitness_function</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gains</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Adaptive fitness function with dynamic objectives.&quot;&quot;&quot;</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">controller</span> <span class="o">=</span> <span class="n">factory</span><span class="p">(</span><span class="n">gains</span><span class="p">)</span>
                <span class="n">metrics</span> <span class="o">=</span> <span class="n">evaluate_controller_performance</span><span class="p">(</span><span class="n">controller</span><span class="p">)</span>

                <span class="c1"># Dynamic objective weighting based on iteration</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">iteration</span> <span class="o">&lt;</span> <span class="mi">30</span><span class="p">:</span>
                    <span class="c1"># Early phase: focus on basic performance</span>
                    <span class="k">return</span> <span class="mf">0.7</span> <span class="o">*</span> <span class="n">metrics</span><span class="p">[</span><span class="s1">&#39;ise&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="mf">0.3</span> <span class="o">*</span> <span class="n">metrics</span><span class="p">[</span><span class="s1">&#39;control_effort&#39;</span><span class="p">]</span>
                <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">iteration</span> <span class="o">&lt;</span> <span class="mi">80</span><span class="p">:</span>
                    <span class="c1"># Middle phase: balance performance and robustness</span>
                    <span class="k">return</span> <span class="p">(</span><span class="mf">0.4</span> <span class="o">*</span> <span class="n">metrics</span><span class="p">[</span><span class="s1">&#39;ise&#39;</span><span class="p">]</span> <span class="o">+</span>
                           <span class="mf">0.3</span> <span class="o">*</span> <span class="n">metrics</span><span class="p">[</span><span class="s1">&#39;control_effort&#39;</span><span class="p">]</span> <span class="o">+</span>
                           <span class="mf">0.3</span> <span class="o">*</span> <span class="n">metrics</span><span class="p">[</span><span class="s1">&#39;robustness_penalty&#39;</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># Late phase: focus on refinement</span>
                    <span class="k">return</span> <span class="p">(</span><span class="mf">0.3</span> <span class="o">*</span> <span class="n">metrics</span><span class="p">[</span><span class="s1">&#39;ise&#39;</span><span class="p">]</span> <span class="o">+</span>
                           <span class="mf">0.2</span> <span class="o">*</span> <span class="n">metrics</span><span class="p">[</span><span class="s1">&#39;control_effort&#39;</span><span class="p">]</span> <span class="o">+</span>
                           <span class="mf">0.3</span> <span class="o">*</span> <span class="n">metrics</span><span class="p">[</span><span class="s1">&#39;robustness_penalty&#39;</span><span class="p">]</span> <span class="o">+</span>
                           <span class="mf">0.2</span> <span class="o">*</span> <span class="n">metrics</span><span class="p">[</span><span class="s1">&#39;chattering_penalty&#39;</span><span class="p">])</span>

            <span class="k">except</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)</span>

    <span class="c1"># Run adaptive PSO</span>
    <span class="n">adaptive_controller</span> <span class="o">=</span> <span class="n">AdaptivePSOController</span><span class="p">()</span>

    <span class="c1"># Initial PSO configuration</span>
    <span class="n">pso_params</span> <span class="o">=</span> <span class="n">adaptive_controller</span><span class="o">.</span><span class="n">adapt_parameters</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">))</span>

    <span class="n">optimizer</span> <span class="o">=</span> <span class="n">PSOTuner</span><span class="p">(</span>
        <span class="n">controller_factory</span><span class="o">=</span><span class="n">adaptive_controller</span><span class="o">.</span><span class="n">fitness_function</span><span class="p">,</span>
        <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span>
        <span class="n">adaptive_callback</span><span class="o">=</span><span class="n">adaptive_controller</span><span class="o">.</span><span class="n">adapt_parameters</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">optimizer</span><span class="o">.</span><span class="n">optimize_adaptive</span><span class="p">()</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="best-practices">
<h2>Best Practices<a class="headerlink" href="#best-practices" title="Link to this heading">¶</a></h2>
<section id="factory-function-reuse">
<h3>1. Factory Function Reuse<a class="headerlink" href="#factory-function-reuse" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># ✅ Good: Create factory once, use many times</span>
<span class="n">factory</span> <span class="o">=</span> <span class="n">create_pso_controller_factory</span><span class="p">(</span><span class="n">SMCType</span><span class="o">.</span><span class="n">CLASSICAL</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">fitness_function</span><span class="p">(</span><span class="n">gains</span><span class="p">):</span>
    <span class="n">controller</span> <span class="o">=</span> <span class="n">factory</span><span class="p">(</span><span class="n">gains</span><span class="p">)</span>  <span class="c1"># Fast operation</span>
    <span class="k">return</span> <span class="n">evaluate_performance</span><span class="p">(</span><span class="n">controller</span><span class="p">)</span>

<span class="c1"># ❌ Bad: Recreate factory every time</span>
<span class="k">def</span><span class="w"> </span><span class="nf">fitness_function</span><span class="p">(</span><span class="n">gains</span><span class="p">):</span>
    <span class="n">controller</span> <span class="o">=</span> <span class="n">create_smc_for_pso</span><span class="p">(</span><span class="n">SMCType</span><span class="o">.</span><span class="n">CLASSICAL</span><span class="p">,</span> <span class="n">gains</span><span class="p">)</span>  <span class="c1"># Slow operation</span>
    <span class="k">return</span> <span class="n">evaluate_performance</span><span class="p">(</span><span class="n">controller</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="gain-validation">
<h3>2. Gain Validation<a class="headerlink" href="#gain-validation" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># example-metadata:</span>
<span class="c1"># runnable: false</span>

<span class="c1"># ✅ Good: Validate gains before expensive simulation</span>
<span class="k">def</span><span class="w"> </span><span class="nf">robust_fitness_function</span><span class="p">(</span><span class="n">gains</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">validate_smc_gains</span><span class="p">(</span><span class="n">controller_type</span><span class="p">,</span> <span class="n">gains</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)</span>  <span class="c1"># Early exit for invalid gains</span>

    <span class="n">controller</span> <span class="o">=</span> <span class="n">factory</span><span class="p">(</span><span class="n">gains</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">evaluate_performance</span><span class="p">(</span><span class="n">controller</span><span class="p">)</span>

<span class="c1"># ❌ Bad: No validation, let controller creation fail</span>
<span class="k">def</span><span class="w"> </span><span class="nf">fragile_fitness_function</span><span class="p">(</span><span class="n">gains</span><span class="p">):</span>
    <span class="n">controller</span> <span class="o">=</span> <span class="n">factory</span><span class="p">(</span><span class="n">gains</span><span class="p">)</span>  <span class="c1"># May fail with cryptic error</span>
    <span class="k">return</span> <span class="n">evaluate_performance</span><span class="p">(</span><span class="n">controller</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="error-handling">
<h3>3. Error Handling<a class="headerlink" href="#error-handling" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># example-metadata:</span>
<span class="c1"># runnable: false</span>

<span class="c1"># ✅ Good: Comprehensive error handling</span>
<span class="k">def</span><span class="w"> </span><span class="nf">robust_fitness_function</span><span class="p">(</span><span class="n">gains</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Validate inputs</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">validate_smc_gains</span><span class="p">(</span><span class="n">controller_type</span><span class="p">,</span> <span class="n">gains</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)</span>

        <span class="c1"># Create controller</span>
        <span class="n">controller</span> <span class="o">=</span> <span class="n">factory</span><span class="p">(</span><span class="n">gains</span><span class="p">)</span>

        <span class="c1"># Evaluate with timeout</span>
        <span class="k">with</span> <span class="n">timeout</span><span class="p">(</span><span class="mi">30</span><span class="p">):</span>  <span class="c1"># 30-second timeout</span>
            <span class="n">performance</span> <span class="o">=</span> <span class="n">evaluate_performance</span><span class="p">(</span><span class="n">controller</span><span class="p">)</span>

        <span class="c1"># Check for numerical issues</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">np</span><span class="o">.</span><span class="n">isfinite</span><span class="p">(</span><span class="n">performance</span><span class="p">[</span><span class="s1">&#39;total_cost&#39;</span><span class="p">]):</span>
            <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">performance</span><span class="p">[</span><span class="s1">&#39;total_cost&#39;</span><span class="p">]</span>

    <span class="k">except</span> <span class="ne">TimeoutError</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Evaluation timeout for gains: </span><span class="si">{</span><span class="n">gains</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Evaluation failed for gains </span><span class="si">{</span><span class="n">gains</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="performance-monitoring">
<h3>4. Performance Monitoring<a class="headerlink" href="#performance-monitoring" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># example-metadata:</span>
<span class="c1"># runnable: false</span>

<span class="c1"># ✅ Good: Monitor PSO progress and performance</span>
<span class="k">class</span><span class="w"> </span><span class="nc">PSO_Monitor</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iteration_times</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fitness_history</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">evaluation_count</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">log_iteration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">iteration</span><span class="p">,</span> <span class="n">best_fitness</span><span class="p">,</span> <span class="n">elapsed_time</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fitness_history</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">best_fitness</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iteration_times</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">elapsed_time</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">iteration</span> <span class="o">%</span> <span class="mi">10</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">avg_time</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iteration_times</span><span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="p">:])</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Iteration </span><span class="si">{</span><span class="n">iteration</span><span class="si">}</span><span class="s2">: fitness=</span><span class="si">{</span><span class="n">best_fitness</span><span class="si">:</span><span class="s2">.6f</span><span class="si">}</span><span class="s2">, &quot;</span>
                       <span class="sa">f</span><span class="s2">&quot;avg_time=</span><span class="si">{</span><span class="n">avg_time</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">s&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">log_evaluation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">evaluation_count</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">evaluation_count</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Completed </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">evaluation_count</span><span class="si">}</span><span class="s2"> evaluations&quot;</span><span class="p">)</span>

<span class="n">monitor</span> <span class="o">=</span> <span class="n">PSO_Monitor</span><span class="p">()</span>

<span class="k">def</span><span class="w"> </span><span class="nf">monitored_fitness_function</span><span class="p">(</span><span class="n">gains</span><span class="p">):</span>
    <span class="n">monitor</span><span class="o">.</span><span class="n">log_evaluation</span><span class="p">()</span>
    <span class="c1"># ... fitness computation</span>
    <span class="k">return</span> <span class="n">fitness_value</span>
</pre></div>
</div>
</section>
<section id="configuration-management">
<h3>5. Configuration Management<a class="headerlink" href="#configuration-management" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># example-metadata:</span>
<span class="c1"># runnable: false</span>

<span class="c1"># ✅ Good: Centralized PSO configuration</span>
<span class="n">PSO_CONFIGS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">SMCType</span><span class="o">.</span><span class="n">CLASSICAL</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;n_particles&#39;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
        <span class="s1">&#39;max_iter&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
        <span class="s1">&#39;w&#39;</span><span class="p">:</span> <span class="mf">0.9</span><span class="p">,</span>
        <span class="s1">&#39;c1&#39;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
        <span class="s1">&#39;c2&#39;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
        <span class="s1">&#39;early_stopping&#39;</span><span class="p">:</span> <span class="kc">True</span>
    <span class="p">},</span>
    <span class="n">SMCType</span><span class="o">.</span><span class="n">ADAPTIVE</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;n_particles&#39;</span><span class="p">:</span> <span class="mi">40</span><span class="p">,</span>
        <span class="s1">&#39;max_iter&#39;</span><span class="p">:</span> <span class="mi">150</span><span class="p">,</span>
        <span class="s1">&#39;w&#39;</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">,</span>
        <span class="s1">&#39;c1&#39;</span><span class="p">:</span> <span class="mf">2.2</span><span class="p">,</span>
        <span class="s1">&#39;c2&#39;</span><span class="p">:</span> <span class="mf">1.8</span><span class="p">,</span>
        <span class="s1">&#39;early_stopping&#39;</span><span class="p">:</span> <span class="kc">True</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">def</span><span class="w"> </span><span class="nf">get_pso_config</span><span class="p">(</span><span class="n">controller_type</span><span class="p">:</span> <span class="n">SMCType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get optimized PSO configuration for controller type.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">PSO_CONFIGS</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">controller_type</span><span class="p">,</span> <span class="n">PSO_CONFIGS</span><span class="p">[</span><span class="n">SMCType</span><span class="o">.</span><span class="n">CLASSICAL</span><span class="p">])</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="examples-and-use-cases">
<h2>Examples and Use Cases<a class="headerlink" href="#examples-and-use-cases" title="Link to this heading">¶</a></h2>
<section id="example-1-basic-pso-optimization">
<h3>Example 1: Basic PSO Optimization<a class="headerlink" href="#example-1-basic-pso-optimization" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python3</span>
<span class="sd">&quot;&quot;&quot;Basic PSO optimization example.&quot;&quot;&quot;</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">src.controllers.factory</span><span class="w"> </span><span class="kn">import</span> <span class="n">create_pso_controller_factory</span><span class="p">,</span> <span class="n">SMCType</span><span class="p">,</span> <span class="n">get_gain_bounds_for_pso</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">src.optimization.algorithms.pso_optimizer</span><span class="w"> </span><span class="kn">import</span> <span class="n">PSOTuner</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">src.config</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_config</span>

<span class="k">def</span><span class="w"> </span><span class="nf">basic_pso_example</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Basic PSO optimization example.&quot;&quot;&quot;</span>

    <span class="c1"># Load configuration</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">load_config</span><span class="p">(</span><span class="s2">&quot;config.yaml&quot;</span><span class="p">)</span>

    <span class="c1"># Create controller factory</span>
    <span class="n">factory</span> <span class="o">=</span> <span class="n">create_pso_controller_factory</span><span class="p">(</span>
        <span class="n">SMCType</span><span class="o">.</span><span class="n">CLASSICAL</span><span class="p">,</span>
        <span class="n">plant_config</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">physics</span>
    <span class="p">)</span>

    <span class="c1"># Define fitness function</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">fitness_function</span><span class="p">(</span><span class="n">gains</span><span class="p">):</span>
        <span class="n">controller</span> <span class="o">=</span> <span class="n">factory</span><span class="p">(</span><span class="n">gains</span><span class="p">)</span>
        <span class="n">metrics</span> <span class="o">=</span> <span class="n">evaluate_controller_performance</span><span class="p">(</span><span class="n">controller</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">metrics</span><span class="p">[</span><span class="s1">&#39;total_cost&#39;</span><span class="p">]</span>

    <span class="c1"># Get optimization bounds</span>
    <span class="n">bounds</span> <span class="o">=</span> <span class="n">get_gain_bounds_for_pso</span><span class="p">(</span><span class="n">SMCType</span><span class="o">.</span><span class="n">CLASSICAL</span><span class="p">)</span>

    <span class="c1"># Run PSO optimization</span>
    <span class="n">tuner</span> <span class="o">=</span> <span class="n">PSOTuner</span><span class="p">(</span>
        <span class="n">controller_factory</span><span class="o">=</span><span class="n">fitness_function</span><span class="p">,</span>
        <span class="n">config</span><span class="o">=</span><span class="n">config</span>
    <span class="p">)</span>

    <span class="n">best_gains</span><span class="p">,</span> <span class="n">best_fitness</span> <span class="o">=</span> <span class="n">tuner</span><span class="o">.</span><span class="n">optimize</span><span class="p">()</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Optimization complete!&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Best gains: </span><span class="si">{</span><span class="n">best_gains</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Best fitness: </span><span class="si">{</span><span class="n">best_fitness</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">best_gains</span><span class="p">,</span> <span class="n">best_fitness</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">basic_pso_example</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="example-2-comparative-controller-study">
<h3>Example 2: Comparative Controller Study<a class="headerlink" href="#example-2-comparative-controller-study" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># example-metadata:</span>
<span class="c1"># runnable: false</span>

<span class="c1">#!/usr/bin/env python3</span>
<span class="sd">&quot;&quot;&quot;Comparative study of different SMC controllers.&quot;&quot;&quot;</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">src.controllers.factory</span><span class="w"> </span><span class="kn">import</span> <span class="n">create_all_smc_controllers</span><span class="p">,</span> <span class="n">SMCType</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="k">def</span><span class="w"> </span><span class="nf">comparative_controller_study</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Compare performance of different SMC controllers.&quot;&quot;&quot;</span>

    <span class="n">controller_types</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">SMCType</span><span class="o">.</span><span class="n">CLASSICAL</span><span class="p">,</span>
        <span class="n">SMCType</span><span class="o">.</span><span class="n">ADAPTIVE</span><span class="p">,</span>
        <span class="n">SMCType</span><span class="o">.</span><span class="n">SUPER_TWISTING</span>
    <span class="p">]</span>

    <span class="n">results</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">controller_type</span> <span class="ow">in</span> <span class="n">controller_types</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Optimizing </span><span class="si">{</span><span class="n">controller_type</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>

        <span class="c1"># Run PSO optimization</span>
        <span class="n">best_gains</span><span class="p">,</span> <span class="n">best_fitness</span> <span class="o">=</span> <span class="n">basic_pso_optimization</span><span class="p">(</span><span class="n">controller_type</span><span class="p">)</span>

        <span class="c1"># Create optimized controller</span>
        <span class="n">factory</span> <span class="o">=</span> <span class="n">create_pso_controller_factory</span><span class="p">(</span><span class="n">controller_type</span><span class="p">)</span>
        <span class="n">controller</span> <span class="o">=</span> <span class="n">factory</span><span class="p">(</span><span class="n">best_gains</span><span class="p">)</span>

        <span class="c1"># Comprehensive evaluation</span>
        <span class="n">performance</span> <span class="o">=</span> <span class="n">evaluate_comprehensive_performance</span><span class="p">(</span><span class="n">controller</span><span class="p">)</span>

        <span class="n">results</span><span class="p">[</span><span class="n">controller_type</span><span class="o">.</span><span class="n">value</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;gains&#39;</span><span class="p">:</span> <span class="n">best_gains</span><span class="p">,</span>
            <span class="s1">&#39;fitness&#39;</span><span class="p">:</span> <span class="n">best_fitness</span><span class="p">,</span>
            <span class="s1">&#39;performance&#39;</span><span class="p">:</span> <span class="n">performance</span>
        <span class="p">}</span>

    <span class="c1"># Generate comparison report</span>
    <span class="n">generate_comparison_report</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
    <span class="n">plot_performance_comparison</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">results</span>

<span class="k">def</span><span class="w"> </span><span class="nf">plot_performance_comparison</span><span class="p">(</span><span class="n">results</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Plot performance comparison.&quot;&quot;&quot;</span>

    <span class="n">metrics</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ise&#39;</span><span class="p">,</span> <span class="s1">&#39;itae&#39;</span><span class="p">,</span> <span class="s1">&#39;settling_time&#39;</span><span class="p">,</span> <span class="s1">&#39;overshoot&#39;</span><span class="p">,</span> <span class="s1">&#39;control_effort&#39;</span><span class="p">]</span>
    <span class="n">controller_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">results</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

    <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
    <span class="n">axes</span> <span class="o">=</span> <span class="n">axes</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">metric</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">metrics</span><span class="p">):</span>
        <span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="n">results</span><span class="p">[</span><span class="n">name</span><span class="p">][</span><span class="s1">&#39;performance&#39;</span><span class="p">][</span><span class="n">metric</span><span class="p">]</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">controller_names</span><span class="p">]</span>

        <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">controller_names</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">metric</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Value&#39;</span><span class="p">)</span>

        <span class="c1"># Rotate x-axis labels for readability</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">get_xticklabels</span><span class="p">(),</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;controller_performance_comparison.png&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">comparative_controller_study</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="example-3-real-time-pso-optimization">
<h3>Example 3: Real-time PSO Optimization<a class="headerlink" href="#example-3-real-time-pso-optimization" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python3</span>
<span class="sd">&quot;&quot;&quot;Real-time PSO optimization with live monitoring.&quot;&quot;&quot;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">List</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">dataclasses</span><span class="w"> </span><span class="kn">import</span> <span class="n">dataclass</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">OptimizationProgress</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Track optimization progress.&quot;&quot;&quot;</span>
    <span class="n">iteration</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">best_fitness</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">best_gains</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span>
    <span class="n">population_diversity</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">elapsed_time</span><span class="p">:</span> <span class="nb">float</span>

<span class="k">def</span><span class="w"> </span><span class="nf">real_time_pso_optimization</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Real-time PSO optimization with live monitoring.&quot;&quot;&quot;</span>

    <span class="c1"># Setup real-time monitoring</span>
    <span class="n">progress_history</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">OptimizationProgress</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">progress_callback</span><span class="p">(</span><span class="n">iteration</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">best_fitness</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                         <span class="n">best_gains</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">population</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Real-time progress monitoring callback.&quot;&quot;&quot;</span>

        <span class="c1"># Compute population diversity</span>
        <span class="n">diversity</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">population</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
        <span class="n">elapsed_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>

        <span class="c1"># Record progress</span>
        <span class="n">progress</span> <span class="o">=</span> <span class="n">OptimizationProgress</span><span class="p">(</span>
            <span class="n">iteration</span><span class="o">=</span><span class="n">iteration</span><span class="p">,</span>
            <span class="n">best_fitness</span><span class="o">=</span><span class="n">best_fitness</span><span class="p">,</span>
            <span class="n">best_gains</span><span class="o">=</span><span class="n">best_gains</span><span class="o">.</span><span class="n">copy</span><span class="p">(),</span>
            <span class="n">population_diversity</span><span class="o">=</span><span class="n">diversity</span><span class="p">,</span>
            <span class="n">elapsed_time</span><span class="o">=</span><span class="n">elapsed_time</span>
        <span class="p">)</span>
        <span class="n">progress_history</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">progress</span><span class="p">)</span>

        <span class="c1"># Live display</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Iteration </span><span class="si">{</span><span class="n">iteration</span><span class="si">:</span><span class="s2">3d</span><span class="si">}</span><span class="s2">: &quot;</span>
              <span class="sa">f</span><span class="s2">&quot;fitness=</span><span class="si">{</span><span class="n">best_fitness</span><span class="si">:</span><span class="s2">.6f</span><span class="si">}</span><span class="s2">, &quot;</span>
              <span class="sa">f</span><span class="s2">&quot;diversity=</span><span class="si">{</span><span class="n">diversity</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">, &quot;</span>
              <span class="sa">f</span><span class="s2">&quot;time=</span><span class="si">{</span><span class="n">elapsed_time</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">s&quot;</span><span class="p">)</span>

        <span class="c1"># Early stopping based on convergence</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">progress_history</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">20</span><span class="p">:</span>
            <span class="n">recent_improvements</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">progress_history</span><span class="p">[</span><span class="o">-</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">best_fitness</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
            <span class="p">]</span>

            <span class="n">improvement_rate</span> <span class="o">=</span> <span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">recent_improvements</span><span class="p">)</span> <span class="o">-</span> <span class="nb">min</span><span class="p">(</span><span class="n">recent_improvements</span><span class="p">))</span> <span class="o">/</span> <span class="nb">max</span><span class="p">(</span><span class="n">recent_improvements</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">improvement_rate</span> <span class="o">&lt;</span> <span class="mf">1e-4</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Convergence detected. Early stopping.&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>  <span class="c1"># Signal early stopping</span>

        <span class="k">return</span> <span class="kc">False</span>

    <span class="c1"># Create factory and bounds</span>
    <span class="n">factory</span> <span class="o">=</span> <span class="n">create_pso_controller_factory</span><span class="p">(</span><span class="n">SMCType</span><span class="o">.</span><span class="n">CLASSICAL</span><span class="p">)</span>
    <span class="n">bounds</span> <span class="o">=</span> <span class="n">get_gain_bounds_for_pso</span><span class="p">(</span><span class="n">SMCType</span><span class="o">.</span><span class="n">CLASSICAL</span><span class="p">)</span>

    <span class="c1"># Enhanced fitness function with real-time monitoring</span>
    <span class="n">evaluation_count</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">monitored_fitness_function</span><span class="p">(</span><span class="n">gains</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="k">nonlocal</span> <span class="n">evaluation_count</span>
        <span class="n">evaluation_count</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">controller</span> <span class="o">=</span> <span class="n">factory</span><span class="p">(</span><span class="n">gains</span><span class="p">)</span>
            <span class="n">performance</span> <span class="o">=</span> <span class="n">evaluate_controller_performance</span><span class="p">(</span><span class="n">controller</span><span class="p">)</span>

            <span class="c1"># Log periodic updates</span>
            <span class="k">if</span> <span class="n">evaluation_count</span> <span class="o">%</span> <span class="mi">50</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Evaluated </span><span class="si">{</span><span class="n">evaluation_count</span><span class="si">}</span><span class="s2"> candidates&quot;</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">performance</span><span class="p">[</span><span class="s1">&#39;total_cost&#39;</span><span class="p">]</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Evaluation failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)</span>

    <span class="c1"># Run optimization with real-time monitoring</span>
    <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

    <span class="n">tuner</span> <span class="o">=</span> <span class="n">PSOTuner</span><span class="p">(</span>
        <span class="n">controller_factory</span><span class="o">=</span><span class="n">monitored_fitness_function</span><span class="p">,</span>
        <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span>
        <span class="n">progress_callback</span><span class="o">=</span><span class="n">progress_callback</span>
    <span class="p">)</span>

    <span class="n">best_gains</span><span class="p">,</span> <span class="n">best_fitness</span> <span class="o">=</span> <span class="n">tuner</span><span class="o">.</span><span class="n">optimize</span><span class="p">()</span>

    <span class="n">total_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>

    <span class="c1"># Generate real-time optimization report</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Optimization Summary:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Total time: </span><span class="si">{</span><span class="n">total_time</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">s&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Total evaluations: </span><span class="si">{</span><span class="n">evaluation_count</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Evaluations per second: </span><span class="si">{</span><span class="n">evaluation_count</span><span class="o">/</span><span class="n">total_time</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Final fitness: </span><span class="si">{</span><span class="n">best_fitness</span><span class="si">:</span><span class="s2">.6f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Best gains: </span><span class="si">{</span><span class="n">best_gains</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Plot convergence history</span>
    <span class="n">plot_convergence_history</span><span class="p">(</span><span class="n">progress_history</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">best_gains</span><span class="p">,</span> <span class="n">best_fitness</span><span class="p">,</span> <span class="n">progress_history</span>

<span class="k">def</span><span class="w"> </span><span class="nf">plot_convergence_history</span><span class="p">(</span><span class="n">progress_history</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">OptimizationProgress</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Plot real-time optimization convergence.&quot;&quot;&quot;</span>

    <span class="n">iterations</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">iteration</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">progress_history</span><span class="p">]</span>
    <span class="n">fitness_values</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">best_fitness</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">progress_history</span><span class="p">]</span>
    <span class="n">diversity_values</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">population_diversity</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">progress_history</span><span class="p">]</span>

    <span class="n">fig</span><span class="p">,</span> <span class="p">(</span><span class="n">ax1</span><span class="p">,</span> <span class="n">ax2</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>

    <span class="c1"># Fitness convergence</span>
    <span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">iterations</span><span class="p">,</span> <span class="n">fitness_values</span><span class="p">,</span> <span class="s1">&#39;b-&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">ax1</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Iteration&#39;</span><span class="p">)</span>
    <span class="n">ax1</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Best Fitness&#39;</span><span class="p">)</span>
    <span class="n">ax1</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;PSO Convergence History&#39;</span><span class="p">)</span>
    <span class="n">ax1</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>

    <span class="c1"># Population diversity</span>
    <span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">iterations</span><span class="p">,</span> <span class="n">diversity_values</span><span class="p">,</span> <span class="s1">&#39;r-&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">ax2</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Iteration&#39;</span><span class="p">)</span>
    <span class="n">ax2</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Population Diversity&#39;</span><span class="p">)</span>
    <span class="n">ax2</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Population Diversity Evolution&#39;</span><span class="p">)</span>
    <span class="n">ax2</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;pso_convergence_history.png&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">real_time_pso_optimization</span><span class="p">()</span>
</pre></div>
</div>
<hr class="docutils" />
<p>This comprehensive documentation provides complete coverage of PSO-factory integration patterns, from basic usage to advanced optimization strategies. The integration patterns enable efficient, robust, and scientifically rigorous PSO optimization of SMC controllers while maintaining the flexibility to handle various optimization scenarios and performance requirements.</p>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, Research Team
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            <div class="last-updated">
              Last updated on Oct 08, 2025</div>
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">PSO-Factory Integration Patterns Documentation</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#table-of-contents">Table of Contents</a></li>
<li><a class="reference internal" href="#pso-integration-architecture">PSO Integration Architecture</a><ul>
<li><a class="reference internal" href="#design-philosophy">Design Philosophy</a></li>
<li><a class="reference internal" href="#architecture-overview">Architecture Overview</a></li>
</ul>
</li>
<li><a class="reference internal" href="#controller-factory-patterns">Controller Factory Patterns</a><ul>
<li><a class="reference internal" href="#pattern-1-direct-controller-creation">Pattern 1: Direct Controller Creation</a></li>
<li><a class="reference internal" href="#pattern-2-factory-function-pattern-recommended">Pattern 2: Factory Function Pattern (Recommended)</a></li>
<li><a class="reference internal" href="#pattern-3-batch-controller-creation">Pattern 3: Batch Controller Creation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gain-optimization-workflows">Gain Optimization Workflows</a><ul>
<li><a class="reference internal" href="#basic-pso-workflow">Basic PSO Workflow</a></li>
<li><a class="reference internal" href="#advanced-pso-workflow-with-constraints">Advanced PSO Workflow with Constraints</a></li>
<li><a class="reference internal" href="#multi-stage-pso-optimization">Multi-Stage PSO Optimization</a></li>
</ul>
</li>
<li><a class="reference internal" href="#performance-optimization">Performance Optimization</a><ul>
<li><a class="reference internal" href="#memory-efficient-pso-patterns">Memory-Efficient PSO Patterns</a></li>
<li><a class="reference internal" href="#high-performance-pso-integration">High-Performance PSO Integration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#scientific-validation">Scientific Validation</a><ul>
<li><a class="reference internal" href="#control-theory-validation">Control Theory Validation</a></li>
<li><a class="reference internal" href="#statistical-validation">Statistical Validation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#advanced-pso-patterns">Advanced PSO Patterns</a><ul>
<li><a class="reference internal" href="#multi-objective-pso-integration">Multi-Objective PSO Integration</a></li>
<li><a class="reference internal" href="#adaptive-pso-with-factory-integration">Adaptive PSO with Factory Integration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#best-practices">Best Practices</a><ul>
<li><a class="reference internal" href="#factory-function-reuse">1. Factory Function Reuse</a></li>
<li><a class="reference internal" href="#gain-validation">2. Gain Validation</a></li>
<li><a class="reference internal" href="#error-handling">3. Error Handling</a></li>
<li><a class="reference internal" href="#performance-monitoring">4. Performance Monitoring</a></li>
<li><a class="reference internal" href="#configuration-management">5. Configuration Management</a></li>
</ul>
</li>
<li><a class="reference internal" href="#examples-and-use-cases">Examples and Use Cases</a><ul>
<li><a class="reference internal" href="#example-1-basic-pso-optimization">Example 1: Basic PSO Optimization</a></li>
<li><a class="reference internal" href="#example-2-comparative-controller-study">Example 2: Comparative Controller Study</a></li>
<li><a class="reference internal" href="#example-3-real-time-pso-optimization">Example 3: Real-time PSO Optimization</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=4ebf8126"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=08e7b316"></script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script src="_static/back-to-top.js?v=840797bb"></script>
    <script src="_static/lazy-load.js?v=dc25293c"></script>
    <script src="_static/dark-mode.js?v=bf328970"></script>
    </body>
</html>