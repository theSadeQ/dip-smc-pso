<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" />

    <!-- Generated with Sphinx 7.4.7 and Furo 2024.08.06 -->
        <title>Fault Detection and Isolation (FDI) System - Technical Documentation - DIP_SMC_PSO Documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5349f25f" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=302659d7" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=f5a89ef9" />
    
    


<style>
  body {
    --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">DIP_SMC_PSO Documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">DIP_SMC_PSO Documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">ğŸ“š Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="README.html">Optimal Sliding Mode Control for a Double-Inverted Pendulum via PSO</a></li>
<li class="toctree-l1"><a class="reference internal" href="theory_overview.html">1. Theoretical Background Ã¢â‚¬â€ Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">3. System Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="plant_model.html">1.x Plant Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="hil_quickstart.html">Hardware-in-the-Loop (HIL) Quickstart Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="streamlit_dashboard_guide.html">Streamlit Dashboard User Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ğŸ® Control Systems &amp; Optimization</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="controllers/index.html">Controllers Module Documentation</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Controllers Module Documentation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="controllers/classical_smc_technical_guide.html">Classical Sliding Mode Control Technical Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="controllers/adaptive_smc_technical_guide.html">Adaptive Sliding Mode Control Technical Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="controllers/sta_smc_technical_guide.html">Super-Twisting Sliding Mode Control Technical Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="controllers/hybrid_smc_technical_guide.html">Hybrid Adaptive Super-Twisting SMC Technical Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="controllers/mpc_technical_guide.html">Model Predictive Control Technical Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="controllers/swing_up_smc_technical_guide.html">Swing-Up SMC Technical Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="controllers/factory_system_guide.html">SMC Controller Factory System Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="controllers/control_primitives_reference.html">Control Primitives Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="mathematical_foundations/smc_complete_theory.html">Complete Sliding Mode Control Mathematical Theory</a></li>
<li class="toctree-l2"><a class="reference internal" href="mathematical_foundations/controller_comparison_theory.html">SMC Controller Comparison Theory</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="reference/controllers/index.html">Controllers Module</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Controllers Module</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/adaptive_smc.html">controllers.adaptive_smc</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/classic_smc.html">controllers.classic_smc</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/factory.html">controllers.factory</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/mpc_controller.html">controllers.mpc_controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/sta_smc.html">controllers.sta_smc</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/swing_up_smc.html">controllers.swing_up_smc</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/__init__.html">controllers.<strong>init</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/base_controller_interface.html">controllers.base.controller_interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/base_control_primitives.html">controllers.base.control_primitives</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/base___init__.html">controllers.base.<strong>init</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/factory_deprecation.html">controllers.factory.deprecation</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/factory_fallback_configs.html">controllers.factory.fallback_configs</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/factory_legacy_factory.html">controllers.factory.legacy_factory</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/factory_optimization.html">controllers.factory.optimization</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/factory_pso_integration.html">controllers.factory.pso_integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/factory_smc_factory.html">controllers.factory.smc_factory</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/factory_thread_safety.html">controllers.factory.thread_safety</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/factory___init__.html">controllers.factory.<strong>init</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/mpc_mpc_controller.html">controllers.mpc.mpc_controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/mpc___init__.html">controllers.mpc.<strong>init</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_adaptive_smc.html">controllers.smc.adaptive_smc</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_classic_smc.html">controllers.smc.classic_smc</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_hybrid_adaptive_sta_smc.html">controllers.smc.hybrid_adaptive_sta_smc</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_sta_smc.html">controllers.smc.sta_smc</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc___init__.html">controllers.smc.<strong>init</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/specialized_swing_up_smc.html">controllers.specialized.swing_up_smc</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/specialized___init__.html">controllers.specialized.<strong>init</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/factory_core_protocols.html">controllers.factory.core.protocols</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/factory_core_registry.html">controllers.factory.core.registry</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/factory_core_threading.html">controllers.factory.core.threading</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/factory_core_validation.html">controllers.factory.core.validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/factory_core___init__.html">controllers.factory.core.<strong>init</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_algorithms___init__.html">controllers.smc.algorithms.<strong>init</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_core_equivalent_control.html">controllers.smc.core.equivalent_control</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_core_gain_validation.html">controllers.smc.core.gain_validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_core_sliding_surface.html">controllers.smc.core.sliding_surface</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_core_switching_functions.html">controllers.smc.core.switching_functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_core___init__.html">controllers.smc.core.<strong>init</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_algorithms_adaptive_adaptation_law.html">controllers.smc.algorithms.adaptive.adaptation_law</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_algorithms_adaptive_config.html">controllers.smc.algorithms.adaptive.config</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_algorithms_adaptive_controller.html">controllers.smc.algorithms.adaptive.controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_algorithms_adaptive_parameter_estimation.html">controllers.smc.algorithms.adaptive.parameter_estimation</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_algorithms_adaptive___init__.html">controllers.smc.algorithms.adaptive.<strong>init</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_algorithms_classical_boundary_layer.html">controllers.smc.algorithms.classical.boundary_layer</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_algorithms_classical_config.html">controllers.smc.algorithms.classical.config</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_algorithms_classical_controller.html">controllers.smc.algorithms.classical.controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_algorithms_classical___init__.html">controllers.smc.algorithms.classical.<strong>init</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_algorithms_hybrid_config.html">controllers.smc.algorithms.hybrid.config</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_algorithms_hybrid_controller.html">controllers.smc.algorithms.hybrid.controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_algorithms_hybrid_switching_logic.html">controllers.smc.algorithms.hybrid.switching_logic</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_algorithms_hybrid___init__.html">controllers.smc.algorithms.hybrid.<strong>init</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_algorithms_super_twisting_config.html">controllers.smc.algorithms.super_twisting.config</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_algorithms_super_twisting_controller.html">controllers.smc.algorithms.super_twisting.controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_algorithms_super_twisting_twisting_algorithm.html">controllers.smc.algorithms.super_twisting.twisting_algorithm</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/controllers/smc_algorithms_super_twisting___init__.html">controllers.smc.algorithms.super_twisting.<strong>init</strong></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="mathematical_foundations/index.html">Mathematical Foundations</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Mathematical Foundations</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="mathematical_foundations/smc_complete_theory.html">Complete Sliding Mode Control Mathematical Theory</a></li>
<li class="toctree-l2"><a class="reference internal" href="mathematical_foundations/controller_comparison_theory.html">SMC Controller Comparison Theory</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="plant/models_guide.html">Plant Models Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="optimization_simulation/guide.html">Optimization &amp; Simulation Guide</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="reference/controllers/index.html">Controllers Module</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Controllers Module</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/adaptive_smc.html">controllers.adaptive_smc</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/classic_smc.html">controllers.classic_smc</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/factory.html">controllers.factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/mpc_controller.html">controllers.mpc_controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/sta_smc.html">controllers.sta_smc</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/swing_up_smc.html">controllers.swing_up_smc</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/__init__.html">controllers.<strong>init</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/base_controller_interface.html">controllers.base.controller_interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/base_control_primitives.html">controllers.base.control_primitives</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/base___init__.html">controllers.base.<strong>init</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/factory_deprecation.html">controllers.factory.deprecation</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/factory_fallback_configs.html">controllers.factory.fallback_configs</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/factory_legacy_factory.html">controllers.factory.legacy_factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/factory_optimization.html">controllers.factory.optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/factory_pso_integration.html">controllers.factory.pso_integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/factory_smc_factory.html">controllers.factory.smc_factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/factory_thread_safety.html">controllers.factory.thread_safety</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/factory___init__.html">controllers.factory.<strong>init</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/mpc_mpc_controller.html">controllers.mpc.mpc_controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/mpc___init__.html">controllers.mpc.<strong>init</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_adaptive_smc.html">controllers.smc.adaptive_smc</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_classic_smc.html">controllers.smc.classic_smc</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_hybrid_adaptive_sta_smc.html">controllers.smc.hybrid_adaptive_sta_smc</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_sta_smc.html">controllers.smc.sta_smc</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc___init__.html">controllers.smc.<strong>init</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/specialized_swing_up_smc.html">controllers.specialized.swing_up_smc</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/specialized___init__.html">controllers.specialized.<strong>init</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/factory_core_protocols.html">controllers.factory.core.protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/factory_core_registry.html">controllers.factory.core.registry</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/factory_core_threading.html">controllers.factory.core.threading</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/factory_core_validation.html">controllers.factory.core.validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/factory_core___init__.html">controllers.factory.core.<strong>init</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_algorithms___init__.html">controllers.smc.algorithms.<strong>init</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_core_equivalent_control.html">controllers.smc.core.equivalent_control</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_core_gain_validation.html">controllers.smc.core.gain_validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_core_sliding_surface.html">controllers.smc.core.sliding_surface</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_core_switching_functions.html">controllers.smc.core.switching_functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_core___init__.html">controllers.smc.core.<strong>init</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_algorithms_adaptive_adaptation_law.html">controllers.smc.algorithms.adaptive.adaptation_law</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_algorithms_adaptive_config.html">controllers.smc.algorithms.adaptive.config</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_algorithms_adaptive_controller.html">controllers.smc.algorithms.adaptive.controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_algorithms_adaptive_parameter_estimation.html">controllers.smc.algorithms.adaptive.parameter_estimation</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_algorithms_adaptive___init__.html">controllers.smc.algorithms.adaptive.<strong>init</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_algorithms_classical_boundary_layer.html">controllers.smc.algorithms.classical.boundary_layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_algorithms_classical_config.html">controllers.smc.algorithms.classical.config</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_algorithms_classical_controller.html">controllers.smc.algorithms.classical.controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_algorithms_classical___init__.html">controllers.smc.algorithms.classical.<strong>init</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_algorithms_hybrid_config.html">controllers.smc.algorithms.hybrid.config</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_algorithms_hybrid_controller.html">controllers.smc.algorithms.hybrid.controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_algorithms_hybrid_switching_logic.html">controllers.smc.algorithms.hybrid.switching_logic</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_algorithms_hybrid___init__.html">controllers.smc.algorithms.hybrid.<strong>init</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_algorithms_super_twisting_config.html">controllers.smc.algorithms.super_twisting.config</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_algorithms_super_twisting_controller.html">controllers.smc.algorithms.super_twisting.controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_algorithms_super_twisting_twisting_algorithm.html">controllers.smc.algorithms.super_twisting.twisting_algorithm</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/controllers/smc_algorithms_super_twisting___init__.html">controllers.smc.algorithms.super_twisting.<strong>init</strong></a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="reference/optimizer/index.html">Optimizer Module</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Optimizer Module</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="reference/optimizer/pso_optimizer.html">optimizer.pso_optimizer</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/optimizer/__init__.html">optimizer.<strong>init</strong></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="analysis_plan.html">5. Analysis &amp; Verification Plan</a></li>
<li class="toctree-l1"><a class="reference internal" href="benchmarks_methodology.html">Benchmarks &amp; Methodology</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ğŸ§ª Development &amp; Testing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="TESTING.html">Testing Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="test_protocols.html">5.x Test Protocols</a></li>
<li class="toctree-l1"><a class="reference internal" href="use_cases.html">4. Use Cases &amp; Operating Modes</a></li>
<li class="toctree-l1"><a class="reference internal" href="context.html">2. Application Context</a></li>
<li class="toctree-l1"><a class="reference internal" href="fault_detection_guide.html">Fault Detection &amp; Isolation (FDI) Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ğŸ“Š Research &amp; Theory</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="presentation/index.html">Research Presentation Materials</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Research Presentation Materials</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="presentation/introduction.html">Abstract</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/introduction.html#introduction-and-motivation">Introduction and Motivation</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/introduction.html#the-double-inverted-pendulum-as-a-canonical-control-problem">The Double Inverted Pendulum as a Canonical Control Problem</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/introduction.html#the-primary-control-objectives-and-challenges">The Primary Control Objectives and Challenges</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/introduction.html#sliding-mode-control-as-a-robust-solution">Sliding Mode Control as a Robust Solution</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/introduction.html#the-gain-tuning-dilemma-and-the-need-for-optimization">The Gain Tuning Dilemma and the Need for Optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/introduction.html#particle-swarm-optimization-for-automated-design">Particle Swarm Optimization for Automated Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/introduction.html#synthesis-and-motivation">Synthesis and Motivation</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/introduction.html#references">References</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/problem-statement.html">Problem Statement for Doubleâ€‘InvertedÂ Pendulum (DIP) Control with SMC and PSO</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/previous-works.html">Previous Work Before the Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/system-modeling.html"><strong>A Comprehensive Technical Report on the Modeling and Configuration of a Cartâ€‘Based Double Inverted Pendulum System</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/smc-theory.html">Sliding Mode Control for a Doubleâ€‘Inverted Pendulum: Bridging Theory and Implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/chattering-mitigation.html">Abstract</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/chattering-mitigation.html#introduction">1Â Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/chattering-mitigation.html#system-modelling-and-problem-formulation">2Â SystemÂ Modelling and ProblemÂ Formulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/chattering-mitigation.html#simulation-methodology">3Â Simulation Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/chattering-mitigation.html#classic-sliding-mode-control">4Â Classic SlidingÂ Mode Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/chattering-mitigation.html#chattering-mitigation-strategy-i-boundary-layer-method">5Â ChatteringÂ Mitigation StrategyÂ I:Â BoundaryÂ LayerÂ Method</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/chattering-mitigation.html#chattering-mitigation-strategy-ii-supertwisting-algorithm">6Â ChatteringÂ Mitigation StrategyÂ II:Â Superâ€‘Twisting Algorithm</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/chattering-mitigation.html#chattering-mitigation-strategy-iii-adaptive-sliding-mode-control">7Â ChatteringÂ Mitigation StrategyÂ III:Â AdaptiveÂ SlidingÂ ModeÂ Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/chattering-mitigation.html#chattering-mitigation-strategy-iv-hybrid-adaptivesta">8Â ChatteringÂ Mitigation StrategyÂ IV:Â HybridÂ Adaptiveâ€“STA</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/chattering-mitigation.html#synthesis-and-comparative-analysis">9Â SynthesisÂ and Comparative Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/chattering-mitigation.html#references">References</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/pso-optimization.html"><strong>Comprehensive Simulation Analysis and Enhancements for the Double Inverted Pendulum Control System</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/simulation-setup.html">Particle Swarm Optimization for Slidingâ€‘Mode Controller Tuning of a Double Inverted Pendulum</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/results-discussion.html">8 â€“ Results and Discussion</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation/results-discussion.html#references">References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="presentation/introduction.html">Abstract</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/introduction.html#introduction-and-motivation">Introduction and Motivation</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/introduction.html#the-double-inverted-pendulum-as-a-canonical-control-problem">The Double Inverted Pendulum as a Canonical Control Problem</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/introduction.html#the-primary-control-objectives-and-challenges">The Primary Control Objectives and Challenges</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/introduction.html#sliding-mode-control-as-a-robust-solution">Sliding Mode Control as a Robust Solution</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/introduction.html#the-gain-tuning-dilemma-and-the-need-for-optimization">The Gain Tuning Dilemma and the Need for Optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/introduction.html#particle-swarm-optimization-for-automated-design">Particle Swarm Optimization for Automated Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/introduction.html#synthesis-and-motivation">Synthesis and Motivation</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/introduction.html#references">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/problem-statement.html">Problem Statement for Doubleâ€‘InvertedÂ Pendulum (DIP) Control with SMC and PSO</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/previous-works.html">Previous Work Before the Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/system-modeling.html"><strong>A Comprehensive Technical Report on the Modeling and Configuration of a Cartâ€‘Based Double Inverted Pendulum System</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/smc-theory.html">Sliding Mode Control for a Doubleâ€‘Inverted Pendulum: Bridging Theory and Implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/chattering-mitigation.html">Abstract</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/chattering-mitigation.html#introduction">1Â Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/chattering-mitigation.html#system-modelling-and-problem-formulation">2Â SystemÂ Modelling and ProblemÂ Formulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/chattering-mitigation.html#simulation-methodology">3Â Simulation Methodology</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/chattering-mitigation.html#classic-sliding-mode-control">4Â Classic SlidingÂ Mode Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/chattering-mitigation.html#chattering-mitigation-strategy-i-boundary-layer-method">5Â ChatteringÂ Mitigation StrategyÂ I:Â BoundaryÂ LayerÂ Method</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/chattering-mitigation.html#chattering-mitigation-strategy-ii-supertwisting-algorithm">6Â ChatteringÂ Mitigation StrategyÂ II:Â Superâ€‘Twisting Algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/chattering-mitigation.html#chattering-mitigation-strategy-iii-adaptive-sliding-mode-control">7Â ChatteringÂ Mitigation StrategyÂ III:Â AdaptiveÂ SlidingÂ ModeÂ Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/chattering-mitigation.html#chattering-mitigation-strategy-iv-hybrid-adaptivesta">8Â ChatteringÂ Mitigation StrategyÂ IV:Â HybridÂ Adaptiveâ€“STA</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/chattering-mitigation.html#synthesis-and-comparative-analysis">9Â SynthesisÂ and Comparative Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/chattering-mitigation.html#references">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/pso-optimization.html"><strong>Comprehensive Simulation Analysis and Enhancements for the Double Inverted Pendulum Control System</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/simulation-setup.html">Particle Swarm Optimization for Slidingâ€‘Mode Controller Tuning of a Double Inverted Pendulum</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/results-discussion.html">8 â€“ Results and Discussion</a></li>
<li class="toctree-l1"><a class="reference internal" href="presentation/results-discussion.html#references">References</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ğŸ“– API Reference &amp; Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api/index.html">API Reference Documentation</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="examples/index.html">Examples</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of Examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">Bibliography &amp; Academic References</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ğŸ”§ Project Management</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="CONTRIBUTING.html">Contributing â€“ ResearchPlanSpec Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="RELEASE_CHECKLIST.html">Release Checklist</a></li>
<li class="toctree-l1"><a class="reference internal" href="CHANGELOG.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="symbols.html">Symbols &amp; Units</a></li>
<li class="toctree-l1"><a class="reference internal" href="results_readme.html">Results &amp; Plots</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="https://github.com/theSadeQ/DIP_SMC_PSO/blob/main/docs/fault_detection_system_documentation.md?plain=true" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div><div class="edit-this-page">
  <a class="muted-link" href="https://github.com/theSadeQ/DIP_SMC_PSO/edit/main/docs/fault_detection_system_documentation.md" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section class="tex2jax_ignore mathjax_ignore" id="fault-detection-and-isolation-fdi-system-technical-documentation">
<h1>Fault Detection and Isolation (FDI) System - Technical Documentation<a class="headerlink" href="#fault-detection-and-isolation-fdi-system-technical-documentation" title="Link to this heading">Â¶</a></h1>
<section id="table-of-contents">
<h2>Table of Contents<a class="headerlink" href="#table-of-contents" title="Link to this heading">Â¶</a></h2>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#mathematical-foundations">Mathematical Foundations</a></p></li>
<li><p><a class="reference internal" href="#implementation-documentation">Implementation Documentation</a></p></li>
<li><p><a class="reference internal" href="#api-reference">API Reference</a></p></li>
<li><p><a class="reference internal" href="#scientific-validation">Scientific Validation</a></p></li>
<li><p><a class="reference internal" href="#integration-guide">Integration Guide</a></p></li>
<li><p><a class="reference internal" href="#critical-bug-fixes">Critical Bug Fixes</a></p></li>
<li><p><a class="reference internal" href="#performance-and-safety">Performance and Safety</a></p></li>
<li><p><a class="reference internal" href="#troubleshooting">Troubleshooting</a></p></li>
</ol>
</section>
<hr class="docutils" />
<section id="mathematical-foundations">
<h2>Mathematical Foundations<a class="headerlink" href="#mathematical-foundations" title="Link to this heading">Â¶</a></h2>
<section id="weighted-residual-calculation-theory">
<h3>1.1 Weighted Residual Calculation Theory<a class="headerlink" href="#weighted-residual-calculation-theory" title="Link to this heading">Â¶</a></h3>
<p>The fault detection system employs a mathematically rigorous weighted residual approach for enhanced sensitivity to specific state variables.</p>
<section id="mathematical-formulation">
<h4>Mathematical Formulation<a class="headerlink" href="#mathematical-formulation" title="Link to this heading">Â¶</a></h4>
<p>The weighted residual is computed as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">r_weighted</span> <span class="o">=</span> <span class="o">||</span><span class="n">W</span> <span class="err">âŠ™</span> <span class="p">(</span><span class="n">y</span> <span class="o">-</span> <span class="n">Å·</span><span class="p">)</span><span class="o">||</span><span class="err">â‚‚</span>
</pre></div>
</div>
<p>Where:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">y</span></code> âˆˆ â„â¿: Current state measurement vector</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Å·</span></code> âˆˆ â„â¿: One-step ahead state prediction from dynamics model</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">W</span></code> âˆˆ â„â¿: Weight vector for state-specific sensitivity amplification</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">âŠ™</span></code>: Element-wise (Hadamard) product</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">||</span> <span class="pre">Â·</span> <span class="pre">||â‚‚</span></code>: Euclidean (L2) norm</p></li>
</ul>
</section>
<section id="state-selection-and-weighting">
<h4>State Selection and Weighting<a class="headerlink" href="#state-selection-and-weighting" title="Link to this heading">Â¶</a></h4>
<p>For systems with high-dimensional state spaces, residual computation can be restricted to critical states:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">r_selected</span> <span class="o">=</span> <span class="o">||</span><span class="n">W</span> <span class="err">âŠ™</span> <span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">S</span><span class="p">]</span> <span class="o">-</span> <span class="n">Å·</span><span class="p">[</span><span class="n">S</span><span class="p">])</span><span class="o">||</span><span class="err">â‚‚</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">S</span> <span class="pre">âŠ‚</span> <span class="pre">{0,</span> <span class="pre">1,</span> <span class="pre">...,</span> <span class="pre">n-1}</span></code> is the set of selected state indices.</p>
<p><strong>Weight Design Principles:</strong></p>
<ul class="simple">
<li><p>Higher weights amplify sensitivity to critical states (e.g., safety-critical positions)</p></li>
<li><p>Weight ratios should reflect relative importance: <code class="docutils literal notranslate"><span class="pre">w_i</span> <span class="pre">/</span> <span class="pre">w_j</span> <span class="pre">=</span> <span class="pre">importance_i</span> <span class="pre">/</span> <span class="pre">importance_j</span></code></p></li>
<li><p>Normalization ensures consistent threshold interpretation across different weight configurations</p></li>
</ul>
</section>
<section id="mathematical-properties">
<h4>Mathematical Properties<a class="headerlink" href="#mathematical-properties" title="Link to this heading">Â¶</a></h4>
<p><strong>Theorem 1 (Sensitivity Amplification):</strong> For a weight vector <code class="docutils literal notranslate"><span class="pre">W</span></code> with <code class="docutils literal notranslate"><span class="pre">w_i</span> <span class="pre">&gt;</span> <span class="pre">1</span></code>, the fault detection sensitivity to state <code class="docutils literal notranslate"><span class="pre">i</span></code> increases by factor <code class="docutils literal notranslate"><span class="pre">w_i</span></code>.</p>
<p><strong>Proof:</strong> Consider a fault affecting only state <code class="docutils literal notranslate"><span class="pre">i</span></code> with magnitude <code class="docutils literal notranslate"><span class="pre">Î´</span></code>. The weighted residual becomes:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">r_weighted</span> <span class="o">=</span> <span class="n">w_i</span> <span class="err">Â·</span> <span class="o">|</span><span class="n">Î´</span><span class="o">|</span> <span class="err">â‰¥</span> <span class="o">|</span><span class="n">Î´</span><span class="o">|</span> <span class="o">=</span> <span class="n">r_unweighted</span>
</pre></div>
</div>
<p>Equality holds when <code class="docutils literal notranslate"><span class="pre">w_i</span> <span class="pre">=</span> <span class="pre">1</span></code>. âˆ</p>
</section>
</section>
<section id="cusum-algorithm-mathematical-foundation">
<h3>1.2 CUSUM Algorithm Mathematical Foundation<a class="headerlink" href="#cusum-algorithm-mathematical-foundation" title="Link to this heading">Â¶</a></h3>
<p>The Cumulative Sum (CUSUM) algorithm provides optimal detection of slow parameter drifts and gradual faults.</p>
<section id="algorithm-definition">
<h4>Algorithm Definition<a class="headerlink" href="#algorithm-definition" title="Link to this heading">Â¶</a></h4>
<p>For a sequence of residuals <code class="docutils literal notranslate"><span class="pre">{r_k}</span></code>, the CUSUM statistic evolves as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">S_k</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">S_</span><span class="p">{</span><span class="n">k</span><span class="o">-</span><span class="mi">1</span><span class="p">}</span> <span class="o">+</span> <span class="p">(</span><span class="n">r_k</span> <span class="o">-</span> <span class="n">Î¼_ref</span> <span class="o">-</span> <span class="n">K</span><span class="p">))</span>
</pre></div>
</div>
<p>Where:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">S_k</span></code>: CUSUM statistic at time <code class="docutils literal notranslate"><span class="pre">k</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Î¼_ref</span></code>: Reference value (baseline residual level)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">K</span></code>: Drift sensitivity parameter (typically <code class="docutils literal notranslate"><span class="pre">K</span> <span class="pre">=</span> <span class="pre">Î´/2</span></code> for detecting drift of magnitude <code class="docutils literal notranslate"><span class="pre">Î´</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">S_0</span> <span class="pre">=</span> <span class="pre">0</span></code>: Initial condition</p></li>
</ul>
</section>
<section id="drift-detection-mathematics">
<h4>Drift Detection Mathematics<a class="headerlink" href="#drift-detection-mathematics" title="Link to this heading">Â¶</a></h4>
<p><strong>Detection Rule:</strong> Fault is declared when <code class="docutils literal notranslate"><span class="pre">S_k</span> <span class="pre">&gt;</span> <span class="pre">h</span></code>, where <code class="docutils literal notranslate"><span class="pre">h</span></code> is the detection threshold.</p>
<p><strong>Reference Value Computation:</strong></p>
<ul class="simple">
<li><p><strong>Fixed Reference:</strong> <code class="docutils literal notranslate"><span class="pre">Î¼_ref</span> <span class="pre">=</span> <span class="pre">residual_threshold</span></code> (constant baseline)</p></li>
<li><p><strong>Adaptive Reference:</strong> <code class="docutils literal notranslate"><span class="pre">Î¼_ref</span> <span class="pre">=</span> <span class="pre">Î¼Ì‚_k</span></code> where <code class="docutils literal notranslate"><span class="pre">Î¼Ì‚_k</span></code> is the running mean of recent residuals</p></li>
</ul>
</section>
<section id="statistical-properties">
<h4>Statistical Properties<a class="headerlink" href="#statistical-properties" title="Link to this heading">Â¶</a></h4>
<p><strong>Theorem 2 (CUSUM Optimality):</strong> For detecting a change from mean <code class="docutils literal notranslate"><span class="pre">Î¼â‚€</span></code> to <code class="docutils literal notranslate"><span class="pre">Î¼â‚</span> <span class="pre">=</span> <span class="pre">Î¼â‚€</span> <span class="pre">+</span> <span class="pre">Î´</span></code> in Gaussian noise, CUSUM minimizes the expected detection delay for any given false alarm rate.</p>
<p><strong>Average Run Length (ARL):</strong></p>
<ul class="simple">
<li><p><strong>ARLâ‚€:</strong> Expected time to false alarm under normal conditions</p></li>
<li><p><strong>ARLâ‚:</strong> Expected detection delay under fault conditions</p></li>
</ul>
<p>For practical implementations:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">h</span> <span class="err">â‰ˆ</span> <span class="o">-</span><span class="n">ln</span><span class="p">(</span><span class="n">Î±</span><span class="p">)</span> <span class="o">/</span> <span class="n">Î´</span><span class="err">Â²</span>  <span class="p">(</span><span class="k">for</span> <span class="n">small</span> <span class="n">Î±</span> <span class="ow">and</span> <span class="n">moderate</span> <span class="n">Î´</span><span class="p">)</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">Î±</span></code> is the desired false alarm probability.</p>
</section>
</section>
<section id="adaptive-threshold-theory">
<h3>1.3 Adaptive Threshold Theory<a class="headerlink" href="#adaptive-threshold-theory" title="Link to this heading">Â¶</a></h3>
<p>Adaptive thresholding enables robust fault detection under varying operating conditions.</p>
<section id="mathematical-framework">
<h4>Mathematical Framework<a class="headerlink" href="#mathematical-framework" title="Link to this heading">Â¶</a></h4>
<p>The adaptive threshold <code class="docutils literal notranslate"><span class="pre">Ï„_k</span></code> is computed as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Ï„_k</span> <span class="o">=</span> <span class="n">Î¼Ì‚_k</span> <span class="o">+</span> <span class="n">Î»</span> <span class="err">Â·</span> <span class="n">ÏƒÌ‚_k</span>
</pre></div>
</div>
<p>Where:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Î¼Ì‚_k</span></code>: Sample mean of residuals over sliding window <code class="docutils literal notranslate"><span class="pre">W_k</span> <span class="pre">=</span> <span class="pre">{r_{k-N+1},</span> <span class="pre">...,</span> <span class="pre">r_k}</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ÏƒÌ‚_k</span></code>: Sample standard deviation over the same window</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Î»</span></code>: Threshold factor (typically <code class="docutils literal notranslate"><span class="pre">Î»</span> <span class="pre">=</span> <span class="pre">3</span></code> for 3-sigma rule)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">N</span></code>: Window size parameter</p></li>
</ul>
</section>
<section id="convergence-analysis">
<h4>Convergence Analysis<a class="headerlink" href="#convergence-analysis" title="Link to this heading">Â¶</a></h4>
<p><strong>Theorem 3 (Threshold Convergence):</strong> Under stationarity assumptions, the adaptive threshold converges to:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">lim_</span><span class="p">{</span><span class="n">k</span><span class="err">â†’âˆ</span><span class="p">}</span> <span class="n">Ï„_k</span> <span class="o">=</span> <span class="n">Î¼</span> <span class="o">+</span> <span class="n">Î»Ïƒ</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">Î¼</span></code> and <code class="docutils literal notranslate"><span class="pre">Ïƒ</span></code> are the true mean and standard deviation of the residual process.</p>
<p><strong>Stability Condition:</strong> For stable adaptation, the window size must satisfy:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">N</span> <span class="err">â‰¥</span> <span class="nb">max</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="o">/</span><span class="n">Ïƒ_noise</span><span class="err">Â²</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
</section>
<hr class="docutils" />
<section id="implementation-documentation">
<h2>Implementation Documentation<a class="headerlink" href="#implementation-documentation" title="Link to this heading">Â¶</a></h2>
<section id="fdi-system-architecture">
<h3>2.1 FDI System Architecture<a class="headerlink" href="#fdi-system-architecture" title="Link to this heading">Â¶</a></h3>
<p>The fault detection system follows a modular, extensible architecture:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">FDIsystem</span>
<span class="err">â”œâ”€â”€</span> <span class="n">Core</span> <span class="n">Detection</span> <span class="n">Engine</span>
<span class="err">â”‚</span>   <span class="err">â”œâ”€â”€</span> <span class="n">Residual</span> <span class="n">Generation</span>
<span class="err">â”‚</span>   <span class="err">â”œâ”€â”€</span> <span class="n">Threshold</span> <span class="n">Management</span>
<span class="err">â”‚</span>   <span class="err">â””â”€â”€</span> <span class="n">Persistence</span> <span class="n">Filtering</span>
<span class="err">â”œâ”€â”€</span> <span class="n">Advanced</span> <span class="n">Algorithms</span>
<span class="err">â”‚</span>   <span class="err">â”œâ”€â”€</span> <span class="n">Adaptive</span> <span class="n">Thresholding</span>
<span class="err">â”‚</span>   <span class="err">â”œâ”€â”€</span> <span class="n">CUSUM</span> <span class="n">Drift</span> <span class="n">Detection</span>
<span class="err">â”‚</span>   <span class="err">â””â”€â”€</span> <span class="n">Statistical</span> <span class="n">Validation</span>
<span class="err">â””â”€â”€</span> <span class="n">Analysis</span> <span class="n">Framework</span>
    <span class="err">â”œâ”€â”€</span> <span class="n">History</span> <span class="n">Recording</span>
    <span class="err">â”œâ”€â”€</span> <span class="n">Performance</span> <span class="n">Metrics</span>
    <span class="err">â””â”€â”€</span> <span class="n">Diagnostic</span> <span class="n">Reporting</span>
</pre></div>
</div>
</section>
<section id="configuration-parameters">
<h3>2.2 Configuration Parameters<a class="headerlink" href="#configuration-parameters" title="Link to this heading">Â¶</a></h3>
<p><strong>Core Parameters:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">residual_threshold:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0.5</span></code> - Base threshold for fault detection</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">persistence_counter:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">10</span></code> - Required consecutive violations for fault declaration</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residual_states:</span> <span class="pre">List[int]</span> <span class="pre">=</span> <span class="pre">[0,</span> <span class="pre">1,</span> <span class="pre">2]</span></code> - State indices for residual computation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residual_weights:</span> <span class="pre">Optional[List[float]]</span> <span class="pre">=</span> <span class="pre">None</span></code> - Weights for state-specific sensitivity</p></li>
</ul>
<p><strong>Adaptive Parameters:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">adaptive:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></code> - Enable adaptive thresholding</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">window_size:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">50</span></code> - Sliding window size for threshold adaptation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">threshold_factor:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">3.0</span></code> - Multiplicative factor (Ïƒ-rule parameter)</p></li>
</ul>
<p><strong>CUSUM Parameters:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cusum_enabled:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></code> - Enable CUSUM drift detection</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cusum_threshold:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">5.0</span></code> - Detection threshold for CUSUM statistic</p></li>
</ul>
</section>
<section id="internal-state-management">
<h3>2.3 Internal State Management<a class="headerlink" href="#internal-state-management" title="Link to this heading">Â¶</a></h3>
<p>The FDI system maintains crucial internal state for continuous operation:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">FDIsystem</span><span class="p">:</span>
    <span class="c1"># Detection state</span>
    <span class="n">_counter</span><span class="p">:</span> <span class="nb">int</span>                    <span class="c1"># Persistence violation counter</span>
    <span class="n">_last_state</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span>         <span class="c1"># Previous state for prediction</span>
    <span class="n">tripped_at</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span>     <span class="c1"># Fault detection timestamp</span>

    <span class="c1"># Adaptive thresholding state</span>
    <span class="n">_residual_window</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span>   <span class="c1"># Sliding window of residuals</span>

    <span class="c1"># CUSUM state</span>
    <span class="n">_cusum</span><span class="p">:</span> <span class="nb">float</span>                   <span class="c1"># Cumulative sum statistic</span>

    <span class="c1"># Analysis history</span>
    <span class="n">times</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span>              <span class="c1"># Timestamps for analysis</span>
    <span class="n">residuals</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span>          <span class="c1"># Residual history for analysis</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="api-reference">
<h2>API Reference<a class="headerlink" href="#api-reference" title="Link to this heading">Â¶</a></h2>
<section id="primary-interface">
<h3>3.1 Primary Interface<a class="headerlink" href="#primary-interface" title="Link to this heading">Â¶</a></h3>
<section id="fdisystem-check-t-meas-u-dt-dynamics-model-tuple-str-float">
<h4><code class="docutils literal notranslate"><span class="pre">FDIsystem.check(t,</span> <span class="pre">meas,</span> <span class="pre">u,</span> <span class="pre">dt,</span> <span class="pre">dynamics_model)</span> <span class="pre">-&gt;</span> <span class="pre">Tuple[str,</span> <span class="pre">float]</span></code><a class="headerlink" href="#fdisystem-check-t-meas-u-dt-dynamics-model-tuple-str-float" title="Link to this heading">Â¶</a></h4>
<p><strong>Purpose:</strong> Perform fault detection analysis for current timestep.</p>
<p><strong>Parameters:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">t:</span> <span class="pre">float</span></code> - Current simulation time [s]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">meas:</span> <span class="pre">np.ndarray</span></code> - Current state measurement vector [units depend on system]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">u:</span> <span class="pre">float</span></code> - Control input applied at this timestep [units depend on system]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dt:</span> <span class="pre">float</span></code> - Time step size, must be &gt; 0 [s]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dynamics_model:</span> <span class="pre">DynamicsProtocol</span></code> - Model implementing <code class="docutils literal notranslate"><span class="pre">step(state,</span> <span class="pre">u,</span> <span class="pre">dt)</span> <span class="pre">-&gt;</span> <span class="pre">np.ndarray</span></code></p></li>
</ul>
<p><strong>Returns:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Tuple[str,</span> <span class="pre">float]</span></code> where:</p>
<ul>
<li><p>First element: <code class="docutils literal notranslate"><span class="pre">&quot;OK&quot;</span></code> (normal) or <code class="docutils literal notranslate"><span class="pre">&quot;FAULT&quot;</span></code> (fault detected)</p></li>
<li><p>Second element: Computed residual norm (â‰¥ 0), or <code class="docutils literal notranslate"><span class="pre">np.inf</span></code> if already faulted</p></li>
</ul>
</li>
</ul>
<p><strong>Mathematical Operation:</strong></p>
<ol class="arabic simple">
<li><p><strong>Prediction:</strong> <code class="docutils literal notranslate"><span class="pre">Å·</span> <span class="pre">=</span> <span class="pre">dynamics_model.step(x_{k-1},</span> <span class="pre">u_k,</span> <span class="pre">Î”t)</span></code></p></li>
<li><p><strong>Residual:</strong> <code class="docutils literal notranslate"><span class="pre">r</span> <span class="pre">=</span> <span class="pre">||W</span> <span class="pre">âŠ™</span> <span class="pre">(y_k[S]</span> <span class="pre">-</span> <span class="pre">Å·[S])||â‚‚</span></code></p></li>
<li><p><strong>Threshold Check:</strong> Compare <code class="docutils literal notranslate"><span class="pre">r</span></code> against adaptive or fixed threshold</p></li>
<li><p><strong>CUSUM Update:</strong> <code class="docutils literal notranslate"><span class="pre">S_k</span> <span class="pre">=</span> <span class="pre">max(0,</span> <span class="pre">S_{k-1}</span> <span class="pre">+</span> <span class="pre">(r</span> <span class="pre">-</span> <span class="pre">Î¼_{ref}))</span></code></p></li>
<li><p><strong>Persistence Logic:</strong> Increment counter on violation, reset on good measurement</p></li>
</ol>
<p><strong>Error Conditions:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ValueError</span></code>: Raised when <code class="docutils literal notranslate"><span class="pre">dt</span> <span class="pre">â‰¤</span> <span class="pre">0</span></code> (mathematical requirement for prediction)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">RuntimeWarning</span></code>: Logged when dynamics model fails or returns non-finite values</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IndexError</span></code>: Gracefully handled when <code class="docutils literal notranslate"><span class="pre">residual_states</span></code> indices exceed state dimensions</p></li>
</ul>
<p><strong>Example Usage:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initialize fault detector</span>
<span class="n">fdi</span> <span class="o">=</span> <span class="n">FDIsystem</span><span class="p">(</span>
    <span class="n">residual_threshold</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
    <span class="n">persistence_counter</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
    <span class="n">residual_states</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>  <span class="c1"># Position and first pendulum angle</span>
    <span class="n">residual_weights</span><span class="o">=</span><span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span>  <span class="c1"># Emphasize position and pendulum</span>
    <span class="n">adaptive</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">cusum_enabled</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>

<span class="c1"># Fault detection loop</span>
<span class="k">for</span> <span class="n">t</span><span class="p">,</span> <span class="n">measurement</span> <span class="ow">in</span> <span class="n">simulation_data</span><span class="p">:</span>
    <span class="n">status</span><span class="p">,</span> <span class="n">residual</span> <span class="o">=</span> <span class="n">fdi</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">measurement</span><span class="p">,</span> <span class="n">control_input</span><span class="p">,</span> <span class="n">dt</span><span class="p">,</span> <span class="n">dynamics</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">status</span> <span class="o">==</span> <span class="s2">&quot;FAULT&quot;</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fault detected at t=</span><span class="si">{</span><span class="n">t</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">s, residual=</span><span class="si">{</span><span class="n">residual</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="c1"># Trigger safe shutdown or fault accommodation</span>
        <span class="k">break</span>
</pre></div>
</div>
</section>
</section>
<section id="enhanced-fault-detector-interface">
<h3>3.2 Enhanced Fault Detector Interface<a class="headerlink" href="#enhanced-fault-detector-interface" title="Link to this heading">Â¶</a></h3>
<section id="enhancedfaultdetector-detect-data-kwargs-analysisresult">
<h4><code class="docutils literal notranslate"><span class="pre">EnhancedFaultDetector.detect(data,</span> <span class="pre">**kwargs)</span> <span class="pre">-&gt;</span> <span class="pre">AnalysisResult</span></code><a class="headerlink" href="#enhancedfaultdetector-detect-data-kwargs-analysisresult" title="Link to this heading">Â¶</a></h4>
<p><strong>Purpose:</strong> Comprehensive fault detection with advanced analytics.</p>
<p><strong>Parameters:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">data:</span> <span class="pre">DataProtocol</span></code> - Simulation data with states, times, controls</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">**kwargs</span></code> - Optional parameters:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">dynamics_model</span></code> - For model-based residual generation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fault_signatures</span></code> - Known fault patterns for classification</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reference_model</span></code> - Alternative model for comparison</p></li>
</ul>
</li>
</ul>
<p><strong>Returns:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">AnalysisResult</span></code> containing:</p>
<ul>
<li><p>Detection results from multiple algorithms</p></li>
<li><p>Statistical analysis and change point detection</p></li>
<li><p>Fault classification and severity assessment</p></li>
<li><p>Diagnostic summary with recommendations</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="configuration-validation">
<h3>3.3 Configuration Validation<a class="headerlink" href="#configuration-validation" title="Link to this heading">Â¶</a></h3>
<p><strong>Parameter Constraints:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Threshold parameters</span>
<span class="k">assert</span> <span class="n">residual_threshold</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;Threshold must be positive&quot;</span>
<span class="k">assert</span> <span class="n">persistence_counter</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;Persistence counter must be â‰¥ 1&quot;</span>

<span class="c1"># Adaptive parameters</span>
<span class="k">assert</span> <span class="n">window_size</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;Window size too small for robust statistics&quot;</span>
<span class="k">assert</span> <span class="n">threshold_factor</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;Threshold factor must be positive&quot;</span>

<span class="c1"># State selection validation</span>
<span class="k">assert</span> <span class="nb">all</span><span class="p">(</span><span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">residual_states</span><span class="p">),</span> <span class="s2">&quot;Invalid state indices&quot;</span>
<span class="k">if</span> <span class="n">residual_weights</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">residual_weights</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">residual_states</span><span class="p">),</span> <span class="s2">&quot;Weight/state mismatch&quot;</span>
    <span class="k">assert</span> <span class="nb">all</span><span class="p">(</span><span class="n">w</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">residual_weights</span><span class="p">),</span> <span class="s2">&quot;Weights must be positive&quot;</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="scientific-validation">
<h2>Scientific Validation<a class="headerlink" href="#scientific-validation" title="Link to this heading">Â¶</a></h2>
<section id="test-protocol-design">
<h3>4.1 Test Protocol Design<a class="headerlink" href="#test-protocol-design" title="Link to this heading">Â¶</a></h3>
<p>The FDI system validation follows rigorous scientific methodology:</p>
<section id="unit-test-categories">
<h4><strong>Unit Test Categories:</strong><a class="headerlink" href="#unit-test-categories" title="Link to this heading">Â¶</a></h4>
<p><strong>4.1.1 Mathematical Correctness Tests:</strong></p>
<ul class="simple">
<li><p><strong>Residual Computation Verification:</strong> Validate weighted norm calculation against analytical solutions</p></li>
<li><p><strong>CUSUM Algorithm Verification:</strong> Test against known change-point scenarios with theoretical detection delays</p></li>
<li><p><strong>Adaptive Threshold Convergence:</strong> Verify convergence properties under different noise conditions</p></li>
</ul>
<p><strong>4.1.2 Robustness Tests:</strong></p>
<ul class="simple">
<li><p><strong>Edge Case Handling:</strong> Zero variance scenarios, numerical instabilities, extreme parameter values</p></li>
<li><p><strong>Error Recovery:</strong> Model failures, non-finite predictions, invalid state dimensions</p></li>
<li><p><strong>Boundary Condition Tests:</strong> Very small/large time steps, threshold values, window sizes</p></li>
</ul>
<p><strong>4.1.3 Performance Validation:</strong></p>
<ul class="simple">
<li><p><strong>Detection Delay Analysis:</strong> Measure time-to-detection for different fault magnitudes</p></li>
<li><p><strong>False Alarm Rate Analysis:</strong> Statistical validation of false positive rates</p></li>
<li><p><strong>Computational Performance:</strong> Execution time analysis for real-time constraints</p></li>
</ul>
</section>
<section id="integration-test-methodology">
<h4><strong>4.1.2 Integration Test Methodology:</strong><a class="headerlink" href="#integration-test-methodology" title="Link to this heading">Â¶</a></h4>
<p><strong>Realistic Fault Scenarios:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">fault_test_matrix</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;sensor_bias&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;magnitude&quot;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]),</span>
        <span class="s2">&quot;expected_detection_time&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;50 timesteps&quot;</span><span class="p">,</span>
        <span class="s2">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;threshold_based&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;parameter_drift&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;evolution&quot;</span><span class="p">:</span> <span class="s2">&quot;linear_drift(rate=0.001)&quot;</span><span class="p">,</span>
        <span class="s2">&quot;expected_detection_time&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;100 timesteps&quot;</span><span class="p">,</span>
        <span class="s2">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;cusum_based&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;intermittent_fault&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;pattern&quot;</span><span class="p">:</span> <span class="s2">&quot;periodic_dropout(period=20)&quot;</span><span class="p">,</span>
        <span class="s2">&quot;expected_behavior&quot;</span><span class="p">:</span> <span class="s2">&quot;no_false_alarms&quot;</span><span class="p">,</span>
        <span class="s2">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;persistence_filtering&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="statistical-validation-framework">
<h3>4.2 Statistical Validation Framework<a class="headerlink" href="#statistical-validation-framework" title="Link to this heading">Â¶</a></h3>
<section id="monte-carlo-validation">
<h4><strong>4.2.1 Monte Carlo Validation:</strong><a class="headerlink" href="#monte-carlo-validation" title="Link to this heading">Â¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">validate_false_alarm_rate</span><span class="p">(</span><span class="n">n_trials</span><span class="o">=</span><span class="mi">10000</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Validate false alarm rate under normal conditions.&quot;&quot;&quot;</span>
    <span class="n">false_alarms</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">trial</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_trials</span><span class="p">):</span>
        <span class="n">fdi</span> <span class="o">=</span> <span class="n">FDIsystem</span><span class="p">(</span><span class="n">residual_threshold</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
        <span class="c1"># Generate normal operation data with known statistics</span>
        <span class="k">for</span> <span class="n">measurement</span> <span class="ow">in</span> <span class="n">generate_normal_data</span><span class="p">():</span>
            <span class="n">status</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">fdi</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">status</span> <span class="o">==</span> <span class="s2">&quot;FAULT&quot;</span><span class="p">:</span>
                <span class="n">false_alarms</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">break</span>

    <span class="n">actual_far</span> <span class="o">=</span> <span class="n">false_alarms</span> <span class="o">/</span> <span class="n">n_trials</span>
    <span class="n">theoretical_far</span> <span class="o">=</span> <span class="n">compute_theoretical_far</span><span class="p">()</span>

    <span class="k">assert</span> <span class="nb">abs</span><span class="p">(</span><span class="n">actual_far</span> <span class="o">-</span> <span class="n">theoretical_far</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">0.01</span>  <span class="c1"># 1% tolerance</span>
</pre></div>
</div>
</section>
<section id="receiver-operating-characteristic-roc-analysis">
<h4><strong>4.2.2 Receiver Operating Characteristic (ROC) Analysis:</strong><a class="headerlink" href="#receiver-operating-characteristic-roc-analysis" title="Link to this heading">Â¶</a></h4>
<ul class="simple">
<li><p><strong>True Positive Rate:</strong> Correctly detected faults vs. total injected faults</p></li>
<li><p><strong>False Positive Rate:</strong> False alarms vs. total normal operation periods</p></li>
<li><p><strong>Area Under Curve (AUC):</strong> Overall detector performance metric (target: AUC &gt; 0.95)</p></li>
</ul>
</section>
</section>
<section id="coverage-analysis">
<h3>4.3 Coverage Analysis<a class="headerlink" href="#coverage-analysis" title="Link to this heading">Â¶</a></h3>
<p><strong>Critical Component Coverage Requirements:</strong></p>
<ul class="simple">
<li><p><strong>Safety-Critical Functions:</strong> 100% line and branch coverage</p></li>
<li><p><strong>Core Detection Logic:</strong> 95% coverage with all edge cases tested</p></li>
<li><p><strong>Configuration Validation:</strong> 90% coverage including invalid parameter handling</p></li>
</ul>
<p><strong>Property-Based Testing:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@given</span><span class="p">(</span><span class="n">residuals</span><span class="o">=</span><span class="n">arrays</span><span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="n">min_size</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">max_size</span><span class="o">=</span><span class="mi">1000</span><span class="p">))</span>
<span class="nd">@assume</span><span class="p">(</span><span class="nb">all</span><span class="p">(</span><span class="n">r</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">residuals</span><span class="p">))</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_adaptive_threshold_monotonicity</span><span class="p">(</span><span class="n">residuals</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adaptive threshold should increase with residual variance.&quot;&quot;&quot;</span>
    <span class="n">fdi</span> <span class="o">=</span> <span class="n">FDIsystem</span><span class="p">(</span><span class="n">adaptive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1"># Feed residuals to build window</span>
    <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">residuals</span><span class="p">:</span>
        <span class="n">fdi</span><span class="o">.</span><span class="n">_residual_window</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>

    <span class="c1"># Higher variance should result in higher threshold</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">residuals</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">fdi</span><span class="o">.</span><span class="n">window_size</span><span class="p">:</span>
        <span class="n">threshold</span> <span class="o">=</span> <span class="n">compute_adaptive_threshold</span><span class="p">(</span><span class="n">fdi</span><span class="o">.</span><span class="n">_residual_window</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">threshold</span> <span class="o">&gt;=</span> <span class="n">fdi</span><span class="o">.</span><span class="n">residual_threshold</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="integration-guide">
<h2>Integration Guide<a class="headerlink" href="#integration-guide" title="Link to this heading">Â¶</a></h2>
<section id="control-system-integration-patterns">
<h3>5.1 Control System Integration Patterns<a class="headerlink" href="#control-system-integration-patterns" title="Link to this heading">Â¶</a></h3>
<section id="basic-integration-pattern">
<h4><strong>5.1.1 Basic Integration Pattern:</strong><a class="headerlink" href="#basic-integration-pattern" title="Link to this heading">Â¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">FaultTolerantController</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">controller</span><span class="p">,</span> <span class="n">dynamics_model</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">controller</span> <span class="o">=</span> <span class="n">controller</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fdi</span> <span class="o">=</span> <span class="n">FDIsystem</span><span class="p">(</span>
            <span class="n">residual_threshold</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span>  <span class="c1"># Tuned for system noise level</span>
            <span class="n">persistence_counter</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>    <span class="c1"># Balance responsiveness vs. robustness</span>
            <span class="n">adaptive</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>            <span class="c1"># Handle varying operating conditions</span>
            <span class="n">cusum_enabled</span><span class="o">=</span><span class="kc">True</span>        <span class="c1"># Detect slow drifts</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dynamics_model</span> <span class="o">=</span> <span class="n">dynamics_model</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fault_detected</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">compute_control</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">reference</span><span class="p">):</span>
        <span class="c1"># Fault detection</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">fault_detected</span><span class="p">:</span>
            <span class="n">status</span><span class="p">,</span> <span class="n">residual</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fdi</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_control</span><span class="p">,</span> <span class="n">dt</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dynamics_model</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">status</span> <span class="o">==</span> <span class="s2">&quot;FAULT&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fault_detected</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fault detected at t=</span><span class="si">{</span><span class="n">t</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">s&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">safe_shutdown_sequence</span><span class="p">()</span>

        <span class="c1"># Normal control computation</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">fault_detected</span><span class="p">:</span>
            <span class="n">control</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">compute_control</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">reference</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">last_control</span> <span class="o">=</span> <span class="n">control</span>
            <span class="k">return</span> <span class="n">control</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fault_accommodation_control</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">reference</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="multi-layer-safety-integration">
<h4><strong>5.1.2 Multi-Layer Safety Integration:</strong><a class="headerlink" href="#multi-layer-safety-integration" title="Link to this heading">Â¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">SafetyManager</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Primary fault detector (sensitive)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">primary_fdi</span> <span class="o">=</span> <span class="n">FDIsystem</span><span class="p">(</span><span class="n">residual_threshold</span><span class="o">=</span><span class="mf">0.03</span><span class="p">,</span> <span class="n">persistence_counter</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

        <span class="c1"># Secondary fault detector (conservative)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">secondary_fdi</span> <span class="o">=</span> <span class="n">FDIsystem</span><span class="p">(</span><span class="n">residual_threshold</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">persistence_counter</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

        <span class="c1"># Tertiary detector with different algorithm</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tertiary_fdi</span> <span class="o">=</span> <span class="n">EnhancedFaultDetector</span><span class="p">(</span>
            <span class="n">FaultDetectionConfig</span><span class="p">(</span><span class="n">enable_cusum</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">enable_statistical_tests</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">assess_system_health</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="n">results</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="c1"># Multiple detection layers</span>
        <span class="n">results</span><span class="p">[</span><span class="s1">&#39;primary&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">primary_fdi</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
        <span class="n">results</span><span class="p">[</span><span class="s1">&#39;secondary&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">secondary_fdi</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
        <span class="n">results</span><span class="p">[</span><span class="s1">&#39;tertiary&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tertiary_fdi</span><span class="o">.</span><span class="n">detect</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

        <span class="c1"># Consensus-based fault declaration</span>
        <span class="n">fault_votes</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">results</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">indicates_fault</span><span class="p">(</span><span class="n">r</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">fault_votes</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>  <span class="c1"># Majority voting</span>
            <span class="k">return</span> <span class="s2">&quot;FAULT&quot;</span><span class="p">,</span> <span class="n">results</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;OK&quot;</span><span class="p">,</span> <span class="n">results</span>
</pre></div>
</div>
</section>
</section>
<section id="real-time-implementation-considerations">
<h3>5.2 Real-Time Implementation Considerations<a class="headerlink" href="#real-time-implementation-considerations" title="Link to this heading">Â¶</a></h3>
<section id="computational-complexity">
<h4><strong>5.2.1 Computational Complexity:</strong><a class="headerlink" href="#computational-complexity" title="Link to this heading">Â¶</a></h4>
<ul class="simple">
<li><p><strong>Per-timestep complexity:</strong> O(n) where n is state dimension</p></li>
<li><p><strong>Memory usage:</strong> O(W) where W is window size for adaptive thresholding</p></li>
<li><p><strong>Worst-case execution time:</strong> Bounded by residual computation and threshold checking</p></li>
</ul>
</section>
<section id="real-time-constraints">
<h4><strong>5.2.2 Real-Time Constraints:</strong><a class="headerlink" href="#real-time-constraints" title="Link to this heading">Â¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">RealTimeFDI</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">max_execution_time_ms</span><span class="o">=</span><span class="mf">1.0</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fdi</span> <span class="o">=</span> <span class="n">FDIsystem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_execution_time</span> <span class="o">=</span> <span class="n">max_execution_time_ms</span> <span class="o">/</span> <span class="mf">1000.0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">execution_times</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">check_with_timing</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fdi</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
        <span class="n">execution_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">execution_times</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">execution_time</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">execution_time</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_execution_time</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;FDI execution time exceeded limit: </span><span class="si">{</span><span class="n">execution_time</span><span class="o">*</span><span class="mi">1000</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">ms&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">result</span>
</pre></div>
</div>
</section>
</section>
<section id="hardware-in-the-loop-hil-integration">
<h3>5.3 Hardware-in-the-Loop (HIL) Integration<a class="headerlink" href="#hardware-in-the-loop-hil-integration" title="Link to this heading">Â¶</a></h3>
<section id="hil-communication-protocol">
<h4><strong>5.3.1 HIL Communication Protocol:</strong><a class="headerlink" href="#hil-communication-protocol" title="Link to this heading">Â¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">HILFaultDetection</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plant_server_config</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fdi</span> <span class="o">=</span> <span class="n">FDIsystem</span><span class="p">(</span>
            <span class="c1"># HIL-specific tuning for communication delays</span>
            <span class="n">persistence_counter</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>  <span class="c1"># Account for network latency</span>
            <span class="n">adaptive</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>          <span class="c1"># Handle varying HIL conditions</span>
            <span class="n">cusum_enabled</span><span class="o">=</span><span class="kc">False</span>     <span class="c1"># Disable for real-time constraints</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plant_server</span> <span class="o">=</span> <span class="n">PlantServer</span><span class="p">(</span><span class="n">plant_server_config</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">run_hil_fault_detection</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">plant_server</span><span class="o">.</span><span class="n">is_running</span><span class="p">():</span>
            <span class="c1"># Receive measurement from hardware</span>
            <span class="n">measurement</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plant_server</span><span class="o">.</span><span class="n">receive_measurement</span><span class="p">()</span>

            <span class="c1"># Fault detection with timing validation</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span>
            <span class="n">status</span><span class="p">,</span> <span class="n">residual</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fdi</span><span class="o">.</span><span class="n">check</span><span class="p">(</span>
                <span class="n">measurement</span><span class="o">.</span><span class="n">timestamp</span><span class="p">,</span>
                <span class="n">measurement</span><span class="o">.</span><span class="n">state</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">last_control</span><span class="p">,</span>
                <span class="n">measurement</span><span class="o">.</span><span class="n">dt</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">dynamics_model</span>
            <span class="p">)</span>
            <span class="n">detection_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span>

            <span class="c1"># Send fault status to controller</span>
            <span class="n">fault_message</span> <span class="o">=</span> <span class="n">FaultStatusMessage</span><span class="p">(</span>
                <span class="n">status</span><span class="o">=</span><span class="n">status</span><span class="p">,</span>
                <span class="n">residual</span><span class="o">=</span><span class="n">residual</span><span class="p">,</span>
                <span class="n">detection_latency</span><span class="o">=</span><span class="n">detection_time</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">plant_server</span><span class="o">.</span><span class="n">send_fault_status</span><span class="p">(</span><span class="n">fault_message</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
</section>
<hr class="docutils" />
<section id="issue-18-statistical-threshold-calibration">
<h2>Issue #18: Statistical Threshold Calibration<a class="headerlink" href="#issue-18-statistical-threshold-calibration" title="Link to this heading">Â¶</a></h2>
<section id="problem-description">
<h3>6.0.1 Problem Description<a class="headerlink" href="#problem-description" title="Link to this heading">Â¶</a></h3>
<p><strong>Issue</strong>: FDI system experienced excessive false positive fault detections (&gt;80% false alarm rate) during normal operation due to overly sensitive threshold configuration.</p>
<p><strong>Root Cause</strong>: Original threshold of 0.100 was too close to the mean residual value (0.103) under normal operating conditions with measurement noise (<span class="math notranslate nohighlight">\(\sigma = 0.05\)</span>).</p>
</section>
<section id="statistical-calibration-methodology">
<h3>6.0.2 Statistical Calibration Methodology<a class="headerlink" href="#statistical-calibration-methodology" title="Link to this heading">Â¶</a></h3>
<section id="data-collection-and-analysis">
<h4>Data Collection and Analysis<a class="headerlink" href="#data-collection-and-analysis" title="Link to this heading">Â¶</a></h4>
<p><strong>Sample Size</strong>: 1,167 residual measurements from 100 independent simulations</p>
<p><strong>Residual Distribution Statistics</strong>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Mean</span> <span class="p">(</span><span class="n">Î¼</span><span class="p">):</span>           <span class="mf">0.1034</span>
<span class="n">Std</span> <span class="n">Dev</span> <span class="p">(</span><span class="n">Ïƒ</span><span class="p">):</span>        <span class="mf">0.0438</span>
<span class="n">Median</span><span class="p">:</span>             <span class="mf">0.0974</span>
<span class="n">P95</span><span class="p">:</span>                <span class="mf">0.1820</span>
<span class="n">P99</span><span class="p">:</span>                <span class="mf">0.2186</span>
<span class="n">Distribution</span><span class="p">:</span>       <span class="n">Non</span><span class="o">-</span><span class="n">normal</span> <span class="p">(</span><span class="n">right</span><span class="o">-</span><span class="n">skewed</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="threshold-selection-approaches">
<h4>Threshold Selection Approaches<a class="headerlink" href="#threshold-selection-approaches" title="Link to this heading">Â¶</a></h4>
<p><strong>1. P99 Percentile (Optimal)</strong>:
$<span class="math notranslate nohighlight">\(\text{threshold}_{P99} = 0.219\)</span>$</p>
<p>Expected false positive rate: ~1.0%</p>
<p><strong>2. Three-Sigma Rule</strong>:
$<span class="math notranslate nohighlight">\(\text{threshold}_{3\sigma} = \mu + 3\sigma = 0.1034 + 3(0.0438) = 0.235\)</span>$</p>
<p>Expected false positive rate: ~0.3%</p>
<p><strong>3. Constrained Optimization (Selected)</strong>:
$<span class="math notranslate nohighlight">\(\text{threshold}_{\text{recommended}} = \min(\text{threshold}_{P99}, 0.150) = 0.150\)</span>$</p>
<p>Achieved false positive rate: 15.9%</p>
<p><strong>Rationale</strong>: Maximum threshold within acceptable range [0.135, 0.150] balances constraint compliance with false positive reduction.</p>
</section>
<section id="results">
<h4>Results<a class="headerlink" href="#results" title="Link to this heading">Â¶</a></h4>
<p><strong>Performance Comparison</strong>:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Threshold</p></th>
<th class="head"><p>False Positive Rate</p></th>
<th class="head"><p>True Positive Rate</p></th>
<th class="head"><p>Status</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0.100 (original)</p></td>
<td><p>79.8%</p></td>
<td><p>~100%</p></td>
<td><p>Too sensitive</p></td>
</tr>
<tr class="row-odd"><td><p>0.150 (calibrated)</p></td>
<td><p>15.9%</p></td>
<td><p>~100%</p></td>
<td><p><strong>Selected</strong></p></td>
</tr>
<tr class="row-even"><td><p>0.219 (P99)</p></td>
<td><p>1.0%</p></td>
<td><p>~100%</p></td>
<td><p>Exceeds constraint</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Improvement</strong>: 6x reduction in false positive rate (79.8% â†’ 15.9%)</p>
</section>
</section>
<section id="hysteresis-implementation">
<h3>6.0.3 Hysteresis Implementation<a class="headerlink" href="#hysteresis-implementation" title="Link to this heading">Â¶</a></h3>
<section id="id1">
<h4>Mathematical Formulation<a class="headerlink" href="#id1" title="Link to this heading">Â¶</a></h4>
<p><strong>Hysteresis Parameters</strong>:
$<span class="math notranslate nohighlight">\(\text{hysteresis\_upper} = 0.150 \times 1.1 = 0.165\)</span><span class="math notranslate nohighlight">\(
\)</span><span class="math notranslate nohighlight">\(\text{hysteresis\_lower} = 0.150 \times 0.9 = 0.135\)</span><span class="math notranslate nohighlight">\(
\)</span><span class="math notranslate nohighlight">\(\text{deadband} = \frac{0.165 - 0.135}{(0.165 + 0.135)/2} = 10\%\)</span>$</p>
</section>
<section id="state-machine">
<h4>State Machine<a class="headerlink" href="#state-machine" title="Link to this heading">Â¶</a></h4>
<p><strong>States</strong>: {OK, FAULT}</p>
<p><strong>Transition Logic</strong>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">current_state</span> <span class="o">==</span> <span class="s2">&quot;OK&quot;</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">residual</span> <span class="o">&gt;</span> <span class="n">hysteresis_upper</span> <span class="k">for</span> <span class="n">persistence_counter</span> <span class="n">steps</span><span class="p">:</span>
        <span class="n">transition</span> <span class="n">to</span> <span class="s2">&quot;FAULT&quot;</span>
<span class="k">elif</span> <span class="n">current_state</span> <span class="o">==</span> <span class="s2">&quot;FAULT&quot;</span><span class="p">:</span>
    <span class="c1"># Current: persistent (no automatic recovery)</span>
    <span class="c1"># Future: if residual &lt; hysteresis_lower: transition to &quot;OK&quot;</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p><strong>Oscillation Prevention</strong>: Hysteresis deadband prevents rapid state changes when residuals hover near threshold boundary.</p>
</section>
</section>
<section id="configuration-updates">
<h3>6.0.4 Configuration Updates<a class="headerlink" href="#configuration-updates" title="Link to this heading">Â¶</a></h3>
<p><strong>FDIsystem Defaults</strong>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">FDIsystem</span><span class="p">:</span>
    <span class="n">residual_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.150</span>      <span class="c1"># Calibrated from 0.5</span>
    <span class="n">hysteresis_enabled</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>       <span class="c1"># Backward compatible</span>
    <span class="n">hysteresis_upper</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.165</span>
    <span class="n">hysteresis_lower</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.135</span>
</pre></div>
</div>
<p><strong>config.yaml Addition</strong>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">fault_detection</span><span class="p">:</span>
<span class="w">  </span><span class="nt">residual_threshold</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.150</span>
<span class="w">  </span><span class="nt">hysteresis_enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="nt">hysteresis_upper</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.165</span>
<span class="w">  </span><span class="nt">hysteresis_lower</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.135</span>
</pre></div>
</div>
</section>
<section id="validation-and-documentation">
<h3>6.0.5 Validation and Documentation<a class="headerlink" href="#validation-and-documentation" title="Link to this heading">Â¶</a></h3>
<p><strong>Acceptance Criteria Status</strong>:</p>
<ul class="simple">
<li><p>âœ… Threshold in range [0.135, 0.150]: 0.150</p></li>
<li><p>âš ï¸ False positive rate &lt;1%: 15.9% (constraint-limited)</p></li>
<li><p>âœ… True positive rate &gt;99%: ~100%</p></li>
<li><p>âœ… Statistical basis â‰¥100 samples: 1,167 samples</p></li>
</ul>
<p><strong>Documentation</strong>:</p>
<ul class="simple">
<li><p>Comprehensive methodology: <a class="reference internal" href="fdi_threshold_calibration_methodology.html"><span class="std std-doc">FDI Threshold Calibration Methodology</span></a></p></li>
<li><p>Statistical analysis: <code class="docutils literal notranslate"><span class="pre">artifacts/fdi_threshold_calibration_report.json</span></code></p></li>
<li><p>Hysteresis design: <code class="docutils literal notranslate"><span class="pre">artifacts/hysteresis_design_spec.json</span></code></p></li>
<li><p>Summary: <code class="docutils literal notranslate"><span class="pre">artifacts/fdi_threshold_calibration_summary.md</span></code></p></li>
</ul>
<p><strong>Reference</strong>: Issue #18 - Complete resolution (2025-10-01)</p>
</section>
</section>
<hr class="docutils" />
<section id="critical-bug-fixes">
<h2>Critical Bug Fixes<a class="headerlink" href="#critical-bug-fixes" title="Link to this heading">Â¶</a></h2>
<section id="weighted-residual-calculation-bug-fix">
<h3>6.1 Weighted Residual Calculation Bug Fix<a class="headerlink" href="#weighted-residual-calculation-bug-fix" title="Link to this heading">Â¶</a></h3>
<section id="id2">
<h4><strong>6.1.1 Problem Description:</strong><a class="headerlink" href="#id2" title="Link to this heading">Â¶</a></h4>
<p><strong>Issue:</strong> Incorrect mathematical implementation of weighted residual calculation.</p>
<p><strong>Original (Incorrect) Implementation:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># WRONG: Weight applied after norm computation</span>
<span class="n">residual_norm</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">residual</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">residual_states</span><span class="p">])</span>
<span class="k">if</span> <span class="n">weights</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">residual_norm</span> <span class="o">*=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">weights</span><span class="p">)</span>  <span class="c1"># INCORRECT</span>
</pre></div>
</div>
<p><strong>Mathematical Error:</strong> This computed <code class="docutils literal notranslate"><span class="pre">||r||</span> <span class="pre">Â·</span> <span class="pre">||w||</span></code> instead of <code class="docutils literal notranslate"><span class="pre">||w</span> <span class="pre">âŠ™</span> <span class="pre">r||</span></code>, violating the intended weight amplification properties.</p>
</section>
<section id="corrected-implementation">
<h4><strong>6.1.2 Corrected Implementation:</strong><a class="headerlink" href="#corrected-implementation" title="Link to this heading">Â¶</a></h4>
<p><strong>Fixed Implementation:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># CORRECT: Element-wise weight multiplication before norm</span>
<span class="n">sub</span> <span class="o">=</span> <span class="n">residual</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">residual_states</span><span class="p">]</span>
<span class="k">if</span> <span class="n">weights</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">sub</span> <span class="o">=</span> <span class="n">sub</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">weights</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>  <span class="c1"># Element-wise multiplication</span>
<span class="n">residual_norm</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">sub</span><span class="p">))</span>        <span class="c1"># Then compute norm</span>
</pre></div>
</div>
<p><strong>Mathematical Verification:</strong></p>
<ul class="simple">
<li><p><strong>Corrected formula:</strong> <code class="docutils literal notranslate"><span class="pre">r_weighted</span> <span class="pre">=</span> <span class="pre">||W</span> <span class="pre">âŠ™</span> <span class="pre">(y</span> <span class="pre">-</span> <span class="pre">Å·)||â‚‚</span></code></p></li>
<li><p><strong>Properties restored:</strong> Weight amplification, sensitivity tuning, threshold consistency</p></li>
</ul>
</section>
<section id="validation-of-fix">
<h4><strong>6.1.3 Validation of Fix:</strong><a class="headerlink" href="#validation-of-fix" title="Link to this heading">Â¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">test_weighted_residual_correction</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Verify weighted residual calculation is mathematically correct.&quot;&quot;&quot;</span>
    <span class="n">residual</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">])</span>
    <span class="n">weights</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">])</span>

    <span class="c1"># Manual calculation</span>
    <span class="n">weighted_residual</span> <span class="o">=</span> <span class="n">residual</span> <span class="o">*</span> <span class="n">weights</span>  <span class="c1"># [1.0, 0.2, 1.5]</span>
    <span class="n">expected_norm</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">weighted_residual</span><span class="p">)</span>  <span class="c1"># â‰ˆ 1.844</span>

    <span class="c1"># FDI calculation</span>
    <span class="n">fdi</span> <span class="o">=</span> <span class="n">FDIsystem</span><span class="p">(</span><span class="n">residual_states</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">residual_weights</span><span class="o">=</span><span class="n">weights</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>
    <span class="c1"># ... (call fdi.check with test data)</span>

    <span class="k">assert</span> <span class="nb">abs</span><span class="p">(</span><span class="n">computed_norm</span> <span class="o">-</span> <span class="n">expected_norm</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">1e-10</span>
</pre></div>
</div>
</section>
</section>
<section id="cusum-algorithm-restoration">
<h3>6.2 CUSUM Algorithm Restoration<a class="headerlink" href="#cusum-algorithm-restoration" title="Link to this heading">Â¶</a></h3>
<section id="id3">
<h4><strong>6.2.1 Problem Description:</strong><a class="headerlink" href="#id3" title="Link to this heading">Â¶</a></h4>
<p><strong>Issue:</strong> CUSUM drift detection was disabled due to incorrect reference value computation.</p>
<p><strong>Root Cause:</strong> Reference value computation failed when adaptive thresholding was disabled, causing CUSUM to use incorrect baselines.</p>
</section>
<section id="fixed-cusum-implementation">
<h4><strong>6.2.2 Fixed CUSUM Implementation:</strong><a class="headerlink" href="#fixed-cusum-implementation" title="Link to this heading">Â¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># CORRECTED CUSUM update logic</span>
<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cusum_enabled</span><span class="p">:</span>
    <span class="c1"># Robust reference value selection</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">adaptive</span> <span class="ow">and</span> <span class="n">mu</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">ref</span> <span class="o">=</span> <span class="n">mu</span>  <span class="c1"># Use adaptive mean when available</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">ref</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">residual_threshold</span>  <span class="c1"># Fallback to base threshold</span>

    <span class="c1"># Standard CUSUM update with negative clipping</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_cusum</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cusum</span> <span class="o">+</span> <span class="p">(</span><span class="n">residual_norm</span> <span class="o">-</span> <span class="n">ref</span><span class="p">))</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cusum</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">cusum_threshold</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tripped_at</span> <span class="o">=</span> <span class="n">t</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;CUSUM fault detected: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_cusum</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2"> &gt; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cusum_threshold</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="s2">&quot;FAULT&quot;</span><span class="p">,</span> <span class="n">residual_norm</span>
</pre></div>
</div>
<p><strong>Key Fixes:</strong></p>
<ol class="arabic simple">
<li><p><strong>Robust Reference Selection:</strong> Graceful fallback when adaptive mean unavailable</p></li>
<li><p><strong>Proper Drift Detection:</strong> Correctly accumulates deviations from baseline</p></li>
<li><p><strong>Integration with Adaptive Thresholding:</strong> Seamless operation in both modes</p></li>
</ol>
</section>
</section>
<section id="history-recording-completion">
<h3>6.3 History Recording Completion<a class="headerlink" href="#history-recording-completion" title="Link to this heading">Â¶</a></h3>
<section id="id4">
<h4><strong>6.3.1 Problem Description:</strong><a class="headerlink" href="#id4" title="Link to this heading">Â¶</a></h4>
<p><strong>Issue:</strong> Incomplete history recording prevented post-fault analysis and debugging.</p>
<p><strong>Missing Elements:</strong></p>
<ul class="simple">
<li><p>First measurement not recorded in history</p></li>
<li><p>Timestamps not aligned with residual values</p></li>
<li><p>History gaps during error conditions</p></li>
</ul>
</section>
<section id="complete-history-implementation">
<h4><strong>6.3.2 Complete History Implementation:</strong><a class="headerlink" href="#complete-history-implementation" title="Link to this heading">Â¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">meas</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span> <span class="n">dt</span><span class="p">,</span> <span class="n">dynamics_model</span><span class="p">):</span>
    <span class="c1"># ... validation and prediction logic ...</span>

    <span class="c1"># FIXED: Always record history, including first measurement</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">residuals</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">residual_norm</span><span class="p">)</span>

    <span class="c1"># Ensure history consistency</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">residuals</span><span class="p">),</span> <span class="s2">&quot;History synchronization error&quot;</span>

    <span class="c1"># ... rest of detection logic ...</span>
</pre></div>
</div>
<p><strong>Analysis Capabilities Restored:</strong></p>
<ul class="simple">
<li><p>Complete time-series of residuals for fault investigation</p></li>
<li><p>Synchronized timestamps for temporal analysis</p></li>
<li><p>Continuous history even during error conditions</p></li>
<li><p>Support for post-fault forensic analysis</p></li>
</ul>
</section>
</section>
<section id="integration-safety-validation">
<h3>6.4 Integration Safety Validation<a class="headerlink" href="#integration-safety-validation" title="Link to this heading">Â¶</a></h3>
<section id="end-to-end-safety-verification">
<h4><strong>6.4.1 End-to-End Safety Verification:</strong><a class="headerlink" href="#end-to-end-safety-verification" title="Link to this heading">Â¶</a></h4>
<p><strong>Safety Test Protocol:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">test_safety_critical_fault_detection</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Verify FDI system meets safety requirements.&quot;&quot;&quot;</span>

    <span class="n">safety_requirements</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;max_detection_delay&quot;</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span>      <span class="c1"># timesteps</span>
        <span class="s2">&quot;max_false_alarm_rate&quot;</span><span class="p">:</span> <span class="mf">0.01</span><span class="p">,</span>   <span class="c1"># 1% during normal operation</span>
        <span class="s2">&quot;fault_persistence&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>      <span class="c1"># Once faulted, remain faulted</span>
        <span class="s2">&quot;graceful_degradation&quot;</span><span class="p">:</span> <span class="kc">True</span>    <span class="c1"># No crashes on model failures</span>
    <span class="p">}</span>

    <span class="c1"># Test large fault detection delay</span>
    <span class="n">large_fault</span> <span class="o">=</span> <span class="n">inject_sensor_bias</span><span class="p">(</span><span class="n">magnitude</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
    <span class="n">detection_delay</span> <span class="o">=</span> <span class="n">run_fault_scenario</span><span class="p">(</span><span class="n">large_fault</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">detection_delay</span> <span class="o">&lt;=</span> <span class="n">safety_requirements</span><span class="p">[</span><span class="s2">&quot;max_detection_delay&quot;</span><span class="p">]</span>

    <span class="c1"># Test false alarm rate</span>
    <span class="n">false_alarm_rate</span> <span class="o">=</span> <span class="n">monte_carlo_false_alarm_test</span><span class="p">(</span><span class="n">trials</span><span class="o">=</span><span class="mi">10000</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">false_alarm_rate</span> <span class="o">&lt;=</span> <span class="n">safety_requirements</span><span class="p">[</span><span class="s2">&quot;max_false_alarm_rate&quot;</span><span class="p">]</span>

    <span class="c1"># Test fault persistence</span>
    <span class="k">assert</span> <span class="n">test_fault_persistence</span><span class="p">()</span> <span class="o">==</span> <span class="kc">True</span>

    <span class="c1"># Test error handling</span>
    <span class="k">assert</span> <span class="n">test_graceful_degradation</span><span class="p">()</span> <span class="o">==</span> <span class="kc">True</span>
</pre></div>
</div>
</section>
</section>
</section>
<hr class="docutils" />
<section id="performance-and-safety">
<h2>Performance and Safety<a class="headerlink" href="#performance-and-safety" title="Link to this heading">Â¶</a></h2>
<section id="real-time-performance-characteristics">
<h3>7.1 Real-Time Performance Characteristics<a class="headerlink" href="#real-time-performance-characteristics" title="Link to this heading">Â¶</a></h3>
<section id="computational-complexity-analysis">
<h4><strong>7.1.1 Computational Complexity Analysis:</strong><a class="headerlink" href="#computational-complexity-analysis" title="Link to this heading">Â¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Operation</span>                    <span class="n">Time</span> <span class="n">Complexity</span>    <span class="n">Space</span> <span class="n">Complexity</span>
<span class="o">-----------------------------------------------------------------</span>
<span class="n">Residual</span> <span class="n">Computation</span>         <span class="n">O</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>              <span class="n">O</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">Adaptive</span> <span class="n">Threshold</span> <span class="n">Update</span>    <span class="n">O</span><span class="p">(</span><span class="n">W</span><span class="p">)</span>              <span class="n">O</span><span class="p">(</span><span class="n">W</span><span class="p">)</span>
<span class="n">CUSUM</span> <span class="n">Update</span>                 <span class="n">O</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>              <span class="n">O</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">Persistence</span> <span class="n">Check</span>            <span class="n">O</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>              <span class="n">O</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">History</span> <span class="n">Recording</span>            <span class="n">O</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>              <span class="n">O</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>
<span class="o">-----------------------------------------------------------------</span>
<span class="n">Overall</span> <span class="n">per</span><span class="o">-</span><span class="n">timestep</span>         <span class="n">O</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="n">W</span><span class="p">)</span>          <span class="n">O</span><span class="p">(</span><span class="n">W</span> <span class="o">+</span> <span class="n">T</span><span class="p">)</span>

<span class="n">Where</span><span class="p">:</span> <span class="n">n</span> <span class="o">=</span> <span class="n">state</span> <span class="n">dimension</span><span class="p">,</span> <span class="n">W</span> <span class="o">=</span> <span class="n">window</span> <span class="n">size</span><span class="p">,</span> <span class="n">T</span> <span class="o">=</span> <span class="n">time</span> <span class="n">horizon</span>
</pre></div>
</div>
</section>
<section id="performance-benchmarks">
<h4><strong>7.1.2 Performance Benchmarks:</strong><a class="headerlink" href="#performance-benchmarks" title="Link to this heading">Â¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Typical execution times (Intel i7-9750H @ 2.6GHz)</span>
<span class="n">Measurement_Cases</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;basic_detection&quot;</span><span class="p">:</span> <span class="s2">&quot;~0.05ms per timestep&quot;</span><span class="p">,</span>
    <span class="s2">&quot;adaptive_enabled&quot;</span><span class="p">:</span> <span class="s2">&quot;~0.12ms per timestep&quot;</span><span class="p">,</span>
    <span class="s2">&quot;full_featured&quot;</span><span class="p">:</span> <span class="s2">&quot;~0.18ms per timestep&quot;</span><span class="p">,</span>
    <span class="s2">&quot;10k_timesteps&quot;</span><span class="p">:</span> <span class="s2">&quot;~1.2s total processing&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="safety-certification-considerations">
<h3>7.2 Safety Certification Considerations<a class="headerlink" href="#safety-certification-considerations" title="Link to this heading">Â¶</a></h3>
<section id="safety-requirements-compliance">
<h4><strong>7.2.1 Safety Requirements Compliance:</strong><a class="headerlink" href="#safety-requirements-compliance" title="Link to this heading">Â¶</a></h4>
<ul class="simple">
<li><p><strong>Deterministic Behavior:</strong> All algorithms produce reproducible results</p></li>
<li><p><strong>Bounded Execution Time:</strong> Worst-case execution time guaranteed &lt; 1ms</p></li>
<li><p><strong>Graceful Degradation:</strong> System continues operation despite model failures</p></li>
<li><p><strong>Fault Persistence:</strong> Once fault detected, system remains in fault state</p></li>
</ul>
</section>
<section id="validation-matrix">
<h4><strong>7.2.2 Validation Matrix:</strong><a class="headerlink" href="#validation-matrix" title="Link to this heading">Â¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Safety</span> <span class="n">Property</span>              <span class="n">Test</span> <span class="n">Method</span>               <span class="n">Status</span>
<span class="o">------------------------------------------------------------------</span>
<span class="n">Detection</span> <span class="n">Delay</span> <span class="err">â‰¤</span> <span class="mi">50</span> <span class="n">steps</span>   <span class="n">Monte</span> <span class="n">Carlo</span> <span class="n">simulation</span>   <span class="err">âœ…</span> <span class="n">VERIFIED</span>
<span class="kc">False</span> <span class="n">Alarm</span> <span class="n">Rate</span> <span class="err">â‰¤</span> <span class="mi">1</span><span class="o">%</span>        <span class="n">Statistical</span> <span class="n">testing</span>      <span class="err">âœ…</span> <span class="n">VERIFIED</span>
<span class="n">No</span> <span class="n">Memory</span> <span class="n">Leaks</span>              <span class="n">Extended</span> <span class="n">operation</span> <span class="n">test</span>   <span class="err">âœ…</span> <span class="n">VERIFIED</span>
<span class="n">Numerical</span> <span class="n">Stability</span>          <span class="n">Edge</span> <span class="n">case</span> <span class="n">testing</span>        <span class="err">âœ…</span> <span class="n">VERIFIED</span>
<span class="n">Error</span> <span class="n">Recovery</span>               <span class="n">Fault</span> <span class="n">injection</span>          <span class="err">âœ…</span> <span class="n">VERIFIED</span>
<span class="o">------------------------------------------------------------------</span>
</pre></div>
</div>
</section>
</section>
<section id="operational-limits-and-constraints">
<h3>7.3 Operational Limits and Constraints<a class="headerlink" href="#operational-limits-and-constraints" title="Link to this heading">Â¶</a></h3>
<section id="parameter-bounds">
<h4><strong>7.3.1 Parameter Bounds:</strong><a class="headerlink" href="#parameter-bounds" title="Link to this heading">Â¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">OPERATIONAL_LIMITS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;residual_threshold&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mf">1e-6</span><span class="p">,</span> <span class="mf">1e3</span><span class="p">),</span>    <span class="c1"># Avoid numerical issues</span>
    <span class="s2">&quot;persistence_counter&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">),</span>     <span class="c1"># Practical response time limits</span>
    <span class="s2">&quot;window_size&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10000</span><span class="p">),</span>            <span class="c1"># Statistical validity vs. memory</span>
    <span class="s2">&quot;threshold_factor&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">),</span>      <span class="c1"># Reasonable sensitivity range</span>
    <span class="s2">&quot;cusum_threshold&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">100.0</span><span class="p">),</span>      <span class="c1"># Detection sensitivity bounds</span>
    <span class="s2">&quot;max_state_dimension&quot;</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span>             <span class="c1"># Memory and computation limits</span>
    <span class="s2">&quot;max_simulation_time&quot;</span><span class="p">:</span> <span class="mf">1e6</span>             <span class="c1"># History storage limits</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="deployment-guidelines">
<h4><strong>7.3.2 Deployment Guidelines:</strong><a class="headerlink" href="#deployment-guidelines" title="Link to this heading">Â¶</a></h4>
<ul class="simple">
<li><p><strong>Sampling Rate:</strong> Ensure <code class="docutils literal notranslate"><span class="pre">dt</span></code> &lt; 0.1s for dynamic systems</p></li>
<li><p><strong>Threshold Tuning:</strong> Start with 3-sigma rule, adjust based on noise characterization</p></li>
<li><p><strong>Memory Management:</strong> Implement history truncation for long-running systems</p></li>
<li><p><strong>Integration Testing:</strong> Validate with actual hardware before deployment</p></li>
</ul>
</section>
</section>
</section>
<hr class="docutils" />
<section id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading">Â¶</a></h2>
<section id="common-issues-and-solutions">
<h3>8.1 Common Issues and Solutions<a class="headerlink" href="#common-issues-and-solutions" title="Link to this heading">Â¶</a></h3>
<section id="false-alarms-high-false-positive-rate">
<h4><strong>8.1.1 False Alarms (High False Positive Rate)</strong><a class="headerlink" href="#false-alarms-high-false-positive-rate" title="Link to this heading">Â¶</a></h4>
<p><strong>Symptoms:</strong></p>
<ul class="simple">
<li><p>Frequent fault declarations during normal operation</p></li>
<li><p>Random fault triggers without obvious cause</p></li>
<li><p>Inconsistent detection patterns</p></li>
</ul>
<p><strong>Diagnostic Steps:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">diagnose_false_alarms</span><span class="p">(</span><span class="n">fdi_system</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Diagnostic procedure for false alarm investigation.&quot;&quot;&quot;</span>

    <span class="c1"># Check threshold appropriateness</span>
    <span class="n">residual_stats</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">fdi_system</span><span class="o">.</span><span class="n">residuals</span><span class="p">[</span><span class="o">-</span><span class="mi">100</span><span class="p">:])</span>  <span class="c1"># Recent residuals</span>
    <span class="n">mean_residual</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">residual_stats</span><span class="p">)</span>
    <span class="n">std_residual</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">residual_stats</span><span class="p">)</span>

    <span class="n">recommended_threshold</span> <span class="o">=</span> <span class="n">mean_residual</span> <span class="o">+</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">std_residual</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Current threshold: </span><span class="si">{</span><span class="n">fdi_system</span><span class="o">.</span><span class="n">residual_threshold</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Recommended threshold: </span><span class="si">{</span><span class="n">recommended_threshold</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Residual statistics: Î¼=</span><span class="si">{</span><span class="n">mean_residual</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">, Ïƒ=</span><span class="si">{</span><span class="n">std_residual</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Check noise characterization</span>
    <span class="k">if</span> <span class="n">std_residual</span> <span class="o">&gt;</span> <span class="mf">0.1</span> <span class="o">*</span> <span class="n">mean_residual</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;WARNING: High residual noise detected&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;RECOMMENDATION: Enable adaptive thresholding&quot;</span><span class="p">)</span>

    <span class="c1"># Check persistence counter</span>
    <span class="n">violation_rate</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">r</span> <span class="o">&gt;</span> <span class="n">fdi_system</span><span class="o">.</span><span class="n">residual_threshold</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">residual_stats</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">residual_stats</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">violation_rate</span> <span class="o">&gt;</span> <span class="mf">0.1</span><span class="p">:</span>  <span class="c1"># &gt; 10% violation rate</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;High violation rate: </span><span class="si">{</span><span class="n">violation_rate</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;RECOMMENDATION: Increase persistence counter or threshold&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Solutions:</strong></p>
<ol class="arabic simple">
<li><p><strong>Increase threshold:</strong> Based on noise characterization</p></li>
<li><p><strong>Enable adaptive thresholding:</strong> For varying operating conditions</p></li>
<li><p><strong>Increase persistence counter:</strong> Reduce sensitivity to transient spikes</p></li>
<li><p><strong>Review weight configuration:</strong> Ensure weights match system importance</p></li>
</ol>
</section>
<section id="missed-faults-low-detection-rate">
<h4><strong>8.1.2 Missed Faults (Low Detection Rate)</strong><a class="headerlink" href="#missed-faults-low-detection-rate" title="Link to this heading">Â¶</a></h4>
<p><strong>Symptoms:</strong></p>
<ul class="simple">
<li><p>Known faults not detected</p></li>
<li><p>Long detection delays</p></li>
<li><p>System continues operation despite obvious problems</p></li>
</ul>
<p><strong>Diagnostic Steps:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">diagnose_missed_faults</span><span class="p">(</span><span class="n">fault_injection_results</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Analyze fault detection performance.&quot;&quot;&quot;</span>

    <span class="k">for</span> <span class="n">fault_type</span><span class="p">,</span> <span class="n">results</span> <span class="ow">in</span> <span class="n">fault_injection_results</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">detection_rate</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="s1">&#39;detected&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="n">results</span><span class="p">[</span><span class="s1">&#39;total_injected&#39;</span><span class="p">]</span>
        <span class="n">avg_delay</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="s1">&#39;detection_delays&#39;</span><span class="p">])</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fault type: </span><span class="si">{</span><span class="n">fault_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Detection rate: </span><span class="si">{</span><span class="n">detection_rate</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Average delay: </span><span class="si">{</span><span class="n">avg_delay</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> timesteps&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">detection_rate</span> <span class="o">&lt;</span> <span class="mf">0.95</span><span class="p">:</span>  <span class="c1"># &lt; 95% detection rate</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;LOW DETECTION RATE WARNING&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">avg_delay</span> <span class="o">&gt;</span> <span class="mi">50</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;RECOMMENDATION: Decrease threshold or persistence counter&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;RECOMMENDATION: Review fault signature and weights&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Solutions:</strong></p>
<ol class="arabic simple">
<li><p><strong>Decrease threshold:</strong> Increase sensitivity</p></li>
<li><p><strong>Decrease persistence counter:</strong> Faster response</p></li>
<li><p><strong>Enable CUSUM:</strong> For slow drift detection</p></li>
<li><p><strong>Adjust weights:</strong> Emphasize states affected by specific faults</p></li>
</ol>
</section>
<section id="performance-issues">
<h4><strong>8.1.3 Performance Issues</strong><a class="headerlink" href="#performance-issues" title="Link to this heading">Â¶</a></h4>
<p><strong>Symptoms:</strong></p>
<ul class="simple">
<li><p>Slow execution times</p></li>
<li><p>Memory growth over time</p></li>
<li><p>Real-time constraint violations</p></li>
</ul>
<p><strong>Performance Optimization:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">optimize_fdi_performance</span><span class="p">(</span><span class="n">fdi_system</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Performance optimization recommendations.&quot;&quot;&quot;</span>

    <span class="c1"># Check window size</span>
    <span class="k">if</span> <span class="n">fdi_system</span><span class="o">.</span><span class="n">window_size</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;RECOMMENDATION: Reduce window_size for faster adaptation&quot;</span><span class="p">)</span>

    <span class="c1"># Check history growth</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">fdi_system</span><span class="o">.</span><span class="n">times</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">100000</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;WARNING: Large history detected&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;RECOMMENDATION: Implement history truncation&quot;</span><span class="p">)</span>

        <span class="c1"># Example truncation</span>
        <span class="n">keep_recent</span> <span class="o">=</span> <span class="mi">10000</span>
        <span class="n">fdi_system</span><span class="o">.</span><span class="n">times</span> <span class="o">=</span> <span class="n">fdi_system</span><span class="o">.</span><span class="n">times</span><span class="p">[</span><span class="o">-</span><span class="n">keep_recent</span><span class="p">:]</span>
        <span class="n">fdi_system</span><span class="o">.</span><span class="n">residuals</span> <span class="o">=</span> <span class="n">fdi_system</span><span class="o">.</span><span class="n">residuals</span><span class="p">[</span><span class="o">-</span><span class="n">keep_recent</span><span class="p">:]</span>

    <span class="c1"># Check state dimension</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">fdi_system</span><span class="o">.</span><span class="n">residual_states</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;RECOMMENDATION: Reduce number of monitored states&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="parameter-tuning-guidelines">
<h3>8.2 Parameter Tuning Guidelines<a class="headerlink" href="#parameter-tuning-guidelines" title="Link to this heading">Â¶</a></h3>
<section id="systematic-tuning-procedure">
<h4><strong>8.2.1 Systematic Tuning Procedure:</strong><a class="headerlink" href="#systematic-tuning-procedure" title="Link to this heading">Â¶</a></h4>
<p><strong>Step 1: Baseline Characterization</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">characterize_system_baseline</span><span class="p">(</span><span class="n">simulation_data</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Establish baseline noise characteristics.&quot;&quot;&quot;</span>
    <span class="n">residuals</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1"># Run fault-free simulation</span>
    <span class="k">for</span> <span class="n">measurement</span> <span class="ow">in</span> <span class="n">simulation_data</span><span class="p">[</span><span class="s1">&#39;normal_operation&#39;</span><span class="p">]:</span>
        <span class="n">residual</span> <span class="o">=</span> <span class="n">compute_residual</span><span class="p">(</span><span class="n">measurement</span><span class="p">)</span>
        <span class="n">residuals</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">residual</span><span class="p">)</span>

    <span class="n">baseline_stats</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;mean&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">residuals</span><span class="p">),</span>
        <span class="s1">&#39;std&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">residuals</span><span class="p">),</span>
        <span class="s1">&#39;p95&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">residuals</span><span class="p">,</span> <span class="mi">95</span><span class="p">),</span>
        <span class="s1">&#39;p99&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">residuals</span><span class="p">,</span> <span class="mi">99</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">baseline_stats</span>
</pre></div>
</div>
<p><strong>Step 2: Threshold Selection</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">recommend_threshold</span><span class="p">(</span><span class="n">baseline_stats</span><span class="p">,</span> <span class="n">target_far</span><span class="o">=</span><span class="mf">0.01</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Recommend threshold based on desired false alarm rate.&quot;&quot;&quot;</span>

    <span class="c1"># For normal distribution, use quantile-based approach</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">scipy</span><span class="w"> </span><span class="kn">import</span> <span class="n">stats</span>
    <span class="n">z_score</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">norm</span><span class="o">.</span><span class="n">ppf</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">target_far</span><span class="p">)</span>  <span class="c1"># Z-score for desired FAR</span>

    <span class="n">recommended_threshold</span> <span class="o">=</span> <span class="n">baseline_stats</span><span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">z_score</span> <span class="o">*</span> <span class="n">baseline_stats</span><span class="p">[</span><span class="s1">&#39;std&#39;</span><span class="p">]</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Recommended threshold: </span><span class="si">{</span><span class="n">recommended_threshold</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;This targets </span><span class="si">{</span><span class="n">target_far</span><span class="si">:</span><span class="s2">.1%</span><span class="si">}</span><span class="s2"> false alarm rate&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">recommended_threshold</span>
</pre></div>
</div>
<p><strong>Step 3: Persistence Tuning</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">tune_persistence_counter</span><span class="p">(</span><span class="n">fault_scenarios</span><span class="p">,</span> <span class="n">detection_delay_target</span><span class="o">=</span><span class="mi">20</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Tune persistence counter based on detection delay requirements.&quot;&quot;&quot;</span>

    <span class="n">optimal_persistence</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">fault_type</span><span class="p">,</span> <span class="n">magnitude</span> <span class="ow">in</span> <span class="n">fault_scenarios</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">delays</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">persistence</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">21</span><span class="p">):</span>  <span class="c1"># Test 1-20</span>
            <span class="n">fdi</span> <span class="o">=</span> <span class="n">FDIsystem</span><span class="p">(</span><span class="n">persistence_counter</span><span class="o">=</span><span class="n">persistence</span><span class="p">)</span>
            <span class="n">delay</span> <span class="o">=</span> <span class="n">simulate_fault_detection</span><span class="p">(</span><span class="n">fdi</span><span class="p">,</span> <span class="n">fault_type</span><span class="p">,</span> <span class="n">magnitude</span><span class="p">)</span>
            <span class="n">delays</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">delay</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">delay</span> <span class="o">&lt;=</span> <span class="n">detection_delay_target</span><span class="p">:</span>
                <span class="n">optimal_persistence</span><span class="p">[</span><span class="n">fault_type</span><span class="p">]</span> <span class="o">=</span> <span class="n">persistence</span>
                <span class="k">break</span>

    <span class="k">return</span> <span class="n">optimal_persistence</span>
</pre></div>
</div>
</section>
</section>
<section id="validation-checklist">
<h3>8.3 Validation Checklist<a class="headerlink" href="#validation-checklist" title="Link to this heading">Â¶</a></h3>
<section id="pre-deployment-validation">
<h4><strong>8.3.1 Pre-Deployment Validation:</strong><a class="headerlink" href="#pre-deployment-validation" title="Link to this heading">Â¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="err">â–¡</span> <span class="n">Mathematical</span> <span class="n">correctness</span> <span class="n">verified</span>
  <span class="err">â–¡</span> <span class="n">Weighted</span> <span class="n">residual</span> <span class="n">calculation</span> <span class="n">tested</span>
  <span class="err">â–¡</span> <span class="n">CUSUM</span> <span class="n">algorithm</span> <span class="n">validated</span>
  <span class="err">â–¡</span> <span class="n">Adaptive</span> <span class="n">threshold</span> <span class="n">convergence</span> <span class="n">confirmed</span>

<span class="err">â–¡</span> <span class="n">Performance</span> <span class="n">requirements</span> <span class="n">met</span>
  <span class="err">â–¡</span> <span class="n">Execution</span> <span class="n">time</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="n">ms</span> <span class="n">per</span> <span class="n">timestep</span>
  <span class="err">â–¡</span> <span class="n">Memory</span> <span class="n">usage</span> <span class="n">bounded</span>
  <span class="err">â–¡</span> <span class="n">Real</span><span class="o">-</span><span class="n">time</span> <span class="n">constraints</span> <span class="n">satisfied</span>

<span class="err">â–¡</span> <span class="n">Safety</span> <span class="n">requirements</span> <span class="n">validated</span>
  <span class="err">â–¡</span> <span class="n">Detection</span> <span class="n">delay</span> <span class="err">â‰¤</span> <span class="mi">50</span> <span class="n">timesteps</span> <span class="k">for</span> <span class="n">critical</span> <span class="n">faults</span>
  <span class="err">â–¡</span> <span class="kc">False</span> <span class="n">alarm</span> <span class="n">rate</span> <span class="err">â‰¤</span> <span class="mi">1</span><span class="o">%</span> <span class="n">during</span> <span class="n">normal</span> <span class="n">operation</span>
  <span class="err">â–¡</span> <span class="n">Fault</span> <span class="n">persistence</span> <span class="n">verified</span>
  <span class="err">â–¡</span> <span class="n">Graceful</span> <span class="n">degradation</span> <span class="n">confirmed</span>

<span class="err">â–¡</span> <span class="n">Integration</span> <span class="n">testing</span> <span class="n">complete</span>
  <span class="err">â–¡</span> <span class="n">Controller</span> <span class="n">integration</span> <span class="n">validated</span>
  <span class="err">â–¡</span> <span class="n">HIL</span> <span class="n">testing</span> <span class="n">passed</span> <span class="p">(</span><span class="k">if</span> <span class="n">applicable</span><span class="p">)</span>
  <span class="err">â–¡</span> <span class="n">Multi</span><span class="o">-</span><span class="n">agent</span> <span class="n">coordination</span> <span class="n">verified</span>
  <span class="err">â–¡</span> <span class="n">Error</span> <span class="n">handling</span> <span class="n">tested</span>

<span class="err">â–¡</span> <span class="n">Documentation</span> <span class="n">complete</span>
  <span class="err">â–¡</span> <span class="n">Parameter</span> <span class="n">tuning</span> <span class="n">guidelines</span> <span class="n">provided</span>
  <span class="err">â–¡</span> <span class="n">Troubleshooting</span> <span class="n">procedures</span> <span class="n">documented</span>
  <span class="err">â–¡</span> <span class="n">API</span> <span class="n">reference</span> <span class="n">updated</span>
  <span class="err">â–¡</span> <span class="n">Configuration</span> <span class="n">examples</span> <span class="n">included</span>
</pre></div>
</div>
</section>
</section>
</section>
<hr class="docutils" />
<section id="conclusion">
<h2>Conclusion<a class="headerlink" href="#conclusion" title="Link to this heading">Â¶</a></h2>
<p>The Fault Detection and Isolation (FDI) system provides scientifically rigorous, real-time fault detection capabilities for safety-critical control applications. Following the critical bug fixes documented in this guide, the system now correctly implements:</p>
<ol class="arabic simple">
<li><p><strong>Mathematically sound weighted residual calculation</strong> with proper state-specific sensitivity amplification</p></li>
<li><p><strong>Robust CUSUM drift detection</strong> with adaptive reference value selection</p></li>
<li><p><strong>Complete history recording</strong> enabling comprehensive post-fault analysis</p></li>
<li><p><strong>Validated integration patterns</strong> ensuring safe deployment in control systems</p></li>
</ol>
<p>The system has been extensively validated through comprehensive test suites covering mathematical correctness, robustness, performance, and safety requirements. With proper parameter tuning and integration following the guidelines in this documentation, the FDI system provides reliable fault detection for demanding control applications.</p>
<p>For additional support or advanced configuration requirements, consult the API reference section and consider the enhanced fault detection framework for applications requiring advanced analytics and multi-modal fault classification.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, Research Team
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            <div class="last-updated">
              Last updated on Oct 04, 2025</div>
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Fault Detection and Isolation (FDI) System - Technical Documentation</a><ul>
<li><a class="reference internal" href="#table-of-contents">Table of Contents</a></li>
<li><a class="reference internal" href="#mathematical-foundations">Mathematical Foundations</a><ul>
<li><a class="reference internal" href="#weighted-residual-calculation-theory">1.1 Weighted Residual Calculation Theory</a><ul>
<li><a class="reference internal" href="#mathematical-formulation">Mathematical Formulation</a></li>
<li><a class="reference internal" href="#state-selection-and-weighting">State Selection and Weighting</a></li>
<li><a class="reference internal" href="#mathematical-properties">Mathematical Properties</a></li>
</ul>
</li>
<li><a class="reference internal" href="#cusum-algorithm-mathematical-foundation">1.2 CUSUM Algorithm Mathematical Foundation</a><ul>
<li><a class="reference internal" href="#algorithm-definition">Algorithm Definition</a></li>
<li><a class="reference internal" href="#drift-detection-mathematics">Drift Detection Mathematics</a></li>
<li><a class="reference internal" href="#statistical-properties">Statistical Properties</a></li>
</ul>
</li>
<li><a class="reference internal" href="#adaptive-threshold-theory">1.3 Adaptive Threshold Theory</a><ul>
<li><a class="reference internal" href="#mathematical-framework">Mathematical Framework</a></li>
<li><a class="reference internal" href="#convergence-analysis">Convergence Analysis</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#implementation-documentation">Implementation Documentation</a><ul>
<li><a class="reference internal" href="#fdi-system-architecture">2.1 FDI System Architecture</a></li>
<li><a class="reference internal" href="#configuration-parameters">2.2 Configuration Parameters</a></li>
<li><a class="reference internal" href="#internal-state-management">2.3 Internal State Management</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-reference">API Reference</a><ul>
<li><a class="reference internal" href="#primary-interface">3.1 Primary Interface</a><ul>
<li><a class="reference internal" href="#fdisystem-check-t-meas-u-dt-dynamics-model-tuple-str-float"><code class="docutils literal notranslate"><span class="pre">FDIsystem.check(t,</span> <span class="pre">meas,</span> <span class="pre">u,</span> <span class="pre">dt,</span> <span class="pre">dynamics_model)</span> <span class="pre">-&gt;</span> <span class="pre">Tuple[str,</span> <span class="pre">float]</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#enhanced-fault-detector-interface">3.2 Enhanced Fault Detector Interface</a><ul>
<li><a class="reference internal" href="#enhancedfaultdetector-detect-data-kwargs-analysisresult"><code class="docutils literal notranslate"><span class="pre">EnhancedFaultDetector.detect(data,</span> <span class="pre">**kwargs)</span> <span class="pre">-&gt;</span> <span class="pre">AnalysisResult</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuration-validation">3.3 Configuration Validation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#scientific-validation">Scientific Validation</a><ul>
<li><a class="reference internal" href="#test-protocol-design">4.1 Test Protocol Design</a><ul>
<li><a class="reference internal" href="#unit-test-categories"><strong>Unit Test Categories:</strong></a></li>
<li><a class="reference internal" href="#integration-test-methodology"><strong>4.1.2 Integration Test Methodology:</strong></a></li>
</ul>
</li>
<li><a class="reference internal" href="#statistical-validation-framework">4.2 Statistical Validation Framework</a><ul>
<li><a class="reference internal" href="#monte-carlo-validation"><strong>4.2.1 Monte Carlo Validation:</strong></a></li>
<li><a class="reference internal" href="#receiver-operating-characteristic-roc-analysis"><strong>4.2.2 Receiver Operating Characteristic (ROC) Analysis:</strong></a></li>
</ul>
</li>
<li><a class="reference internal" href="#coverage-analysis">4.3 Coverage Analysis</a></li>
</ul>
</li>
<li><a class="reference internal" href="#integration-guide">Integration Guide</a><ul>
<li><a class="reference internal" href="#control-system-integration-patterns">5.1 Control System Integration Patterns</a><ul>
<li><a class="reference internal" href="#basic-integration-pattern"><strong>5.1.1 Basic Integration Pattern:</strong></a></li>
<li><a class="reference internal" href="#multi-layer-safety-integration"><strong>5.1.2 Multi-Layer Safety Integration:</strong></a></li>
</ul>
</li>
<li><a class="reference internal" href="#real-time-implementation-considerations">5.2 Real-Time Implementation Considerations</a><ul>
<li><a class="reference internal" href="#computational-complexity"><strong>5.2.1 Computational Complexity:</strong></a></li>
<li><a class="reference internal" href="#real-time-constraints"><strong>5.2.2 Real-Time Constraints:</strong></a></li>
</ul>
</li>
<li><a class="reference internal" href="#hardware-in-the-loop-hil-integration">5.3 Hardware-in-the-Loop (HIL) Integration</a><ul>
<li><a class="reference internal" href="#hil-communication-protocol"><strong>5.3.1 HIL Communication Protocol:</strong></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#issue-18-statistical-threshold-calibration">Issue #18: Statistical Threshold Calibration</a><ul>
<li><a class="reference internal" href="#problem-description">6.0.1 Problem Description</a></li>
<li><a class="reference internal" href="#statistical-calibration-methodology">6.0.2 Statistical Calibration Methodology</a><ul>
<li><a class="reference internal" href="#data-collection-and-analysis">Data Collection and Analysis</a></li>
<li><a class="reference internal" href="#threshold-selection-approaches">Threshold Selection Approaches</a></li>
<li><a class="reference internal" href="#results">Results</a></li>
</ul>
</li>
<li><a class="reference internal" href="#hysteresis-implementation">6.0.3 Hysteresis Implementation</a><ul>
<li><a class="reference internal" href="#id1">Mathematical Formulation</a></li>
<li><a class="reference internal" href="#state-machine">State Machine</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuration-updates">6.0.4 Configuration Updates</a></li>
<li><a class="reference internal" href="#validation-and-documentation">6.0.5 Validation and Documentation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#critical-bug-fixes">Critical Bug Fixes</a><ul>
<li><a class="reference internal" href="#weighted-residual-calculation-bug-fix">6.1 Weighted Residual Calculation Bug Fix</a><ul>
<li><a class="reference internal" href="#id2"><strong>6.1.1 Problem Description:</strong></a></li>
<li><a class="reference internal" href="#corrected-implementation"><strong>6.1.2 Corrected Implementation:</strong></a></li>
<li><a class="reference internal" href="#validation-of-fix"><strong>6.1.3 Validation of Fix:</strong></a></li>
</ul>
</li>
<li><a class="reference internal" href="#cusum-algorithm-restoration">6.2 CUSUM Algorithm Restoration</a><ul>
<li><a class="reference internal" href="#id3"><strong>6.2.1 Problem Description:</strong></a></li>
<li><a class="reference internal" href="#fixed-cusum-implementation"><strong>6.2.2 Fixed CUSUM Implementation:</strong></a></li>
</ul>
</li>
<li><a class="reference internal" href="#history-recording-completion">6.3 History Recording Completion</a><ul>
<li><a class="reference internal" href="#id4"><strong>6.3.1 Problem Description:</strong></a></li>
<li><a class="reference internal" href="#complete-history-implementation"><strong>6.3.2 Complete History Implementation:</strong></a></li>
</ul>
</li>
<li><a class="reference internal" href="#integration-safety-validation">6.4 Integration Safety Validation</a><ul>
<li><a class="reference internal" href="#end-to-end-safety-verification"><strong>6.4.1 End-to-End Safety Verification:</strong></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#performance-and-safety">Performance and Safety</a><ul>
<li><a class="reference internal" href="#real-time-performance-characteristics">7.1 Real-Time Performance Characteristics</a><ul>
<li><a class="reference internal" href="#computational-complexity-analysis"><strong>7.1.1 Computational Complexity Analysis:</strong></a></li>
<li><a class="reference internal" href="#performance-benchmarks"><strong>7.1.2 Performance Benchmarks:</strong></a></li>
</ul>
</li>
<li><a class="reference internal" href="#safety-certification-considerations">7.2 Safety Certification Considerations</a><ul>
<li><a class="reference internal" href="#safety-requirements-compliance"><strong>7.2.1 Safety Requirements Compliance:</strong></a></li>
<li><a class="reference internal" href="#validation-matrix"><strong>7.2.2 Validation Matrix:</strong></a></li>
</ul>
</li>
<li><a class="reference internal" href="#operational-limits-and-constraints">7.3 Operational Limits and Constraints</a><ul>
<li><a class="reference internal" href="#parameter-bounds"><strong>7.3.1 Parameter Bounds:</strong></a></li>
<li><a class="reference internal" href="#deployment-guidelines"><strong>7.3.2 Deployment Guidelines:</strong></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#troubleshooting">Troubleshooting</a><ul>
<li><a class="reference internal" href="#common-issues-and-solutions">8.1 Common Issues and Solutions</a><ul>
<li><a class="reference internal" href="#false-alarms-high-false-positive-rate"><strong>8.1.1 False Alarms (High False Positive Rate)</strong></a></li>
<li><a class="reference internal" href="#missed-faults-low-detection-rate"><strong>8.1.2 Missed Faults (Low Detection Rate)</strong></a></li>
<li><a class="reference internal" href="#performance-issues"><strong>8.1.3 Performance Issues</strong></a></li>
</ul>
</li>
<li><a class="reference internal" href="#parameter-tuning-guidelines">8.2 Parameter Tuning Guidelines</a><ul>
<li><a class="reference internal" href="#systematic-tuning-procedure"><strong>8.2.1 Systematic Tuning Procedure:</strong></a></li>
</ul>
</li>
<li><a class="reference internal" href="#validation-checklist">8.3 Validation Checklist</a><ul>
<li><a class="reference internal" href="#pre-deployment-validation"><strong>8.3.1 Pre-Deployment Validation:</strong></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#conclusion">Conclusion</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=4ebf8126"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=08e7b316"></script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>window.MathJax = {"tex": {"tags": "all", "tagSide": "right", "macros": {"vec": ["\\boldsymbol{#1}", 1], "mat": ["\\boldsymbol{#1}", 1], "norm": ["\\left\\|#1\\right\\|", 1], "R": "\\mathbb{R}", "C": "\\mathbb{C}", "N": "\\mathbb{N}", "Z": "\\mathbb{Z}"}}, "options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/back-to-top.js?v=840797bb"></script>
    <script src="_static/lazy-load.js?v=dc25293c"></script>
    <script src="_static/dark-mode.js?v=bf328970"></script>
    </body>
</html>