<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark">
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
<style>
.chartjs-container {
    margin: 1.5em auto;
    padding: 1em;
    background: #f8f9fa;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}
.chart-note {
    text-align: center;
    color: #6c757d;
    font-size: 0.9em;
    margin-top: 0.5em;
}
</style>
<link rel="index" title="Index" href="../genindex.html"><link rel="search" title="Search" href="../search.html">

    <!-- Generated with Sphinx 8.2.3 and Furo 2025.09.25 -->
        <title>GitHub Issue #6 Resolution Documentation ### Overview This user guide covers the enhanced controller factory system implemented as part of GitHub Issue #6 resolution. The factory integration fixes address critical stability, performance, and usability issues that improved system success rates from 68.9% to 95%+. ## Key Improvements in GitHub Issue #6 Resolution ### 1. Unified Parameter Interface - DIP_SMC_PSO Documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=5349f25f" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=580074bf" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=8dab3a3b" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=8a7e329d" />
    
    


<style>
  body {
    --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle site navigation sidebar">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc" aria-label="Toggle table of contents sidebar">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <span class="icon"><svg><use href="#svg-menu"></use></svg></span>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">DIP_SMC_PSO Documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <span class="sidebar-brand-text">DIP_SMC_PSO Documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">📚 Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../README.html">Optimal Sliding Mode Control for a Double-Inverted Pendulum via PSO  ## How to validate a ResearchPlan JSON Run the validator locally: ```bash</a></li>
<li class="toctree-l1"><a class="reference internal" href="../theory_overview.html">Theory Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../architecture.html">3. System Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plant_model.html">1.x Plant Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hil_quickstart.html">Hardware-in-the-Loop (HIL) Quickstart Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../streamlit_dashboard_guide.html">Streamlit Dashboard User Guide</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="https://github.com/theSadeQ/DIP_SMC_PSO/blob/main/docs/factory/factory_integration_user_guide.md?plain=true" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div><div class="edit-this-page">
  <a class="muted-link" href="https://github.com/theSadeQ/DIP_SMC_PSO/edit/main/docs/factory/factory_integration_user_guide.md" rel="edit" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
            <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <p>#==========================================================================================\<br />
#=================== docs/factory/factory_integration_user_guide.md ===================\<br />
#==========================================================================================\ # Factory Integration User Guide</p>
<section id="github-issue-6-resolution-documentation-overview-this-user-guide-covers-the-enhanced-controller-factory-system-implemented-as-part-of-github-issue-6-resolution-the-factory-integration-fixes-address-critical-stability-performance-and-usability-issues-that-improved-system-success-rates-from-68-9-to-95-key-improvements-in-github-issue-6-resolution-1-unified-parameter-interface">
<h1>GitHub Issue #6 Resolution Documentation ### Overview This user guide covers the enhanced controller factory system implemented as part of GitHub Issue #6 resolution. The factory integration fixes address critical stability, performance, and usability issues that improved system success rates from 68.9% to 95%+. ## Key Improvements in GitHub Issue #6 Resolution ### 1. <strong>Unified Parameter Interface</strong><a class="headerlink" href="#github-issue-6-resolution-documentation-overview-this-user-guide-covers-the-enhanced-controller-factory-system-implemented-as-part-of-github-issue-6-resolution-the-factory-integration-fixes-address-critical-stability-performance-and-usability-issues-that-improved-system-success-rates-from-68-9-to-95-key-improvements-in-github-issue-6-resolution-1-unified-parameter-interface" title="Link to this heading">¶</a></h1>
<ul class="simple">
<li><p><strong>Before</strong>: Inconsistent parameter handling across controller types</p></li>
<li><p><strong>After</strong>: Standardized gains arrays and parameter validation</p></li>
<li><p><strong>Impact</strong>: Eliminates configuration errors and parameter mismatches ### 2. <strong>Thread Safety Implementation</strong></p></li>
<li><p><strong>Before</strong>: Race conditions in concurrent factory operations</p></li>
<li><p><strong>After</strong>: thread-safe locking with timeout protection</p></li>
<li><p><strong>Impact</strong>: Reliable operation in multi-threaded environments ### 3. <strong>Enhanced Validation System</strong></p></li>
<li><p><strong>Before</strong>: Basic parameter validation with unclear error messages</p></li>
<li><p><strong>After</strong>: validation with detailed diagnostic information</p></li>
<li><p><strong>Impact</strong>: Faster debugging and more reliable parameter tuning ### 4. <strong>PSO Integration Optimization</strong></p></li>
<li><p><strong>Before</strong>: Complex PSO-factory interface with frequent failures</p></li>
<li><p><strong>After</strong>: Streamlined PSO workflows with automatic parameter handling</p></li>
<li><p><strong>Impact</strong>: Improved PSO convergence rates and optimization reliability ### 5. <strong>Deprecation Management</strong></p></li>
<li><p><strong>Before</strong>: Breaking changes without migration support</p></li>
<li><p><strong>After</strong>: Systematic deprecation warnings with automatic migration</p></li>
<li><p><strong>Impact</strong>: Smooth transitions and backward compatibility ## Quick Start Guide ### Basic Controller Creation <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">from</span> <span class="pre">src.controllers.factory</span> <span class="pre">import</span> <span class="pre">create_controller</span> <span class="pre">#</span> <span class="pre">Classical</span> <span class="pre">SMC</span> <span class="pre">with</span> <span class="pre">enhanced</span> <span class="pre">validation</span> <span class="pre">controller</span> <span class="pre">=</span> <span class="pre">create_controller(</span> <span class="pre">controller_type='classical_smc',</span> <span class="pre">gains=[20.0,</span> <span class="pre">15.0,</span> <span class="pre">12.0,</span> <span class="pre">8.0,</span> <span class="pre">35.0,</span> <span class="pre">5.0]</span> <span class="pre">#</span> <span class="pre">All</span> <span class="pre">6</span> <span class="pre">gains</span> <span class="pre">required</span> <span class="pre">)</span> <span class="pre">#</span> <span class="pre">Super-Twisting</span> <span class="pre">SMC</span> <span class="pre">with</span> <span class="pre">automatic</span> <span class="pre">parameter</span> <span class="pre">handling</span> <span class="pre">sta_controller</span> <span class="pre">=</span> <span class="pre">create_controller(</span> <span class="pre">controller_type='sta_smc',</span> <span class="pre">gains=[25.0,</span> <span class="pre">15.0,</span> <span class="pre">20.0,</span> <span class="pre">12.0,</span> <span class="pre">8.0,</span> <span class="pre">6.0]</span> <span class="pre">#</span> <span class="pre">K1,</span> <span class="pre">K2,</span> <span class="pre">k1,</span> <span class="pre">k2,</span> <span class="pre">λ1,</span> <span class="pre">λ2</span> <span class="pre">)</span> <span class="pre">#</span> <span class="pre">Adaptive</span> <span class="pre">SMC</span> <span class="pre">with</span> <span class="pre">gamma</span> <span class="pre">included</span> <span class="pre">in</span> <span class="pre">gains</span> <span class="pre">adaptive_controller</span> <span class="pre">=</span> <span class="pre">create_controller(</span> <span class="pre">controller_type='adaptive_smc',</span> <span class="pre">gains=[25.0,</span> <span class="pre">18.0,</span> <span class="pre">15.0,</span> <span class="pre">10.0,</span> <span class="pre">4.0]</span> <span class="pre">#</span> <span class="pre">k1,</span> <span class="pre">k2,</span> <span class="pre">λ1,</span> <span class="pre">λ2,</span> <span class="pre">γ</span> <span class="pre">)</span> </code> ### Configuration-Based Creation <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">from</span> <span class="pre">src.config</span> <span class="pre">import</span> <span class="pre">load_config</span> <span class="pre">from</span> <span class="pre">src.controllers.factory</span> <span class="pre">import</span> <span class="pre">create_controller</span> <span class="pre">#</span> <span class="pre">Load</span> <span class="pre">configuration</span> <span class="pre">with</span> <span class="pre">enhanced</span> <span class="pre">validation</span> <span class="pre">config</span> <span class="pre">=</span> <span class="pre">load_config(&quot;config.yaml&quot;)</span> <span class="pre">#</span> <span class="pre">Create</span> <span class="pre">controller</span> <span class="pre">using</span> <span class="pre">configuration</span> <span class="pre">controller</span> <span class="pre">=</span> <span class="pre">create_controller(</span> <span class="pre">controller_type='classical_smc',</span> <span class="pre">config=config</span> <span class="pre">#</span> <span class="pre">Factory</span> <span class="pre">extracts</span> <span class="pre">parameters</span> <span class="pre">automatically</span> <span class="pre">)</span> </code> ### Thread-Safe Operations ```python</p></li>
</ul>
<p>import threading
from src.controllers.factory import create_controller def create_controllers_concurrently(): “””Safe concurrent controller creation.””” controllers = [] def worker(controller_type, gains): # Thread-safe factory operations controller = create_controller(controller_type, gains=gains) controllers.append(controller) # Multiple threads can safely use the factory threads = [] for i in range(10): thread = threading.Thread( target=worker, args=(‘classical_smc’, [20.0, 15.0, 12.0, 8.0, 35.0, 5.0]) ) threads.append(thread) thread.start() for thread in threads: thread.join() return controllers</p>
<div class="highlight-## notranslate"><div class="highlight"><pre><span></span>**Parameter Count**: 6 gains
**Gains Array**: `[k1, k2, λ1, λ2, K, kd]`
**Required Parameters**: `gains`, `max_force`, `boundary_layer` ```python
classical_config = { &#39;gains&#39;: [20.0, 15.0, 12.0, 8.0, 35.0, 5.0], &#39;max_force&#39;: 150.0, &#39;boundary_layer&#39;: 0.02, &#39;dt&#39;: 0.001
} controller = create_controller(&#39;classical_smc&#39;, **classical_config)
``` ### Super-Twisting SMC (STA-SMC)

**Parameter Count**: 6 gains
**Gains Array**: `[K1, K2, k1, k2, λ1, λ2]`
**Required Parameters**: `gains`, `max_force`, `dt` ```python
# example-metadata:

# runnable: false sta_config = { &#39;gains&#39;: [25.0, 15.0, 20.0, 12.0, 8.0, 6.0], &#39;max_force&#39;: 150.0, &#39;dt&#39;: 0.001, &#39;power_exponent&#39;: 0.5, &#39;regularization&#39;: 1e-6, &#39;boundary_layer&#39;: 0.01, &#39;switch_method&#39;: &#39;tanh&#39;

} controller = create_controller(&#39;sta_smc&#39;, **sta_config)
``` ### Adaptive SMC
**Parameter Count**: 5 gains
**Gains Array**: `[k1, k2, λ1, λ2, γ]`
**Required Parameters**: `gains`, `max_force`, `dt` ```python
# example-metadata:
# runnable: false adaptive_config = { &#39;gains&#39;: [25.0, 18.0, 15.0, 10.0, 4.0], &#39;max_force&#39;: 150.0, &#39;dt&#39;: 0.001, &#39;leak_rate&#39;: 0.01, &#39;adapt_rate_limit&#39;: 10.0, &#39;K_min&#39;: 0.1, &#39;K_max&#39;: 100.0, &#39;alpha&#39;: 0.5
} controller = create_controller(&#39;adaptive_smc&#39;, **adaptive_config)
``` ### Hybrid Adaptive-STA SMC

**Parameter Count**: 4 surface gains
**Gains Array**: `[k1, k2, λ1, λ2]`
**Required Parameters**: `classical_config`, `adaptive_config`, `hybrid_mode` ```python
from src.controllers.smc.algorithms.hybrid.config import HybridMode hybrid_config = { &#39;gains&#39;: [18.0, 12.0, 10.0, 8.0], # Surface gains only &#39;hybrid_mode&#39;: HybridMode.CLASSICAL_ADAPTIVE, &#39;max_force&#39;: 150.0, &#39;dt&#39;: 0.001
} controller = create_controller(&#39;hybrid_adaptive_sta_smc&#39;, **hybrid_config)
``` ## PSO Integration Workflows ### Enhanced PSO Factory Bridge ```python
from src.optimization.integration.pso_factory_bridge import create_pso_controller_factory
from src.controllers.factory import SMCType # Create PSO-optimized factory for Classical SMC
factory_func = create_pso_controller_factory( smc_type=SMCType.CLASSICAL, max_force=150.0, boundary_layer=0.02
) # PSO optimization with enhanced factory
from src.optimizer.pso_optimizer import PSOTuner bounds = [(1.0, 30.0), (1.0, 30.0), (1.0, 20.0), (1.0, 20.0), (5.0, 50.0), (0.1, 10.0)] tuner = PSOTuner( controller_factory=factory_func, bounds=bounds, n_particles=20, max_iterations=200
) # Optimized gains with improved reliability
optimized_gains, best_cost = tuner.optimize()
``` ### Automated Gain Bounds Selection ```python

from src.controllers.factory import get_gain_bounds_for_pso, SMCType # Automatic bounds for different controller types
classical_bounds = get_gain_bounds_for_pso(SMCType.CLASSICAL)
adaptive_bounds = get_gain_bounds_for_pso(SMCType.ADAPTIVE)
sta_bounds = get_gain_bounds_for_pso(SMCType.SUPER_TWISTING) print(f&quot;Classical SMC bounds: {classical_bounds}&quot;)
# Output: ([1.0, 1.0, 1.0, 1.0, 5.0, 0.1], [30.0, 30.0, 20.0, 20.0, 50.0, 10.0])

``` ## Parameter Validation and Error Handling ### Enhanced Validation System ```python
from src.controllers.factory import create_controller try: # Invalid gains array (wrong length) controller = create_controller( &#39;classical_smc&#39;, gains=[10.0, 5.0, 8.0] # Only 3 gains instead of 6 )
except ValueError as e: print(f&quot;Validation error: {e}&quot;) # Output: Controller &#39;Classical sliding mode controller&#39; requires 6 gains, got 3 try: # Invalid parameter values controller = create_controller( &#39;adaptive_smc&#39;, gains=[25.0, 18.0, 15.0, 10.0, -2.0] # Negative gamma )
except ValueError as e: print(f&quot;Validation error: {e}&quot;) # Output: All gains must be positive
``` ### Deprecation Handling ```python

from src.controllers.factory.deprecation import check_deprecated_config # Automatic migration of deprecated parameters
old_config = { &#39;gamma&#39;: 0.1, # Invalid for classical SMC &#39;switch_function&#39;: &#39;sign&#39;, # Old parameter name &#39;K_switching&#39;: 2.0 # Separate switching gain
} # Migrate deprecated parameters
migrated_config = check_deprecated_config(&#39;classical_smc&#39;, old_config)
print(&quot;Migrated config:&quot;, migrated_config)
# Output: Migrated config: {&#39;switch_method&#39;: &#39;sign&#39;}

# Warning: Removed invalid &#39;gamma&#39; parameter for classical_smc

``` ## Advanced Usage Patterns ### Dynamic Controller Switching ```python
from src.controllers.factory import create_controller, list_available_controllers class AdaptiveControllerManager: &quot;&quot;&quot;Dynamically switch between controller types based on performance.&quot;&quot;&quot; def __init__(self, config): self.config = config self.controllers = {} self.current_controller = None # Pre-create all available controllers for controller_type in list_available_controllers(): try: self.controllers[controller_type] = create_controller( controller_type, config=config ) except Exception as e: print(f&quot;Failed to create {controller_type}: {e}&quot;) def select_best_controller(self, performance_metrics): &quot;&quot;&quot;Select controller based on performance metrics.&quot;&quot;&quot; best_type = self._evaluate_performance(performance_metrics) self.current_controller = self.controllers[best_type] return self.current_controller def _evaluate_performance(self, metrics): # Implementation specific to performance criteria pass
``` ### Batch Controller Creation ```python

from src.controllers.factory import create_controller def create_controller_ensemble(gains_dict, config): &quot;&quot;&quot;Create multiple controllers for ensemble methods.&quot;&quot;&quot; controllers = {} for controller_type, gains in gains_dict.items(): try: controllers[controller_type] = create_controller( controller_type=controller_type, config=config, gains=gains ) print(f&quot;✓ Created {controller_type} successfully&quot;) except Exception as e: print(f&quot;✗ Failed to create {controller_type}: {e}&quot;) return controllers # Example usage
gains_ensemble = { &#39;classical_smc&#39;: [20.0, 15.0, 12.0, 8.0, 35.0, 5.0], &#39;adaptive_smc&#39;: [25.0, 18.0, 15.0, 10.0, 4.0], &#39;sta_smc&#39;: [25.0, 15.0, 20.0, 12.0, 8.0, 6.0]
} ensemble = create_controller_ensemble(gains_ensemble, config)
``` ## Configuration Best Practices ### 1. **Always Specify Required Parameters** ```python
# example-metadata:
# runnable: false # Good: Complete parameter specification
controller_config = { &#39;gains&#39;: [20.0, 15.0, 12.0, 8.0, 35.0, 5.0], &#39;max_force&#39;: 150.0, &#39;boundary_layer&#39;: 0.02, &#39;dt&#39;: 0.001
} # Avoid: Relying on implicit defaults
controller_config = { &#39;gains&#39;: [20.0, 15.0, 12.0, 8.0, 35.0, 5.0] # Missing required parameters
}
``` ### 2. **Use Type-Safe Configuration** ```python

from typing import List
from dataclasses import dataclass @dataclass
class ControllerConfig: gains: List[float] max_force: float = 150.0 dt: float = 0.001 boundary_layer: float = 0.02 # Type-safe configuration
config = ControllerConfig( gains=[20.0, 15.0, 12.0, 8.0, 35.0, 5.0]
)
``` ### 3. **Validate Before Expensive Operations** ```python
from src.controllers.factory import create_controller def safe_controller_creation(controller_type, gains, config): &quot;&quot;&quot;Validate parameters before creating controller.&quot;&quot;&quot; # Pre-validation if not isinstance(gains, (list, tuple)): raise ValueError(&quot;Gains must be a list or tuple&quot;) if not all(isinstance(g, (int, float)) for g in gains): raise ValueError(&quot;All gains must be numeric&quot;) if any(g &lt;= 0 for g in gains): raise ValueError(&quot;All gains must be positive&quot;) # Create controller after validation return create_controller( controller_type=controller_type, config=config, gains=gains )
``` ## Performance Optimization ### 1. **Controller Reuse** ```python
# Good: Reuse controllers when possible

controller_cache = {} def get_or_create_controller(controller_type, gains, config): cache_key = (controller_type, tuple(gains)) if cache_key not in controller_cache: controller_cache[cache_key] = create_controller( controller_type, config=config, gains=gains ) return controller_cache[cache_key]
``` ### 2. **Lazy Loading for Large Ensembles** ```python
# example-metadata:
# runnable: false class LazyControllerEnsemble: &quot;&quot;&quot;Lazy-loaded controller ensemble for memory efficiency.&quot;&quot;&quot; def __init__(self, controller_specs, config): self.specs = controller_specs self.config = config self._controllers = {} def get_controller(self, controller_type): if controller_type not in self._controllers: spec = self.specs[controller_type] self._controllers[controller_type] = create_controller( controller_type, config=self.config, **spec ) return self._controllers[controller_type]
``` ### 3. **Thread Pool for Batch Creation** ```python

import concurrent.futures
from src.controllers.factory import create_controller def create_controllers_parallel(controller_specs, config, max_workers=4): &quot;&quot;&quot;Create multiple controllers in parallel.&quot;&quot;&quot; def create_single(spec): controller_type, params = spec return create_controller(controller_type, config=config, **params) with concurrent.futures.ThreadPoolExecutor(max_workers=max_workers) as executor: futures = [ executor.submit(create_single, spec) for spec in controller_specs.items() ] controllers = {} for future, (controller_type, _) in zip(futures, controller_specs.items()): try: controllers[controller_type] = future.result(timeout=30) except Exception as e: print(f&quot;Failed to create {controller_type}: {e}&quot;) return controllers
``` ## Debugging and Diagnostics ### 1. **Debug Logging** ```python
import logging
from src.controllers.factory import create_controller # factory debug logging
logging.getLogger(&#39;src.controllers.factory&#39;).setLevel(logging.DEBUG) # Create controller with detailed logging
controller = create_controller(&#39;classical_smc&#39;, gains=[20.0, 15.0, 12.0, 8.0, 35.0, 5.0])
``` ### 2. **Parameter Validation Diagnostics** ```python

from src.controllers.factory.core.validation import validate_controller_parameters # Detailed parameter validation
validation_result = validate_controller_parameters( controller_type=&#39;classical_smc&#39;, gains=[20.0, 15.0, 12.0, 8.0, 35.0, 5.0], max_force=150.0
) if not validation_result.is_valid: print(&quot;Validation issues:&quot;) for issue in validation_result.issues: print(f&quot; - {issue}&quot;)
``` ### 3. **Factory State Inspection** ```python
from src.controllers.factory import ( CONTROLLER_REGISTRY, list_available_controllers, get_default_gains
) # Inspect available controllers
print(&quot;Available controllers:&quot;, list_available_controllers()) # Get controller specifications
for controller_type in list_available_controllers(): info = CONTROLLER_REGISTRY[controller_type] print(f&quot;{controller_type}:&quot;) print(f&quot; Description: {info[&#39;description&#39;]}&quot;) print(f&quot; Gain count: {info[&#39;gain_count&#39;]}&quot;) print(f&quot; Default gains: {get_default_gains(controller_type)}&quot;) print()
``` ## Common Issues and approaches ### Issue 1: &quot;Controller requires X gains, got Y&quot; **Cause**: Incorrect number of gains for controller type

**Solution**: Use correct gain count for each controller type ```python
# Check required gain count

from src.controllers.factory import CONTROLLER_REGISTRY controller_type = &#39;classical_smc&#39;
required_count = CONTROLLER_REGISTRY[controller_type][&#39;gain_count&#39;]
print(f&quot;{controller_type} requires {required_count} gains&quot;) # Provide correct number of gains
gains = [20.0, 15.0, 12.0, 8.0, 35.0, 5.0] # 6 gains for classical SMC
``` ### Issue 2: &quot;All gains must be positive&quot; **Cause**: Negative or zero gains in array
**Solution**: Ensure all gains are positive numbers ```python
# Validate gains before use
def validate_gains(gains): if any(g &lt;= 0 for g in gains): raise ValueError(&quot;All gains must be positive&quot;) return gains validated_gains = validate_gains([20.0, 15.0, 12.0, 8.0, 35.0, 5.0])
``` ### Issue 3: Thread safety issues **Cause**: Concurrent factory access without proper synchronization

**Solution**: Factory is thread-safe by default, but avoid shared mutable state ```python
# example-metadata:

# runnable: false # Thread-safe controller creation

import threading def thread_safe_creation(): # Each thread creates its own controller instance controller = create_controller(&#39;classical_smc&#39;, gains=[...]) return controller # Multiple threads can safely call the factory
threads = [ threading.Thread(target=thread_safe_creation) for _ in range(10)
]
``` ## Migration from Legacy Systems ### Automated Parameter Migration ```python
from src.controllers.factory.deprecation import check_deprecated_config # Migrate old configuration format
old_config = { &#39;K_switching&#39;: 2.0, &#39;gamma&#39;: 0.1, # Invalid for classical SMC &#39;switch_function&#39;: &#39;sign&#39;
} # Automatic migration with warnings
migrated_config = check_deprecated_config(&#39;classical_smc&#39;, old_config)
``` ### Backward Compatibility ```python
# Legacy function names still work

from src.controllers.factory import ( create_classical_smc_controller, # Backward compatibility create_controller # Preferred new interface
) # Both work identically
legacy_controller = create_classical_smc_controller( gains=[20.0, 15.0, 12.0, 8.0, 35.0, 5.0]
) modern_controller = create_controller( &#39;classical_smc&#39;, gains=[20.0, 15.0, 12.0, 8.0, 35.0, 5.0]
)
``` ## Summary The GitHub Issue #6 factory integration fixes provide: 1. **Enhanced Reliability**: Thread-safe operations with validation
2. **Improved Usability**: Clear error messages and automatic parameter handling
3. **Better Performance**: Optimized PSO integration and reduced overhead
4. **Future-Proof Design**: Deprecation management and migration support
5. **Scientific Rigor**: Proper parameter validation based on control theory These improvements result in a more robust, reliable, and maintainable controller factory system that supports advanced research workflows while maintaining backward compatibility.
</pre></div>
</div>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, Research Team
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            <div class="last-updated">
              Last updated on Oct 10, 2025</div>
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=4ebf8126"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=46bd48cc"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=08e7b316"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script src="../_static/back-to-top.js?v=840797bb"></script>
    <script src="../_static/lazy-load.js?v=dc25293c"></script>
    <script src="../_static/dark-mode.js?v=bf328970"></script>
    </body>
</html>