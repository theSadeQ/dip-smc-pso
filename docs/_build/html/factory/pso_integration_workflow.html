<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark">
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
<style>
.chartjs-container {
    margin: 1.5em auto;
    padding: 1em;
    background: #f8f9fa;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}
.chart-note {
    text-align: center;
    color: #6c757d;
    font-size: 0.9em;
    margin-top: 0.5em;
}
</style>
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" />

    <!-- Generated with Sphinx 7.4.7 and Furo 2024.08.06 -->
        <title>PSO Integration Workflow and Best Practices - DIP_SMC_PSO Documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=5349f25f" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=302659d7" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=f5a89ef9" />
    
    


<style>
  body {
    --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">DIP_SMC_PSO Documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">DIP_SMC_PSO Documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">ğŸ“š Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../README.html">Optimal Sliding Mode Control for a Double-Inverted Pendulum via PSO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../theory_overview.html">1. Theoretical Background Ã¢â‚¬â€ Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../architecture.html">3. System Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plant_model.html">1.x Plant Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hil_quickstart.html">Hardware-in-the-Loop (HIL) Quickstart Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../streamlit_dashboard_guide.html">Streamlit Dashboard User Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ğŸ® Control Systems &amp; Optimization</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../controllers/index.html">Controllers Module Documentation</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Controllers Module Documentation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../controllers/classical_smc_technical_guide.html">Classical Sliding Mode Control Technical Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../controllers/adaptive_smc_technical_guide.html">Adaptive Sliding Mode Control Technical Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../controllers/sta_smc_technical_guide.html">Super-Twisting Sliding Mode Control Technical Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../controllers/hybrid_smc_technical_guide.html">Hybrid Adaptive Super-Twisting SMC Technical Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../controllers/mpc_technical_guide.html">Model Predictive Control Technical Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../controllers/swing_up_smc_technical_guide.html">Swing-Up SMC Technical Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../controllers/swing_up_smc_technical_guide.html#example-metadata">example-metadata:</a></li>
<li class="toctree-l2"><a class="reference internal" href="../controllers/swing_up_smc_technical_guide.html#runnable-false">runnable: false</a></li>
<li class="toctree-l2"><a class="reference internal" href="../controllers/factory_system_guide.html">SMC Controller Factory System Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../controllers/control_primitives_reference.html">Control Primitives Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mathematical_foundations/smc_complete_theory.html">Complete Sliding Mode Control Mathematical Theory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mathematical_foundations/controller_comparison_theory.html">SMC Controller Comparison Theory</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../reference/controllers/index.html">Controllers Module</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Controllers Module</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/adaptive_smc.html">controllers.adaptive_smc</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/classic_smc.html">controllers.classic_smc</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/factory.html">controllers.factory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/mpc_controller.html">controllers.mpc_controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/sta_smc.html">controllers.sta_smc</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/swing_up_smc.html">controllers.swing_up_smc</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/__init__.html">controllers.<strong>init</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/base_controller_interface.html">controllers.base.controller_interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/base_control_primitives.html">controllers.base.control_primitives</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/base___init__.html">controllers.base.<strong>init</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/factory_deprecation.html">controllers.factory.deprecation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/factory_fallback_configs.html">controllers.factory.fallback_configs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/factory_legacy_factory.html">controllers.factory.legacy_factory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/factory_optimization.html">controllers.factory.optimization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/factory_pso_integration.html">controllers.factory.pso_integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/factory_smc_factory.html">controllers.factory.smc_factory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/factory_thread_safety.html">controllers.factory.thread_safety</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/factory___init__.html">controllers.factory.<strong>init</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/mpc_mpc_controller.html">controllers.mpc.mpc_controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/mpc___init__.html">controllers.mpc.<strong>init</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/smc_adaptive_smc.html">controllers.smc.adaptive_smc</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/smc_classic_smc.html">controllers.smc.classic_smc</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/smc_hybrid_adaptive_sta_smc.html">controllers.smc.hybrid_adaptive_sta_smc</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/smc_sta_smc.html">controllers.smc.sta_smc</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/smc___init__.html">controllers.smc.<strong>init</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/specialized_swing_up_smc.html">controllers.specialized.swing_up_smc</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/specialized___init__.html">controllers.specialized.<strong>init</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/factory_core_protocols.html">controllers.factory.core.protocols</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/factory_core_registry.html">controllers.factory.core.registry</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/factory_core_threading.html">controllers.factory.core.threading</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/factory_core_validation.html">controllers.factory.core.validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/factory_core___init__.html">controllers.factory.core.<strong>init</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/smc_algorithms___init__.html">controllers.smc.algorithms.<strong>init</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/smc_core_equivalent_control.html">controllers.smc.core.equivalent_control</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/smc_core_gain_validation.html">controllers.smc.core.gain_validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/smc_core_sliding_surface.html">controllers.smc.core.sliding_surface</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/smc_core_switching_functions.html">controllers.smc.core.switching_functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/smc_core___init__.html">controllers.smc.core.<strong>init</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/smc_algorithms_adaptive_adaptation_law.html">controllers.smc.algorithms.adaptive.adaptation_law</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/smc_algorithms_adaptive_config.html">controllers.smc.algorithms.adaptive.config</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/smc_algorithms_adaptive_controller.html">controllers.smc.algorithms.adaptive.controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/smc_algorithms_adaptive_parameter_estimation.html">controllers.smc.algorithms.adaptive.parameter_estimation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/smc_algorithms_adaptive___init__.html">controllers.smc.algorithms.adaptive.<strong>init</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/smc_algorithms_classical_boundary_layer.html">controllers.smc.algorithms.classical.boundary_layer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/smc_algorithms_classical_config.html">controllers.smc.algorithms.classical.config</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/smc_algorithms_classical_controller.html">controllers.smc.algorithms.classical.controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/smc_algorithms_classical___init__.html">controllers.smc.algorithms.classical.<strong>init</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/smc_algorithms_hybrid_config.html">controllers.smc.algorithms.hybrid.config</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/smc_algorithms_hybrid_controller.html">controllers.smc.algorithms.hybrid.controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/smc_algorithms_hybrid_switching_logic.html">controllers.smc.algorithms.hybrid.switching_logic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/smc_algorithms_hybrid___init__.html">controllers.smc.algorithms.hybrid.<strong>init</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/smc_algorithms_super_twisting_config.html">controllers.smc.algorithms.super_twisting.config</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/smc_algorithms_super_twisting_controller.html">controllers.smc.algorithms.super_twisting.controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/smc_algorithms_super_twisting_twisting_algorithm.html">controllers.smc.algorithms.super_twisting.twisting_algorithm</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/controllers/smc_algorithms_super_twisting___init__.html">controllers.smc.algorithms.super_twisting.<strong>init</strong></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../mathematical_foundations/index.html">Mathematical Foundations</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Mathematical Foundations</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../mathematical_foundations/smc_complete_theory.html">Complete Sliding Mode Control Mathematical Theory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mathematical_foundations/controller_comparison_theory.html">SMC Controller Comparison Theory</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../plant/models_guide.html">Plant Models Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optimization_simulation/guide.html">Optimization &amp; Simulation Guide</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../reference/controllers/index.html">Controllers Module</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Controllers Module</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/adaptive_smc.html">controllers.adaptive_smc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/classic_smc.html">controllers.classic_smc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/factory.html">controllers.factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/mpc_controller.html">controllers.mpc_controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/sta_smc.html">controllers.sta_smc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/swing_up_smc.html">controllers.swing_up_smc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/__init__.html">controllers.<strong>init</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/base_controller_interface.html">controllers.base.controller_interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/base_control_primitives.html">controllers.base.control_primitives</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/base___init__.html">controllers.base.<strong>init</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/factory_deprecation.html">controllers.factory.deprecation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/factory_fallback_configs.html">controllers.factory.fallback_configs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/factory_legacy_factory.html">controllers.factory.legacy_factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/factory_optimization.html">controllers.factory.optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/factory_pso_integration.html">controllers.factory.pso_integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/factory_smc_factory.html">controllers.factory.smc_factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/factory_thread_safety.html">controllers.factory.thread_safety</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/factory___init__.html">controllers.factory.<strong>init</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/mpc_mpc_controller.html">controllers.mpc.mpc_controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/mpc___init__.html">controllers.mpc.<strong>init</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/smc_adaptive_smc.html">controllers.smc.adaptive_smc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/smc_classic_smc.html">controllers.smc.classic_smc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/smc_hybrid_adaptive_sta_smc.html">controllers.smc.hybrid_adaptive_sta_smc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/smc_sta_smc.html">controllers.smc.sta_smc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/smc___init__.html">controllers.smc.<strong>init</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/specialized_swing_up_smc.html">controllers.specialized.swing_up_smc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/specialized___init__.html">controllers.specialized.<strong>init</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/factory_core_protocols.html">controllers.factory.core.protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/factory_core_registry.html">controllers.factory.core.registry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/factory_core_threading.html">controllers.factory.core.threading</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/factory_core_validation.html">controllers.factory.core.validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/factory_core___init__.html">controllers.factory.core.<strong>init</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/smc_algorithms___init__.html">controllers.smc.algorithms.<strong>init</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/smc_core_equivalent_control.html">controllers.smc.core.equivalent_control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/smc_core_gain_validation.html">controllers.smc.core.gain_validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/smc_core_sliding_surface.html">controllers.smc.core.sliding_surface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/smc_core_switching_functions.html">controllers.smc.core.switching_functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/smc_core___init__.html">controllers.smc.core.<strong>init</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/smc_algorithms_adaptive_adaptation_law.html">controllers.smc.algorithms.adaptive.adaptation_law</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/smc_algorithms_adaptive_config.html">controllers.smc.algorithms.adaptive.config</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/smc_algorithms_adaptive_controller.html">controllers.smc.algorithms.adaptive.controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/smc_algorithms_adaptive_parameter_estimation.html">controllers.smc.algorithms.adaptive.parameter_estimation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/smc_algorithms_adaptive___init__.html">controllers.smc.algorithms.adaptive.<strong>init</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/smc_algorithms_classical_boundary_layer.html">controllers.smc.algorithms.classical.boundary_layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/smc_algorithms_classical_config.html">controllers.smc.algorithms.classical.config</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/smc_algorithms_classical_controller.html">controllers.smc.algorithms.classical.controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/smc_algorithms_classical___init__.html">controllers.smc.algorithms.classical.<strong>init</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/smc_algorithms_hybrid_config.html">controllers.smc.algorithms.hybrid.config</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/smc_algorithms_hybrid_controller.html">controllers.smc.algorithms.hybrid.controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/smc_algorithms_hybrid_switching_logic.html">controllers.smc.algorithms.hybrid.switching_logic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/smc_algorithms_hybrid___init__.html">controllers.smc.algorithms.hybrid.<strong>init</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/smc_algorithms_super_twisting_config.html">controllers.smc.algorithms.super_twisting.config</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/smc_algorithms_super_twisting_controller.html">controllers.smc.algorithms.super_twisting.controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/smc_algorithms_super_twisting_twisting_algorithm.html">controllers.smc.algorithms.super_twisting.twisting_algorithm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controllers/smc_algorithms_super_twisting___init__.html">controllers.smc.algorithms.super_twisting.<strong>init</strong></a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../reference/optimizer/index.html">Optimizer Module</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Optimizer Module</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../reference/optimizer/pso_optimizer.html">optimizer.pso_optimizer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/optimizer/__init__.html">optimizer.<strong>init</strong></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../analysis_plan.html">5. Analysis &amp; Verification Plan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../benchmarks_methodology.html">Benchmarks &amp; Methodology</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ğŸ§ª Development &amp; Testing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../TESTING.html">Testing Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../test_protocols.html">5.x Test Protocols</a></li>
<li class="toctree-l1"><a class="reference internal" href="../use_cases.html">4. Use Cases &amp; Operating Modes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../context.html">2. Application Context</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fault_detection_guide.html">Fault Detection &amp; Isolation (FDI) Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ğŸ“Š Research &amp; Theory</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../presentation/index.html">Research Presentation Materials</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Research Presentation Materials</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../presentation/introduction.html">Abstract</a></li>
<li class="toctree-l2"><a class="reference internal" href="../presentation/introduction.html#introduction-and-motivation">Introduction and Motivation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../presentation/introduction.html#the-double-inverted-pendulum-as-a-canonical-control-problem">The Double Inverted Pendulum as a Canonical Control Problem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../presentation/introduction.html#the-primary-control-objectives-and-challenges">The Primary Control Objectives and Challenges</a></li>
<li class="toctree-l2"><a class="reference internal" href="../presentation/introduction.html#sliding-mode-control-as-a-robust-solution">Sliding Mode Control as a Robust Solution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../presentation/introduction.html#the-gain-tuning-dilemma-and-the-need-for-optimization">The Gain Tuning Dilemma and the Need for Optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../presentation/introduction.html#particle-swarm-optimization-for-automated-design">Particle Swarm Optimization for Automated Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../presentation/introduction.html#synthesis-and-motivation">Synthesis and Motivation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../presentation/introduction.html#references">References</a></li>
<li class="toctree-l2"><a class="reference internal" href="../presentation/problem-statement.html">Problem Statement for Doubleâ€‘InvertedÂ Pendulum (DIP) Control with SMC and PSO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../presentation/previous-works.html">Previous Work Before the Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="../presentation/system-modeling.html"><strong>A Comprehensive Technical Report on the Modeling and Configuration of a Cartâ€‘Based Double Inverted Pendulum System</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../presentation/smc-theory.html">Sliding Mode Control for a Doubleâ€‘Inverted Pendulum: Bridging Theory and Implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../presentation/chattering-mitigation.html">Abstract</a></li>
<li class="toctree-l2"><a class="reference internal" href="../presentation/chattering-mitigation.html#introduction">1Â Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../presentation/chattering-mitigation.html#system-modelling-and-problem-formulation">2Â SystemÂ Modelling and ProblemÂ Formulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../presentation/chattering-mitigation.html#simulation-methodology">3Â Simulation Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../presentation/chattering-mitigation.html#classic-sliding-mode-control">4Â Classic SlidingÂ Mode Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../presentation/chattering-mitigation.html#chattering-mitigation-strategy-i-boundary-layer-method">5Â ChatteringÂ Mitigation StrategyÂ I:Â BoundaryÂ LayerÂ Method</a></li>
<li class="toctree-l2"><a class="reference internal" href="../presentation/chattering-mitigation.html#chattering-mitigation-strategy-ii-supertwisting-algorithm">6Â ChatteringÂ Mitigation StrategyÂ II:Â Superâ€‘Twisting Algorithm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../presentation/chattering-mitigation.html#chattering-mitigation-strategy-iii-adaptive-sliding-mode-control">7Â ChatteringÂ Mitigation StrategyÂ III:Â AdaptiveÂ SlidingÂ ModeÂ Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../presentation/chattering-mitigation.html#chattering-mitigation-strategy-iv-hybrid-adaptivesta">8Â ChatteringÂ Mitigation StrategyÂ IV:Â HybridÂ Adaptiveâ€“STA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../presentation/chattering-mitigation.html#synthesis-and-comparative-analysis">9Â SynthesisÂ and Comparative Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../presentation/chattering-mitigation.html#references">References</a></li>
<li class="toctree-l2"><a class="reference internal" href="../presentation/pso-optimization.html"><strong>Comprehensive Simulation Analysis and Enhancements for the Double Inverted Pendulum Control System</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../presentation/simulation-setup.html">Particle Swarm Optimization for Slidingâ€‘Mode Controller Tuning of a Double Inverted Pendulum</a></li>
<li class="toctree-l2"><a class="reference internal" href="../presentation/results-discussion.html">8 â€“ Results and Discussion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../presentation/results-discussion.html#references">References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../presentation/introduction.html">Abstract</a></li>
<li class="toctree-l1"><a class="reference internal" href="../presentation/introduction.html#introduction-and-motivation">Introduction and Motivation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../presentation/introduction.html#the-double-inverted-pendulum-as-a-canonical-control-problem">The Double Inverted Pendulum as a Canonical Control Problem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../presentation/introduction.html#the-primary-control-objectives-and-challenges">The Primary Control Objectives and Challenges</a></li>
<li class="toctree-l1"><a class="reference internal" href="../presentation/introduction.html#sliding-mode-control-as-a-robust-solution">Sliding Mode Control as a Robust Solution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../presentation/introduction.html#the-gain-tuning-dilemma-and-the-need-for-optimization">The Gain Tuning Dilemma and the Need for Optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../presentation/introduction.html#particle-swarm-optimization-for-automated-design">Particle Swarm Optimization for Automated Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../presentation/introduction.html#synthesis-and-motivation">Synthesis and Motivation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../presentation/introduction.html#references">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../presentation/problem-statement.html">Problem Statement for Doubleâ€‘InvertedÂ Pendulum (DIP) Control with SMC and PSO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../presentation/previous-works.html">Previous Work Before the Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../presentation/system-modeling.html"><strong>A Comprehensive Technical Report on the Modeling and Configuration of a Cartâ€‘Based Double Inverted Pendulum System</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../presentation/smc-theory.html">Sliding Mode Control for a Doubleâ€‘Inverted Pendulum: Bridging Theory and Implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../presentation/chattering-mitigation.html">Abstract</a></li>
<li class="toctree-l1"><a class="reference internal" href="../presentation/chattering-mitigation.html#introduction">1Â Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../presentation/chattering-mitigation.html#system-modelling-and-problem-formulation">2Â SystemÂ Modelling and ProblemÂ Formulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../presentation/chattering-mitigation.html#simulation-methodology">3Â Simulation Methodology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../presentation/chattering-mitigation.html#classic-sliding-mode-control">4Â Classic SlidingÂ Mode Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../presentation/chattering-mitigation.html#chattering-mitigation-strategy-i-boundary-layer-method">5Â ChatteringÂ Mitigation StrategyÂ I:Â BoundaryÂ LayerÂ Method</a></li>
<li class="toctree-l1"><a class="reference internal" href="../presentation/chattering-mitigation.html#chattering-mitigation-strategy-ii-supertwisting-algorithm">6Â ChatteringÂ Mitigation StrategyÂ II:Â Superâ€‘Twisting Algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../presentation/chattering-mitigation.html#chattering-mitigation-strategy-iii-adaptive-sliding-mode-control">7Â ChatteringÂ Mitigation StrategyÂ III:Â AdaptiveÂ SlidingÂ ModeÂ Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../presentation/chattering-mitigation.html#chattering-mitigation-strategy-iv-hybrid-adaptivesta">8Â ChatteringÂ Mitigation StrategyÂ IV:Â HybridÂ Adaptiveâ€“STA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../presentation/chattering-mitigation.html#synthesis-and-comparative-analysis">9Â SynthesisÂ and Comparative Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../presentation/chattering-mitigation.html#references">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../presentation/pso-optimization.html"><strong>Comprehensive Simulation Analysis and Enhancements for the Double Inverted Pendulum Control System</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../presentation/simulation-setup.html">Particle Swarm Optimization for Slidingâ€‘Mode Controller Tuning of a Double Inverted Pendulum</a></li>
<li class="toctree-l1"><a class="reference internal" href="../presentation/results-discussion.html">8 â€“ Results and Discussion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../presentation/results-discussion.html#references">References</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ğŸ“– API Reference &amp; Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API Reference Documentation</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../examples/index.html">Examples</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of Examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../bibliography.html">Bibliography &amp; Academic References</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ğŸ”§ Project Management</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../CONTRIBUTING.html">Contributing â€“ ResearchPlanSpec Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../RELEASE_CHECKLIST.html">Release Checklist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CHANGELOG.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../symbols.html">Symbols &amp; Units</a></li>
<li class="toctree-l1"><a class="reference internal" href="../results_readme.html">Results &amp; Plots</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ğŸ“š Citations &amp; Attribution</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../CITATIONS.html">Citations &amp; Academic Attribution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CITATIONS_ACADEMIC.html">Academic Theory Citations &amp; References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../DEPENDENCIES.html">Software Dependencies &amp; Citations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PATTERNS.html">Software Design Patterns &amp; Architecture Attribution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LICENSES.html">License Compliance &amp; Attribution</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="https://github.com/theSadeQ/DIP_SMC_PSO/blob/main/docs/factory/pso_integration_workflow.md?plain=true" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div><div class="edit-this-page">
  <a class="muted-link" href="https://github.com/theSadeQ/DIP_SMC_PSO/edit/main/docs/factory/pso_integration_workflow.md" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section class="tex2jax_ignore mathjax_ignore" id="pso-integration-workflow-and-best-practices">
<h1>PSO Integration Workflow and Best Practices<a class="headerlink" href="#pso-integration-workflow-and-best-practices" title="Link to this heading">Â¶</a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">Â¶</a></h2>
<p>This document provides comprehensive guidance for integrating the SMC Controller Factory with Particle Swarm Optimization (PSO) workflows. The integration enables automated controller parameter tuning while maintaining factory validation, thread safety, and performance requirements.</p>
</section>
<section id="pso-integration-architecture">
<h2>PSO Integration Architecture<a class="headerlink" href="#pso-integration-architecture" title="Link to this heading">Â¶</a></h2>
<section id="high-level-pso-factory-integration-flow">
<h3>High-Level PSO-Factory Integration Flow<a class="headerlink" href="#high-level-pso-factory-integration-flow" title="Link to this heading">Â¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>    <span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>    <span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span>   <span class="n">PSO</span> <span class="n">Engine</span>   <span class="err">â”‚â”€â”€â”€â–¶â”‚</span>  <span class="n">Factory</span><span class="o">-</span><span class="n">PSO</span>     <span class="err">â”‚â”€â”€â”€â–¶â”‚</span>   <span class="n">Controller</span>    <span class="err">â”‚</span>
<span class="err">â”‚</span>   <span class="n">Optimizer</span>     <span class="err">â”‚</span>    <span class="err">â”‚</span>  <span class="n">Interface</span>       <span class="err">â”‚</span>    <span class="err">â”‚</span>   <span class="n">Validation</span>    <span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>    <span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>    <span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
         <span class="err">â”‚</span>                       <span class="err">â”‚</span>                       <span class="err">â”‚</span>
         <span class="err">â”‚</span>                       <span class="err">â–¼</span>                       <span class="err">â”‚</span>
         <span class="err">â”‚</span>              <span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>             <span class="err">â”‚</span>
         <span class="err">â”‚</span>              <span class="err">â”‚</span> <span class="n">Parameter</span>        <span class="err">â”‚</span>             <span class="err">â”‚</span>
         <span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚</span> <span class="n">Bounds</span> <span class="o">&amp;</span> <span class="n">Specs</span>   <span class="err">â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
                        <span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
                                 <span class="err">â”‚</span>
                                 <span class="err">â–¼</span>
                        <span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
                        <span class="err">â”‚</span> <span class="n">Fitness</span>          <span class="err">â”‚</span>
                        <span class="err">â”‚</span> <span class="n">Evaluation</span>       <span class="err">â”‚</span>
                        <span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</pre></div>
</div>
</section>
<section id="pso-compatible-controller-factory-interface">
<h3>PSO-Compatible Controller Factory Interface<a class="headerlink" href="#pso-compatible-controller-factory-interface" title="Link to this heading">Â¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># example-metadata:</span>
<span class="c1"># runnable: false</span>

<span class="k">class</span><span class="w"> </span><span class="nc">PSOFactoryInterface</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Specialized interface for PSO optimization integration.</span>

<span class="sd">    Features:</span>
<span class="sd">    - Vectorized controller creation for swarm populations</span>
<span class="sd">    - Automatic parameter validation and bounds checking</span>
<span class="sd">    - Performance-optimized fitness evaluation</span>
<span class="sd">    - Thread-safe parallel optimization support</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">controller_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">plant_config</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">controller_type</span> <span class="o">=</span> <span class="n">controller_type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plant_config</span> <span class="o">=</span> <span class="n">plant_config</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_setup_optimization_environment</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_setup_optimization_environment</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize PSO optimization environment.&quot;&quot;&quot;</span>

        <span class="c1"># Get controller specifications</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gain_spec</span> <span class="o">=</span> <span class="n">SMC_GAIN_SPECS</span><span class="p">[</span><span class="n">SMCType</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">controller_type</span><span class="p">)]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n_gains</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gain_spec</span><span class="o">.</span><span class="n">n_gains</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bounds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gain_spec</span><span class="o">.</span><span class="n">gain_bounds</span>

        <span class="c1"># Performance monitoring</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">evaluation_count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">successful_evaluations</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">failed_evaluations</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="c1"># Thread-safe operations</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">RLock</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">create_pso_controller_factory</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">GainsArray</span><span class="p">],</span> <span class="n">PSOControllerWrapper</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create PSO-optimized controller factory function.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Factory function that takes gains and returns PSO-wrapped controller</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">controller_factory</span><span class="p">(</span><span class="n">gains</span><span class="p">:</span> <span class="n">GainsArray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PSOControllerWrapper</span><span class="p">:</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;PSO controller factory with comprehensive validation.&quot;&quot;&quot;</span>

            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">evaluation_count</span> <span class="o">+=</span> <span class="mi">1</span>

                <span class="k">try</span><span class="p">:</span>
                    <span class="c1"># Validate gains</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_pso_gains</span><span class="p">(</span><span class="n">gains</span><span class="p">):</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">failed_evaluations</span> <span class="o">+=</span> <span class="mi">1</span>
                        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_fallback_controller</span><span class="p">(</span><span class="n">gains</span><span class="p">)</span>

                    <span class="c1"># Create controller via factory</span>
                    <span class="n">controller</span> <span class="o">=</span> <span class="n">create_controller</span><span class="p">(</span>
                        <span class="n">controller_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">controller_type</span><span class="p">,</span>
                        <span class="n">config</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">plant_config</span><span class="p">,</span>
                        <span class="n">gains</span><span class="o">=</span><span class="n">gains</span>
                    <span class="p">)</span>

                    <span class="c1"># Wrap for PSO optimization</span>
                    <span class="n">wrapper</span> <span class="o">=</span> <span class="n">PSOControllerWrapper</span><span class="p">(</span>
                        <span class="n">controller</span><span class="o">=</span><span class="n">controller</span><span class="p">,</span>
                        <span class="n">controller_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">controller_type</span><span class="p">,</span>
                        <span class="n">validation_enabled</span><span class="o">=</span><span class="kc">True</span>
                    <span class="p">)</span>

                    <span class="c1"># Add PSO-required attributes</span>
                    <span class="n">wrapper</span><span class="o">.</span><span class="n">n_gains</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_gains</span>
                    <span class="n">wrapper</span><span class="o">.</span><span class="n">controller_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">controller_type</span>
                    <span class="n">wrapper</span><span class="o">.</span><span class="n">max_force</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">controller</span><span class="p">,</span> <span class="s1">&#39;max_force&#39;</span><span class="p">,</span> <span class="mf">150.0</span><span class="p">)</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">successful_evaluations</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="k">return</span> <span class="n">wrapper</span>

                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;PSO controller creation failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">failed_evaluations</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_fallback_controller</span><span class="p">(</span><span class="n">gains</span><span class="p">)</span>

        <span class="c1"># Add PSO-required attributes to factory function</span>
        <span class="n">controller_factory</span><span class="o">.</span><span class="n">n_gains</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_gains</span>
        <span class="n">controller_factory</span><span class="o">.</span><span class="n">controller_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">controller_type</span>
        <span class="n">controller_factory</span><span class="o">.</span><span class="n">bounds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bounds</span>
        <span class="n">controller_factory</span><span class="o">.</span><span class="n">max_force</span> <span class="o">=</span> <span class="mf">150.0</span>

        <span class="k">return</span> <span class="n">controller_factory</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_validate_pso_gains</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gains</span><span class="p">:</span> <span class="n">GainsArray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate gains for PSO optimization.&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">gains_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">gains</span><span class="p">)</span>

            <span class="c1"># Check dimensions</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">gains_array</span><span class="p">)</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_gains</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>

            <span class="c1"># Check bounds</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">gain</span><span class="p">,</span> <span class="p">(</span><span class="n">min_val</span><span class="p">,</span> <span class="n">max_val</span><span class="p">))</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">gains_array</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">bounds</span><span class="p">)):</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">min_val</span> <span class="o">&lt;=</span> <span class="n">gain</span> <span class="o">&lt;=</span> <span class="n">max_val</span><span class="p">):</span>
                    <span class="k">return</span> <span class="kc">False</span>

            <span class="c1"># Check numerical validity</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">isfinite</span><span class="p">(</span><span class="n">gains_array</span><span class="p">)):</span>
                <span class="k">return</span> <span class="kc">False</span>

            <span class="c1"># Controller-specific validation</span>
            <span class="k">return</span> <span class="n">validate_smc_gains</span><span class="p">(</span><span class="n">SMCType</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">controller_type</span><span class="p">),</span> <span class="n">gains_array</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_create_fallback_controller</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gains</span><span class="p">:</span> <span class="n">GainsArray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PSOControllerWrapper</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create fallback controller for invalid parameters.&quot;&quot;&quot;</span>

        <span class="c1"># Use default gains as fallback</span>
        <span class="n">default_gains</span> <span class="o">=</span> <span class="n">get_default_gains</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">controller_type</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">controller</span> <span class="o">=</span> <span class="n">create_controller</span><span class="p">(</span>
                <span class="n">controller_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">controller_type</span><span class="p">,</span>
                <span class="n">config</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">plant_config</span><span class="p">,</span>
                <span class="n">gains</span><span class="o">=</span><span class="n">default_gains</span>
            <span class="p">)</span>

            <span class="n">wrapper</span> <span class="o">=</span> <span class="n">PSOControllerWrapper</span><span class="p">(</span>
                <span class="n">controller</span><span class="o">=</span><span class="n">controller</span><span class="p">,</span>
                <span class="n">controller_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">controller_type</span><span class="p">,</span>
                <span class="n">validation_enabled</span><span class="o">=</span><span class="kc">False</span>  <span class="c1"># Disable validation for fallback</span>
            <span class="p">)</span>

            <span class="n">wrapper</span><span class="o">.</span><span class="n">n_gains</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_gains</span>
            <span class="n">wrapper</span><span class="o">.</span><span class="n">controller_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">controller_type</span>
            <span class="n">wrapper</span><span class="o">.</span><span class="n">is_fallback</span> <span class="o">=</span> <span class="kc">True</span>

            <span class="k">return</span> <span class="n">wrapper</span>

        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="c1"># Emergency fallback - return minimal controller</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_emergency_fallback</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_optimization_statistics</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get PSO optimization statistics.&quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
            <span class="n">success_rate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">successful_evaluations</span> <span class="o">/</span> <span class="nb">max</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">evaluation_count</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="s1">&#39;total_evaluations&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">evaluation_count</span><span class="p">,</span>
                <span class="s1">&#39;successful_evaluations&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">successful_evaluations</span><span class="p">,</span>
                <span class="s1">&#39;failed_evaluations&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">failed_evaluations</span><span class="p">,</span>
                <span class="s1">&#39;success_rate&#39;</span><span class="p">:</span> <span class="n">success_rate</span><span class="p">,</span>
                <span class="s1">&#39;optimization_health&#39;</span><span class="p">:</span> <span class="s1">&#39;GOOD&#39;</span> <span class="k">if</span> <span class="n">success_rate</span> <span class="o">&gt;</span> <span class="mf">0.8</span> <span class="k">else</span> <span class="s1">&#39;WARNING&#39;</span> <span class="k">if</span> <span class="n">success_rate</span> <span class="o">&gt;</span> <span class="mf">0.5</span> <span class="k">else</span> <span class="s1">&#39;POOR&#39;</span>
            <span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="controller-specific-pso-integration-patterns">
<h2>Controller-Specific PSO Integration Patterns<a class="headerlink" href="#controller-specific-pso-integration-patterns" title="Link to this heading">Â¶</a></h2>
<section id="classical-smc-pso-integration">
<h3>Classical SMC PSO Integration<a class="headerlink" href="#classical-smc-pso-integration" title="Link to this heading">Â¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">setup_classical_smc_pso_optimization</span><span class="p">(</span>
    <span class="n">plant_config</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="n">optimization_config</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Setup PSO optimization for Classical SMC with enhanced performance.</span>

<span class="sd">    Classical SMC Parameters: [k1, k2, Î»1, Î»2, K, kd]</span>
<span class="sd">    - k1, k2: Pendulum surface gains (convergence rate)</span>
<span class="sd">    - Î»1, Î»2: Sliding coefficients (surface slope)</span>
<span class="sd">    - K: Switching gain (uncertainty rejection)</span>
<span class="sd">    - kd: Damping gain (chattering reduction)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Enhanced bounds for double-inverted pendulum</span>
    <span class="n">bounds</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;lower&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>    <span class="c1"># Conservative lower bounds</span>
        <span class="s1">&#39;upper&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">50.0</span><span class="p">,</span> <span class="mf">40.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">25.0</span><span class="p">,</span> <span class="mf">80.0</span><span class="p">,</span> <span class="mf">15.0</span><span class="p">]</span> <span class="c1"># Aggressive upper bounds</span>
    <span class="p">}</span>

    <span class="c1"># PSO-specific configuration</span>
    <span class="n">default_config</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;swarm_size&#39;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
        <span class="s1">&#39;max_iterations&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
        <span class="s1">&#39;cognitive_param&#39;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>     <span class="c1"># Personal best weight</span>
        <span class="s1">&#39;social_param&#39;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>        <span class="c1"># Global best weight</span>
        <span class="s1">&#39;inertia_weight&#39;</span><span class="p">:</span> <span class="mf">0.9</span><span class="p">,</span>      <span class="c1"># Exploration vs exploitation</span>
        <span class="s1">&#39;inertia_decay&#39;</span><span class="p">:</span> <span class="mf">0.95</span><span class="p">,</span>      <span class="c1"># Dynamic inertia reduction</span>
        <span class="s1">&#39;convergence_threshold&#39;</span><span class="p">:</span> <span class="mf">1e-6</span><span class="p">,</span>
        <span class="s1">&#39;parallel_evaluation&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s1">&#39;thread_count&#39;</span><span class="p">:</span> <span class="mi">4</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="n">optimization_config</span><span class="p">:</span>
        <span class="n">default_config</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">optimization_config</span><span class="p">)</span>

    <span class="c1"># Create PSO factory interface</span>
    <span class="n">pso_interface</span> <span class="o">=</span> <span class="n">PSOFactoryInterface</span><span class="p">(</span><span class="s1">&#39;classical_smc&#39;</span><span class="p">,</span> <span class="n">plant_config</span><span class="p">)</span>
    <span class="n">controller_factory</span> <span class="o">=</span> <span class="n">pso_interface</span><span class="o">.</span><span class="n">create_pso_controller_factory</span><span class="p">()</span>

    <span class="c1"># Fitness function for classical SMC</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">fitness_function</span><span class="p">(</span><span class="n">gains</span><span class="p">:</span> <span class="n">GainsArray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Multi-objective fitness function for Classical SMC optimization.</span>

<span class="sd">        Objectives:</span>
<span class="sd">        1. Stabilization performance (primary)</span>
<span class="sd">        2. Control effort minimization (secondary)</span>
<span class="sd">        3. Chattering reduction (tertiary)</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">controller</span> <span class="o">=</span> <span class="n">controller_factory</span><span class="p">(</span><span class="n">gains</span><span class="p">)</span>

            <span class="c1"># Test scenarios</span>
            <span class="n">scenarios</span> <span class="o">=</span> <span class="p">[</span>
                <span class="p">(</span><span class="s1">&#39;small_disturbance&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.03</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])),</span>
                <span class="p">(</span><span class="s1">&#39;medium_angles&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])),</span>
                <span class="p">(</span><span class="s1">&#39;high_velocity&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">]))</span>
            <span class="p">]</span>

            <span class="n">total_cost</span> <span class="o">=</span> <span class="mf">0.0</span>
            <span class="n">scenario_weights</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">]</span>  <span class="c1"># Weight different scenarios</span>

            <span class="k">for</span> <span class="n">weight</span><span class="p">,</span> <span class="p">(</span><span class="n">scenario_name</span><span class="p">,</span> <span class="n">initial_state</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">scenario_weights</span><span class="p">,</span> <span class="n">scenarios</span><span class="p">):</span>
                <span class="n">scenario_cost</span> <span class="o">=</span> <span class="n">evaluate_scenario_performance</span><span class="p">(</span>
                    <span class="n">controller</span><span class="p">,</span> <span class="n">initial_state</span><span class="p">,</span> <span class="n">simulation_time</span><span class="o">=</span><span class="mf">2.0</span>
                <span class="p">)</span>
                <span class="n">total_cost</span> <span class="o">+=</span> <span class="n">weight</span> <span class="o">*</span> <span class="n">scenario_cost</span>

            <span class="c1"># Penalize extreme gains</span>
            <span class="n">gain_penalty</span> <span class="o">=</span> <span class="n">compute_gain_penalty</span><span class="p">(</span><span class="n">gains</span><span class="p">,</span> <span class="n">bounds</span><span class="p">)</span>
            <span class="n">total_cost</span> <span class="o">+=</span> <span class="mf">0.1</span> <span class="o">*</span> <span class="n">gain_penalty</span>

            <span class="k">return</span> <span class="n">total_cost</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fitness evaluation failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="mf">1000.0</span>  <span class="c1"># High penalty for failed evaluations</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s1">&#39;controller_factory&#39;</span><span class="p">:</span> <span class="n">controller_factory</span><span class="p">,</span>
        <span class="s1">&#39;fitness_function&#39;</span><span class="p">:</span> <span class="n">fitness_function</span><span class="p">,</span>
        <span class="s1">&#39;bounds&#39;</span><span class="p">:</span> <span class="n">bounds</span><span class="p">,</span>
        <span class="s1">&#39;pso_config&#39;</span><span class="p">:</span> <span class="n">default_config</span><span class="p">,</span>
        <span class="s1">&#39;pso_interface&#39;</span><span class="p">:</span> <span class="n">pso_interface</span><span class="p">,</span>
        <span class="s1">&#39;n_gains&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
        <span class="s1">&#39;optimization_type&#39;</span><span class="p">:</span> <span class="s1">&#39;classical_smc_dip&#39;</span>
    <span class="p">}</span>

<span class="k">def</span><span class="w"> </span><span class="nf">evaluate_scenario_performance</span><span class="p">(</span>
    <span class="n">controller</span><span class="p">:</span> <span class="n">PSOControllerWrapper</span><span class="p">,</span>
    <span class="n">initial_state</span><span class="p">:</span> <span class="n">StateVector</span><span class="p">,</span>
    <span class="n">simulation_time</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">2.0</span><span class="p">,</span>
    <span class="n">dt</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.001</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Evaluate controller performance for a specific scenario.&quot;&quot;&quot;</span>

    <span class="kn">from</span><span class="w"> </span><span class="nn">src.plant.models.simplified.dynamics</span><span class="w"> </span><span class="kn">import</span> <span class="n">SimplifiedDIPDynamics</span>

    <span class="c1"># Create dynamics model</span>
    <span class="n">dynamics</span> <span class="o">=</span> <span class="n">SimplifiedDIPDynamics</span><span class="p">()</span>

    <span class="c1"># Simulation parameters</span>
    <span class="n">n_steps</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">simulation_time</span> <span class="o">/</span> <span class="n">dt</span><span class="p">)</span>
    <span class="n">state</span> <span class="o">=</span> <span class="n">initial_state</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="c1"># Performance metrics</span>
    <span class="n">position_errors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">control_efforts</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">control_variations</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">previous_control</span> <span class="o">=</span> <span class="mf">0.0</span>

    <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_steps</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Compute control</span>
            <span class="n">control</span> <span class="o">=</span> <span class="n">controller</span><span class="o">.</span><span class="n">compute_control</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
            <span class="n">control_value</span> <span class="o">=</span> <span class="n">control</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

            <span class="c1"># Store metrics</span>
            <span class="n">position_error</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">state</span><span class="p">[:</span><span class="mi">3</span><span class="p">])</span>  <span class="c1"># Position error magnitude</span>
            <span class="n">position_errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">position_error</span><span class="p">)</span>
            <span class="n">control_efforts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">control_value</span><span class="p">))</span>

            <span class="c1"># Control variation (chattering metric)</span>
            <span class="n">control_variation</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">control_value</span> <span class="o">-</span> <span class="n">previous_control</span><span class="p">)</span>
            <span class="n">control_variations</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">control_variation</span><span class="p">)</span>
            <span class="n">previous_control</span> <span class="o">=</span> <span class="n">control_value</span>

            <span class="c1"># Simulate dynamics</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">dynamics</span><span class="o">.</span><span class="n">compute_dynamics</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">control</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">result</span><span class="o">.</span><span class="n">success</span><span class="p">:</span>
                <span class="k">break</span>

            <span class="c1"># Integrate</span>
            <span class="n">state</span> <span class="o">=</span> <span class="n">state</span> <span class="o">+</span> <span class="n">dt</span> <span class="o">*</span> <span class="n">result</span><span class="o">.</span><span class="n">state_derivative</span>

            <span class="c1"># Stability check</span>
            <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">state</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">10.0</span><span class="p">):</span>
                <span class="k">return</span> <span class="mf">1000.0</span>  <span class="c1"># Instability penalty</span>

        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">return</span> <span class="mf">1000.0</span>  <span class="c1"># Simulation failure penalty</span>

    <span class="c1"># Compute composite cost</span>
    <span class="n">avg_position_error</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">position_errors</span><span class="p">)</span>
    <span class="n">avg_control_effort</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">control_efforts</span><span class="p">)</span>
    <span class="n">avg_control_variation</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">control_variations</span><span class="p">)</span>
    <span class="n">final_position_error</span> <span class="o">=</span> <span class="n">position_errors</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

    <span class="c1"># Multi-objective cost function</span>
    <span class="n">cost</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mf">10.0</span> <span class="o">*</span> <span class="n">avg_position_error</span> <span class="o">+</span>        <span class="c1"># Primary: tracking performance</span>
        <span class="mf">0.1</span> <span class="o">*</span> <span class="n">avg_control_effort</span> <span class="o">+</span>         <span class="c1"># Secondary: control effort</span>
        <span class="mf">1.0</span> <span class="o">*</span> <span class="n">avg_control_variation</span> <span class="o">+</span>      <span class="c1"># Tertiary: chattering</span>
        <span class="mf">5.0</span> <span class="o">*</span> <span class="n">final_position_error</span>         <span class="c1"># Final: steady-state error</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">cost</span>

<span class="k">def</span><span class="w"> </span><span class="nf">compute_gain_penalty</span><span class="p">(</span><span class="n">gains</span><span class="p">:</span> <span class="n">GainsArray</span><span class="p">,</span> <span class="n">bounds</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Compute penalty for gains near boundaries.&quot;&quot;&quot;</span>

    <span class="n">gains_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">gains</span><span class="p">)</span>
    <span class="n">lower_bounds</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">bounds</span><span class="p">[</span><span class="s1">&#39;lower&#39;</span><span class="p">])</span>
    <span class="n">upper_bounds</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">bounds</span><span class="p">[</span><span class="s1">&#39;upper&#39;</span><span class="p">])</span>

    <span class="c1"># Normalize gains to [0, 1] range</span>
    <span class="n">normalized_gains</span> <span class="o">=</span> <span class="p">(</span><span class="n">gains_array</span> <span class="o">-</span> <span class="n">lower_bounds</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">upper_bounds</span> <span class="o">-</span> <span class="n">lower_bounds</span><span class="p">)</span>

    <span class="c1"># Penalty for gains too close to boundaries</span>
    <span class="n">boundary_penalty</span> <span class="o">=</span> <span class="mf">0.0</span>
    <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">normalized_gains</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">g</span> <span class="o">&lt;</span> <span class="mf">0.1</span> <span class="ow">or</span> <span class="n">g</span> <span class="o">&gt;</span> <span class="mf">0.9</span><span class="p">:</span>  <span class="c1"># Within 10% of boundaries</span>
            <span class="n">boundary_penalty</span> <span class="o">+=</span> <span class="mf">1.0</span>

    <span class="k">return</span> <span class="n">boundary_penalty</span>
</pre></div>
</div>
</section>
<section id="adaptive-smc-pso-integration">
<h3>Adaptive SMC PSO Integration<a class="headerlink" href="#adaptive-smc-pso-integration" title="Link to this heading">Â¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">setup_adaptive_smc_pso_optimization</span><span class="p">(</span>
    <span class="n">plant_config</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="n">adaptation_focused</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Setup PSO optimization for Adaptive SMC with adaptation-focused tuning.</span>

<span class="sd">    Adaptive SMC Parameters: [k1, k2, Î»1, Î»2, Î³]</span>
<span class="sd">    - k1, k2: Pendulum surface gains</span>
<span class="sd">    - Î»1, Î»2: Sliding coefficients</span>
<span class="sd">    - Î³: Adaptation rate (critical parameter)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Adaptation-focused bounds</span>
    <span class="k">if</span> <span class="n">adaptation_focused</span><span class="p">:</span>
        <span class="n">bounds</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;lower&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">8.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>     <span class="c1"># Higher surface gains</span>
            <span class="s1">&#39;upper&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">60.0</span><span class="p">,</span> <span class="mf">50.0</span><span class="p">,</span> <span class="mf">40.0</span><span class="p">,</span> <span class="mf">35.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">]</span>  <span class="c1"># Conservative adaptation rate</span>
        <span class="p">}</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">bounds</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;lower&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">],</span>
            <span class="s1">&#39;upper&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">50.0</span><span class="p">,</span> <span class="mf">40.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">25.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">]</span>
        <span class="p">}</span>

    <span class="c1"># PSO configuration with emphasis on exploration for adaptation</span>
    <span class="n">pso_config</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;swarm_size&#39;</span><span class="p">:</span> <span class="mi">40</span><span class="p">,</span>           <span class="c1"># Larger swarm for adaptation exploration</span>
        <span class="s1">&#39;max_iterations&#39;</span><span class="p">:</span> <span class="mi">150</span><span class="p">,</span>      <span class="c1"># More iterations for convergence</span>
        <span class="s1">&#39;cognitive_param&#39;</span><span class="p">:</span> <span class="mf">2.5</span><span class="p">,</span>     <span class="c1"># Higher personal exploration</span>
        <span class="s1">&#39;social_param&#39;</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>        <span class="c1"># Lower social influence</span>
        <span class="s1">&#39;inertia_weight&#39;</span><span class="p">:</span> <span class="mf">0.9</span><span class="p">,</span>
        <span class="s1">&#39;inertia_decay&#39;</span><span class="p">:</span> <span class="mf">0.98</span><span class="p">,</span>      <span class="c1"># Slower decay for exploration</span>
        <span class="s1">&#39;adaptation_penalty_weight&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span>  <span class="c1"># Penalty for poor adaptation</span>
        <span class="s1">&#39;convergence_threshold&#39;</span><span class="p">:</span> <span class="mf">5e-7</span>
    <span class="p">}</span>

    <span class="c1"># Create PSO interface</span>
    <span class="n">pso_interface</span> <span class="o">=</span> <span class="n">PSOFactoryInterface</span><span class="p">(</span><span class="s1">&#39;adaptive_smc&#39;</span><span class="p">,</span> <span class="n">plant_config</span><span class="p">)</span>
    <span class="n">controller_factory</span> <span class="o">=</span> <span class="n">pso_interface</span><span class="o">.</span><span class="n">create_pso_controller_factory</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">adaptive_fitness_function</span><span class="p">(</span><span class="n">gains</span><span class="p">:</span> <span class="n">GainsArray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Fitness function emphasizing adaptation performance.&quot;&quot;&quot;</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">controller</span> <span class="o">=</span> <span class="n">controller_factory</span><span class="p">(</span><span class="n">gains</span><span class="p">)</span>

            <span class="c1"># Extract adaptation rate for analysis</span>
            <span class="n">gamma</span> <span class="o">=</span> <span class="n">gains</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>

            <span class="c1"># Adaptive-specific test scenarios</span>
            <span class="n">scenarios</span> <span class="o">=</span> <span class="p">[</span>
                <span class="p">(</span><span class="s1">&#39;adaptation_test_1&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])),</span>
                <span class="p">(</span><span class="s1">&#39;adaptation_test_2&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">])),</span>
                <span class="p">(</span><span class="s1">&#39;parameter_change&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]))</span>  <span class="c1"># For adaptation testing</span>
            <span class="p">]</span>

            <span class="n">total_cost</span> <span class="o">=</span> <span class="mf">0.0</span>

            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">scenario_name</span><span class="p">,</span> <span class="n">initial_state</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">scenarios</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">scenario_name</span> <span class="o">==</span> <span class="s1">&#39;parameter_change&#39;</span><span class="p">:</span>
                    <span class="c1"># Test adaptation to parameter changes</span>
                    <span class="n">cost</span> <span class="o">=</span> <span class="n">evaluate_adaptation_performance</span><span class="p">(</span><span class="n">controller</span><span class="p">,</span> <span class="n">initial_state</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># Standard performance evaluation</span>
                    <span class="n">cost</span> <span class="o">=</span> <span class="n">evaluate_scenario_performance</span><span class="p">(</span><span class="n">controller</span><span class="p">,</span> <span class="n">initial_state</span><span class="p">,</span> <span class="n">simulation_time</span><span class="o">=</span><span class="mf">3.0</span><span class="p">)</span>

                <span class="n">total_cost</span> <span class="o">+=</span> <span class="n">cost</span>

            <span class="c1"># Adaptation rate penalty</span>
            <span class="k">if</span> <span class="n">gamma</span> <span class="o">&lt;</span> <span class="mf">0.5</span> <span class="ow">or</span> <span class="n">gamma</span> <span class="o">&gt;</span> <span class="mf">8.0</span><span class="p">:</span>
                <span class="n">total_cost</span> <span class="o">+=</span> <span class="mf">50.0</span> <span class="o">*</span> <span class="nb">abs</span><span class="p">(</span><span class="n">gamma</span> <span class="o">-</span> <span class="mf">3.0</span><span class="p">)</span>  <span class="c1"># Penalty for extreme adaptation rates</span>

            <span class="c1"># Convergence bonus for reasonable adaptation rates</span>
            <span class="k">if</span> <span class="mf">1.0</span> <span class="o">&lt;=</span> <span class="n">gamma</span> <span class="o">&lt;=</span> <span class="mf">5.0</span><span class="p">:</span>
                <span class="n">total_cost</span> <span class="o">*=</span> <span class="mf">0.9</span>  <span class="c1"># 10% bonus for good adaptation rate</span>

            <span class="k">return</span> <span class="n">total_cost</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Adaptive fitness evaluation failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="mf">1500.0</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s1">&#39;controller_factory&#39;</span><span class="p">:</span> <span class="n">controller_factory</span><span class="p">,</span>
        <span class="s1">&#39;fitness_function&#39;</span><span class="p">:</span> <span class="n">adaptive_fitness_function</span><span class="p">,</span>
        <span class="s1">&#39;bounds&#39;</span><span class="p">:</span> <span class="n">bounds</span><span class="p">,</span>
        <span class="s1">&#39;pso_config&#39;</span><span class="p">:</span> <span class="n">pso_config</span><span class="p">,</span>
        <span class="s1">&#39;pso_interface&#39;</span><span class="p">:</span> <span class="n">pso_interface</span><span class="p">,</span>
        <span class="s1">&#39;n_gains&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
        <span class="s1">&#39;optimization_type&#39;</span><span class="p">:</span> <span class="s1">&#39;adaptive_smc_dip&#39;</span><span class="p">,</span>
        <span class="s1">&#39;special_features&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;adaptation_monitoring&#39;</span><span class="p">,</span> <span class="s1">&#39;parameter_change_testing&#39;</span><span class="p">]</span>
    <span class="p">}</span>

<span class="k">def</span><span class="w"> </span><span class="nf">evaluate_adaptation_performance</span><span class="p">(</span>
    <span class="n">controller</span><span class="p">:</span> <span class="n">PSOControllerWrapper</span><span class="p">,</span>
    <span class="n">initial_state</span><span class="p">:</span> <span class="n">StateVector</span><span class="p">,</span>
    <span class="n">simulation_time</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">4.0</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Evaluate adaptation performance with parameter changes.&quot;&quot;&quot;</span>

    <span class="kn">from</span><span class="w"> </span><span class="nn">src.plant.models.simplified.dynamics</span><span class="w"> </span><span class="kn">import</span> <span class="n">SimplifiedDIPDynamics</span>

    <span class="n">dynamics</span> <span class="o">=</span> <span class="n">SimplifiedDIPDynamics</span><span class="p">()</span>
    <span class="n">dt</span> <span class="o">=</span> <span class="mf">0.001</span>
    <span class="n">n_steps</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">simulation_time</span> <span class="o">/</span> <span class="n">dt</span><span class="p">)</span>
    <span class="n">state</span> <span class="o">=</span> <span class="n">initial_state</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="n">adaptation_errors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">pre_change_errors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">post_change_errors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">change_step</span> <span class="o">=</span> <span class="n">n_steps</span> <span class="o">//</span> <span class="mi">2</span>  <span class="c1"># Parameter change at midpoint</span>

    <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_steps</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Simulate parameter change at midpoint</span>
            <span class="k">if</span> <span class="n">step</span> <span class="o">==</span> <span class="n">change_step</span><span class="p">:</span>
                <span class="c1"># Introduce disturbance to test adaptation</span>
                <span class="n">state</span> <span class="o">+=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>

            <span class="n">control</span> <span class="o">=</span> <span class="n">controller</span><span class="o">.</span><span class="n">compute_control</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">dynamics</span><span class="o">.</span><span class="n">compute_dynamics</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">control</span><span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">result</span><span class="o">.</span><span class="n">success</span><span class="p">:</span>
                <span class="k">break</span>

            <span class="n">state</span> <span class="o">=</span> <span class="n">state</span> <span class="o">+</span> <span class="n">dt</span> <span class="o">*</span> <span class="n">result</span><span class="o">.</span><span class="n">state_derivative</span>
            <span class="n">position_error</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">state</span><span class="p">[:</span><span class="mi">3</span><span class="p">])</span>

            <span class="k">if</span> <span class="n">step</span> <span class="o">&lt;</span> <span class="n">change_step</span><span class="p">:</span>
                <span class="n">pre_change_errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">position_error</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">post_change_errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">position_error</span><span class="p">)</span>

            <span class="n">adaptation_errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">position_error</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">state</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">8.0</span><span class="p">):</span>
                <span class="k">return</span> <span class="mf">2000.0</span>  <span class="c1"># Adaptation failure penalty</span>

        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">return</span> <span class="mf">2000.0</span>

    <span class="c1"># Analyze adaptation performance</span>
    <span class="n">pre_change_avg</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">pre_change_errors</span><span class="p">)</span> <span class="k">if</span> <span class="n">pre_change_errors</span> <span class="k">else</span> <span class="mf">1.0</span>
    <span class="n">post_change_avg</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">post_change_errors</span><span class="p">)</span> <span class="k">if</span> <span class="n">post_change_errors</span> <span class="k">else</span> <span class="mf">1.0</span>

    <span class="c1"># Adaptation quality metric</span>
    <span class="n">adaptation_ratio</span> <span class="o">=</span> <span class="n">post_change_avg</span> <span class="o">/</span> <span class="p">(</span><span class="n">pre_change_avg</span> <span class="o">+</span> <span class="mf">1e-6</span><span class="p">)</span>

    <span class="c1"># Cost emphasizing good adaptation</span>
    <span class="n">adaptation_cost</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mf">5.0</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">adaptation_errors</span><span class="p">)</span> <span class="o">+</span>      <span class="c1"># Overall performance</span>
        <span class="mf">10.0</span> <span class="o">*</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">adaptation_ratio</span> <span class="o">-</span> <span class="mf">2.0</span><span class="p">)</span> <span class="o">+</span> <span class="c1"># Penalty for poor adaptation</span>
        <span class="mf">2.0</span> <span class="o">*</span> <span class="n">post_change_avg</span>                   <span class="c1"># Post-change performance</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">adaptation_cost</span>
</pre></div>
</div>
</section>
<section id="super-twisting-smc-pso-integration">
<h3>Super-Twisting SMC PSO Integration<a class="headerlink" href="#super-twisting-smc-pso-integration" title="Link to this heading">Â¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">setup_super_twisting_smc_pso_optimization</span><span class="p">(</span>
    <span class="n">plant_config</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="n">high_performance_mode</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Setup PSO optimization for Super-Twisting SMC.</span>

<span class="sd">    STA-SMC Parameters: [K1, K2, k1, k2, Î»1, Î»2]</span>
<span class="sd">    - K1, K2: Super-twisting algorithm gains (K1 &gt; K2 typically)</span>
<span class="sd">    - k1, k2: Surface gains</span>
<span class="sd">    - Î»1, Î»2: Sliding coefficients</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># High-performance bounds for aggressive STA tuning</span>
    <span class="k">if</span> <span class="n">high_performance_mode</span><span class="p">:</span>
        <span class="n">bounds</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;lower&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">15.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">],</span>
            <span class="s1">&#39;upper&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">100.0</span><span class="p">,</span> <span class="mf">70.0</span><span class="p">,</span> <span class="mf">60.0</span><span class="p">,</span> <span class="mf">50.0</span><span class="p">,</span> <span class="mf">40.0</span><span class="p">,</span> <span class="mf">35.0</span><span class="p">]</span>
        <span class="p">}</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">bounds</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;lower&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span>
            <span class="s1">&#39;upper&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">80.0</span><span class="p">,</span> <span class="mf">60.0</span><span class="p">,</span> <span class="mf">50.0</span><span class="p">,</span> <span class="mf">40.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">25.0</span><span class="p">]</span>
        <span class="p">}</span>

    <span class="c1"># STA-specific PSO configuration</span>
    <span class="n">pso_config</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;swarm_size&#39;</span><span class="p">:</span> <span class="mi">35</span><span class="p">,</span>
        <span class="s1">&#39;max_iterations&#39;</span><span class="p">:</span> <span class="mi">120</span><span class="p">,</span>
        <span class="s1">&#39;cognitive_param&#39;</span><span class="p">:</span> <span class="mf">2.2</span><span class="p">,</span>
        <span class="s1">&#39;social_param&#39;</span><span class="p">:</span> <span class="mf">1.8</span><span class="p">,</span>
        <span class="s1">&#39;inertia_weight&#39;</span><span class="p">:</span> <span class="mf">0.85</span><span class="p">,</span>
        <span class="s1">&#39;inertia_decay&#39;</span><span class="p">:</span> <span class="mf">0.97</span><span class="p">,</span>
        <span class="s1">&#39;sta_constraint_weight&#39;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span>  <span class="c1"># Weight for STA-specific constraints</span>
        <span class="s1">&#39;convergence_threshold&#39;</span><span class="p">:</span> <span class="mf">1e-6</span>
    <span class="p">}</span>

    <span class="n">pso_interface</span> <span class="o">=</span> <span class="n">PSOFactoryInterface</span><span class="p">(</span><span class="s1">&#39;sta_smc&#39;</span><span class="p">,</span> <span class="n">plant_config</span><span class="p">)</span>
    <span class="n">controller_factory</span> <span class="o">=</span> <span class="n">pso_interface</span><span class="o">.</span><span class="n">create_pso_controller_factory</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">sta_fitness_function</span><span class="p">(</span><span class="n">gains</span><span class="p">:</span> <span class="n">GainsArray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Fitness function for Super-Twisting SMC optimization.&quot;&quot;&quot;</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">controller</span> <span class="o">=</span> <span class="n">controller_factory</span><span class="p">(</span><span class="n">gains</span><span class="p">)</span>

            <span class="n">K1</span><span class="p">,</span> <span class="n">K2</span> <span class="o">=</span> <span class="n">gains</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">gains</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

            <span class="c1"># STA constraint penalty</span>
            <span class="n">sta_penalty</span> <span class="o">=</span> <span class="mf">0.0</span>
            <span class="k">if</span> <span class="n">K1</span> <span class="o">&lt;=</span> <span class="n">K2</span><span class="p">:</span>
                <span class="n">sta_penalty</span> <span class="o">+=</span> <span class="mf">100.0</span> <span class="o">*</span> <span class="p">(</span><span class="n">K2</span> <span class="o">-</span> <span class="n">K1</span> <span class="o">+</span> <span class="mf">1.0</span><span class="p">)</span>  <span class="c1"># Strong penalty for K1 &lt;= K2</span>

            <span class="c1"># Test with challenging scenarios for STA performance</span>
            <span class="n">scenarios</span> <span class="o">=</span> <span class="p">[</span>
                <span class="p">(</span><span class="s1">&#39;precision_tracking&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.03</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])),</span>
                <span class="p">(</span><span class="s1">&#39;large_disturbance&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">])),</span>
                <span class="p">(</span><span class="s1">&#39;high_frequency&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]))</span>
            <span class="p">]</span>

            <span class="n">total_cost</span> <span class="o">=</span> <span class="mf">0.0</span>
            <span class="n">scenario_weights</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">]</span>

            <span class="k">for</span> <span class="n">weight</span><span class="p">,</span> <span class="p">(</span><span class="n">scenario_name</span><span class="p">,</span> <span class="n">initial_state</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">scenario_weights</span><span class="p">,</span> <span class="n">scenarios</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">scenario_name</span> <span class="o">==</span> <span class="s1">&#39;precision_tracking&#39;</span><span class="p">:</span>
                    <span class="c1"># STA excels at precision - test with tighter tolerance</span>
                    <span class="n">cost</span> <span class="o">=</span> <span class="n">evaluate_sta_precision_performance</span><span class="p">(</span><span class="n">controller</span><span class="p">,</span> <span class="n">initial_state</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">scenario_name</span> <span class="o">==</span> <span class="s1">&#39;large_disturbance&#39;</span><span class="p">:</span>
                    <span class="c1"># Test robustness with large disturbances</span>
                    <span class="n">cost</span> <span class="o">=</span> <span class="n">evaluate_sta_robustness_performance</span><span class="p">(</span><span class="n">controller</span><span class="p">,</span> <span class="n">initial_state</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># Standard evaluation</span>
                    <span class="n">cost</span> <span class="o">=</span> <span class="n">evaluate_scenario_performance</span><span class="p">(</span><span class="n">controller</span><span class="p">,</span> <span class="n">initial_state</span><span class="p">)</span>

                <span class="n">total_cost</span> <span class="o">+=</span> <span class="n">weight</span> <span class="o">*</span> <span class="n">cost</span>

            <span class="n">total_cost</span> <span class="o">+=</span> <span class="n">sta_penalty</span>

            <span class="c1"># Bonus for optimal K1/K2 ratio</span>
            <span class="n">k_ratio</span> <span class="o">=</span> <span class="n">K1</span> <span class="o">/</span> <span class="n">K2</span>
            <span class="k">if</span> <span class="mf">1.2</span> <span class="o">&lt;=</span> <span class="n">k_ratio</span> <span class="o">&lt;=</span> <span class="mf">2.0</span><span class="p">:</span>  <span class="c1"># Optimal STA ratio range</span>
                <span class="n">total_cost</span> <span class="o">*=</span> <span class="mf">0.95</span>  <span class="c1"># 5% bonus</span>

            <span class="k">return</span> <span class="n">total_cost</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;STA fitness evaluation failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="mf">1800.0</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s1">&#39;controller_factory&#39;</span><span class="p">:</span> <span class="n">controller_factory</span><span class="p">,</span>
        <span class="s1">&#39;fitness_function&#39;</span><span class="p">:</span> <span class="n">sta_fitness_function</span><span class="p">,</span>
        <span class="s1">&#39;bounds&#39;</span><span class="p">:</span> <span class="n">bounds</span><span class="p">,</span>
        <span class="s1">&#39;pso_config&#39;</span><span class="p">:</span> <span class="n">pso_config</span><span class="p">,</span>
        <span class="s1">&#39;pso_interface&#39;</span><span class="p">:</span> <span class="n">pso_interface</span><span class="p">,</span>
        <span class="s1">&#39;n_gains&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
        <span class="s1">&#39;optimization_type&#39;</span><span class="p">:</span> <span class="s1">&#39;sta_smc_dip&#39;</span><span class="p">,</span>
        <span class="s1">&#39;special_features&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;finite_time_convergence&#39;</span><span class="p">,</span> <span class="s1">&#39;chattering_reduction&#39;</span><span class="p">,</span> <span class="s1">&#39;robustness_testing&#39;</span><span class="p">]</span>
    <span class="p">}</span>

<span class="k">def</span><span class="w"> </span><span class="nf">evaluate_sta_precision_performance</span><span class="p">(</span>
    <span class="n">controller</span><span class="p">:</span> <span class="n">PSOControllerWrapper</span><span class="p">,</span>
    <span class="n">initial_state</span><span class="p">:</span> <span class="n">StateVector</span><span class="p">,</span>
    <span class="n">precision_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.01</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Evaluate STA precision performance with tight tolerances.&quot;&quot;&quot;</span>

    <span class="kn">from</span><span class="w"> </span><span class="nn">src.plant.models.simplified.dynamics</span><span class="w"> </span><span class="kn">import</span> <span class="n">SimplifiedDIPDynamics</span>

    <span class="n">dynamics</span> <span class="o">=</span> <span class="n">SimplifiedDIPDynamics</span><span class="p">()</span>
    <span class="n">dt</span> <span class="o">=</span> <span class="mf">0.001</span>
    <span class="n">simulation_time</span> <span class="o">=</span> <span class="mf">3.0</span>
    <span class="n">n_steps</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">simulation_time</span> <span class="o">/</span> <span class="n">dt</span><span class="p">)</span>
    <span class="n">state</span> <span class="o">=</span> <span class="n">initial_state</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="n">precision_errors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">convergence_time</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_steps</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">control</span> <span class="o">=</span> <span class="n">controller</span><span class="o">.</span><span class="n">compute_control</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">dynamics</span><span class="o">.</span><span class="n">compute_dynamics</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">control</span><span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">result</span><span class="o">.</span><span class="n">success</span><span class="p">:</span>
                <span class="k">break</span>

            <span class="n">state</span> <span class="o">=</span> <span class="n">state</span> <span class="o">+</span> <span class="n">dt</span> <span class="o">*</span> <span class="n">result</span><span class="o">.</span><span class="n">state_derivative</span>
            <span class="n">position_error</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">state</span><span class="p">[:</span><span class="mi">3</span><span class="p">])</span>
            <span class="n">precision_errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">position_error</span><span class="p">)</span>

            <span class="c1"># Check for convergence to precision threshold</span>
            <span class="k">if</span> <span class="n">convergence_time</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">position_error</span> <span class="o">&lt;</span> <span class="n">precision_threshold</span><span class="p">:</span>
                <span class="n">convergence_time</span> <span class="o">=</span> <span class="n">step</span> <span class="o">*</span> <span class="n">dt</span>

            <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">state</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">5.0</span><span class="p">):</span>
                <span class="k">return</span> <span class="mf">1500.0</span>  <span class="c1"># Precision failure</span>

        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">return</span> <span class="mf">1500.0</span>

    <span class="c1"># Precision-focused cost function</span>
    <span class="n">avg_precision_error</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">precision_errors</span><span class="p">)</span>
    <span class="n">final_precision_error</span> <span class="o">=</span> <span class="n">precision_errors</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

    <span class="c1"># Convergence time bonus</span>
    <span class="n">convergence_bonus</span> <span class="o">=</span> <span class="mf">0.0</span>
    <span class="k">if</span> <span class="n">convergence_time</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">convergence_bonus</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">2.0</span> <span class="o">-</span> <span class="n">convergence_time</span><span class="p">)</span>  <span class="c1"># Bonus for fast convergence</span>

    <span class="n">precision_cost</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mf">20.0</span> <span class="o">*</span> <span class="n">avg_precision_error</span> <span class="o">+</span>
        <span class="mf">30.0</span> <span class="o">*</span> <span class="n">final_precision_error</span> <span class="o">-</span>
        <span class="mf">5.0</span> <span class="o">*</span> <span class="n">convergence_bonus</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">precision_cost</span><span class="p">)</span>  <span class="c1"># Minimum positive cost</span>

<span class="k">def</span><span class="w"> </span><span class="nf">evaluate_sta_robustness_performance</span><span class="p">(</span>
    <span class="n">controller</span><span class="p">:</span> <span class="n">PSOControllerWrapper</span><span class="p">,</span>
    <span class="n">initial_state</span><span class="p">:</span> <span class="n">StateVector</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Evaluate STA robustness with large disturbances.&quot;&quot;&quot;</span>

    <span class="kn">from</span><span class="w"> </span><span class="nn">src.plant.models.simplified.dynamics</span><span class="w"> </span><span class="kn">import</span> <span class="n">SimplifiedDIPDynamics</span>

    <span class="n">dynamics</span> <span class="o">=</span> <span class="n">SimplifiedDIPDynamics</span><span class="p">()</span>
    <span class="n">dt</span> <span class="o">=</span> <span class="mf">0.001</span>
    <span class="n">simulation_time</span> <span class="o">=</span> <span class="mf">4.0</span>
    <span class="n">n_steps</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">simulation_time</span> <span class="o">/</span> <span class="n">dt</span><span class="p">)</span>
    <span class="n">state</span> <span class="o">=</span> <span class="n">initial_state</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="n">robustness_errors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">max_recovery_time</span> <span class="o">=</span> <span class="mf">0.0</span>
    <span class="n">disturbance_steps</span> <span class="o">=</span> <span class="p">[</span><span class="n">n_steps</span> <span class="o">//</span> <span class="mi">4</span><span class="p">,</span> <span class="n">n_steps</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">n_steps</span> <span class="o">//</span> <span class="mi">4</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_steps</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Apply disturbances at specific intervals</span>
            <span class="k">if</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">disturbance_steps</span><span class="p">:</span>
                <span class="n">disturbance</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">])</span>
                <span class="n">state</span> <span class="o">+=</span> <span class="n">disturbance</span>

            <span class="n">control</span> <span class="o">=</span> <span class="n">controller</span><span class="o">.</span><span class="n">compute_control</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">dynamics</span><span class="o">.</span><span class="n">compute_dynamics</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">control</span><span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">result</span><span class="o">.</span><span class="n">success</span><span class="p">:</span>
                <span class="k">break</span>

            <span class="n">state</span> <span class="o">=</span> <span class="n">state</span> <span class="o">+</span> <span class="n">dt</span> <span class="o">*</span> <span class="n">result</span><span class="o">.</span><span class="n">state_derivative</span>
            <span class="n">position_error</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">state</span><span class="p">[:</span><span class="mi">3</span><span class="p">])</span>
            <span class="n">robustness_errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">position_error</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">state</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">8.0</span><span class="p">):</span>
                <span class="k">return</span> <span class="mf">2000.0</span>  <span class="c1"># Robustness failure</span>

        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">return</span> <span class="mf">2000.0</span>

    <span class="c1"># Robustness cost emphasizing disturbance rejection</span>
    <span class="n">avg_robustness_error</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">robustness_errors</span><span class="p">)</span>
    <span class="n">max_error</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">robustness_errors</span><span class="p">)</span>

    <span class="n">robustness_cost</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mf">15.0</span> <span class="o">*</span> <span class="n">avg_robustness_error</span> <span class="o">+</span>
        <span class="mf">10.0</span> <span class="o">*</span> <span class="n">max_error</span> <span class="o">+</span>
        <span class="mf">5.0</span> <span class="o">*</span> <span class="n">robustness_errors</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># Final steady-state error</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">robustness_cost</span>
</pre></div>
</div>
</section>
</section>
<section id="advanced-pso-integration-features">
<h2>Advanced PSO Integration Features<a class="headerlink" href="#advanced-pso-integration-features" title="Link to this heading">Â¶</a></h2>
<section id="parallel-pso-evaluation">
<h3>Parallel PSO Evaluation<a class="headerlink" href="#parallel-pso-evaluation" title="Link to this heading">Â¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># example-metadata:</span>
<span class="c1"># runnable: false</span>

<span class="k">class</span><span class="w"> </span><span class="nc">ParallelPSOEvaluator</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Thread-safe parallel evaluation system for PSO optimization.</span>

<span class="sd">    Features:</span>
<span class="sd">    - Multi-threaded fitness evaluation</span>
<span class="sd">    - Load balancing across CPU cores</span>
<span class="sd">    - Memory-efficient swarm processing</span>
<span class="sd">    - Progress monitoring and early termination</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">controller_factory</span><span class="p">:</span> <span class="n">Callable</span><span class="p">,</span>
        <span class="n">fitness_function</span><span class="p">:</span> <span class="n">Callable</span><span class="p">,</span>
        <span class="n">n_threads</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
        <span class="n">batch_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">8</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">controller_factory</span> <span class="o">=</span> <span class="n">controller_factory</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fitness_function</span> <span class="o">=</span> <span class="n">fitness_function</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n_threads</span> <span class="o">=</span> <span class="n">n_threads</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">batch_size</span> <span class="o">=</span> <span class="n">batch_size</span>

        <span class="c1"># Thread management</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thread_pool</span> <span class="o">=</span> <span class="n">ThreadPoolExecutor</span><span class="p">(</span><span class="n">max_workers</span><span class="o">=</span><span class="n">n_threads</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">evaluation_lock</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">RLock</span><span class="p">()</span>

        <span class="c1"># Performance monitoring</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">evaluation_times</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">success_count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">failure_count</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate_swarm_parallel</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">swarm_positions</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
        <span class="n">timeout_seconds</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">30.0</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Evaluate entire swarm in parallel with timeout protection.</span>

<span class="sd">        Args:</span>
<span class="sd">            swarm_positions: Array of shape (swarm_size, n_dimensions)</span>
<span class="sd">            timeout_seconds: Maximum time for evaluation</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of fitness values for each particle</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">swarm_size</span> <span class="o">=</span> <span class="n">swarm_positions</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">fitness_values</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)]</span> <span class="o">*</span> <span class="n">swarm_size</span>

        <span class="c1"># Submit evaluation tasks</span>
        <span class="n">future_to_index</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">swarm_size</span><span class="p">):</span>
            <span class="n">future</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">thread_pool</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_evaluate_particle_safe</span><span class="p">,</span>
                <span class="n">swarm_positions</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>
                <span class="n">i</span>
            <span class="p">)</span>
            <span class="n">future_to_index</span><span class="p">[</span><span class="n">future</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span>

        <span class="c1"># Collect results with timeout</span>
        <span class="n">completed_count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">future</span> <span class="ow">in</span> <span class="n">as_completed</span><span class="p">(</span><span class="n">future_to_index</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">timeout_seconds</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">particle_index</span> <span class="o">=</span> <span class="n">future_to_index</span><span class="p">[</span><span class="n">future</span><span class="p">]</span>
                <span class="n">fitness_value</span> <span class="o">=</span> <span class="n">future</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>  <span class="c1"># Individual timeout</span>
                <span class="n">fitness_values</span><span class="p">[</span><span class="n">particle_index</span><span class="p">]</span> <span class="o">=</span> <span class="n">fitness_value</span>

                <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">evaluation_lock</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">success_count</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="n">completed_count</span> <span class="o">+=</span> <span class="mi">1</span>

            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">particle_index</span> <span class="o">=</span> <span class="n">future_to_index</span><span class="p">[</span><span class="n">future</span><span class="p">]</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Particle </span><span class="si">{</span><span class="n">particle_index</span><span class="si">}</span><span class="s2"> evaluation failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

                <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">evaluation_lock</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">failure_count</span> <span class="o">+=</span> <span class="mi">1</span>

                <span class="c1"># Use penalty value for failed evaluations</span>
                <span class="n">fitness_values</span><span class="p">[</span><span class="n">particle_index</span><span class="p">]</span> <span class="o">=</span> <span class="mf">5000.0</span>

            <span class="c1"># Check for timeout</span>
            <span class="k">if</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span> <span class="o">&gt;</span> <span class="n">timeout_seconds</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Swarm evaluation timeout after </span><span class="si">{</span><span class="n">timeout_seconds</span><span class="si">}</span><span class="s2">s&quot;</span><span class="p">)</span>
                <span class="k">break</span>

        <span class="c1"># Cancel remaining futures</span>
        <span class="k">for</span> <span class="n">future</span> <span class="ow">in</span> <span class="n">future_to_index</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">future</span><span class="o">.</span><span class="n">done</span><span class="p">():</span>
                <span class="n">future</span><span class="o">.</span><span class="n">cancel</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">fitness_values</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_evaluate_particle_safe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gains</span><span class="p">:</span> <span class="n">GainsArray</span><span class="p">,</span> <span class="n">particle_index</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Thread-safe particle evaluation with error handling.&quot;&quot;&quot;</span>

        <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Create controller</span>
            <span class="n">controller</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">controller_factory</span><span class="p">(</span><span class="n">gains</span><span class="p">)</span>

            <span class="c1"># Evaluate fitness</span>
            <span class="n">fitness_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fitness_function</span><span class="p">(</span><span class="n">gains</span><span class="p">,</span> <span class="n">controller</span><span class="p">)</span>

            <span class="c1"># Record evaluation time</span>
            <span class="n">evaluation_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">evaluation_lock</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">evaluation_times</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">evaluation_time</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">fitness_value</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Particle </span><span class="si">{</span><span class="n">particle_index</span><span class="si">}</span><span class="s2"> failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="mf">3000.0</span>  <span class="c1"># High penalty for failures</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_evaluation_statistics</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get parallel evaluation performance statistics.&quot;&quot;&quot;</span>

        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">evaluation_lock</span><span class="p">:</span>
            <span class="n">total_evaluations</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">success_count</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">failure_count</span>
            <span class="n">success_rate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">success_count</span> <span class="o">/</span> <span class="nb">max</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">total_evaluations</span><span class="p">)</span>

            <span class="n">avg_time</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">evaluation_times</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">evaluation_times</span> <span class="k">else</span> <span class="mf">0.0</span>
            <span class="n">max_time</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">evaluation_times</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">evaluation_times</span> <span class="k">else</span> <span class="mf">0.0</span>

            <span class="k">return</span> <span class="p">{</span>
                <span class="s1">&#39;total_evaluations&#39;</span><span class="p">:</span> <span class="n">total_evaluations</span><span class="p">,</span>
                <span class="s1">&#39;success_count&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">success_count</span><span class="p">,</span>
                <span class="s1">&#39;failure_count&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">failure_count</span><span class="p">,</span>
                <span class="s1">&#39;success_rate&#39;</span><span class="p">:</span> <span class="n">success_rate</span><span class="p">,</span>
                <span class="s1">&#39;avg_evaluation_time&#39;</span><span class="p">:</span> <span class="n">avg_time</span><span class="p">,</span>
                <span class="s1">&#39;max_evaluation_time&#39;</span><span class="p">:</span> <span class="n">max_time</span><span class="p">,</span>
                <span class="s1">&#39;total_evaluation_time&#39;</span><span class="p">:</span> <span class="nb">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">evaluation_times</span><span class="p">),</span>
                <span class="s1">&#39;parallel_efficiency&#39;</span><span class="p">:</span> <span class="n">avg_time</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_threads</span> <span class="o">/</span> <span class="nb">max</span><span class="p">(</span><span class="n">max_time</span><span class="p">,</span> <span class="mf">0.001</span><span class="p">)</span>
            <span class="p">}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">cleanup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Clean up thread pool resources.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thread_pool</span><span class="o">.</span><span class="n">shutdown</span><span class="p">(</span><span class="n">wait</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="pso-progress-monitoring-and-early-termination">
<h3>PSO Progress Monitoring and Early Termination<a class="headerlink" href="#pso-progress-monitoring-and-early-termination" title="Link to this heading">Â¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># example-metadata:</span>
<span class="c1"># runnable: false</span>

<span class="k">class</span><span class="w"> </span><span class="nc">PSOProgressMonitor</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Comprehensive PSO optimization progress monitoring.</span>

<span class="sd">    Features:</span>
<span class="sd">    - Convergence detection</span>
<span class="sd">    - Performance tracking</span>
<span class="sd">    - Early termination criteria</span>
<span class="sd">    - Optimization health assessment</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">convergence_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1e-6</span><span class="p">,</span>
        <span class="n">stagnation_threshold</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
        <span class="n">max_evaluation_time</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">convergence_threshold</span> <span class="o">=</span> <span class="n">convergence_threshold</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stagnation_threshold</span> <span class="o">=</span> <span class="n">stagnation_threshold</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_evaluation_time</span> <span class="o">=</span> <span class="n">max_evaluation_time</span>

        <span class="c1"># Progress tracking</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iteration_history</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">best_fitness_history</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">diversity_history</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">evaluation_time_history</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># Convergence state</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">converged</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stagnation_count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">best_fitness</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">update_progress</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">iteration</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">swarm_positions</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
        <span class="n">fitness_values</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span>
        <span class="n">evaluation_time</span><span class="p">:</span> <span class="nb">float</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Update optimization progress and assess termination criteria.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Progress update with termination recommendations</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># Update best fitness</span>
        <span class="n">current_best</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">fitness_values</span><span class="p">)</span>
        <span class="n">improvement</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">best_fitness</span> <span class="o">-</span> <span class="n">current_best</span>

        <span class="k">if</span> <span class="n">improvement</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">convergence_threshold</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">best_fitness</span> <span class="o">=</span> <span class="n">current_best</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stagnation_count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stagnation_count</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="c1"># Calculate swarm diversity</span>
        <span class="n">diversity</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculate_swarm_diversity</span><span class="p">(</span><span class="n">swarm_positions</span><span class="p">)</span>

        <span class="c1"># Record history</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iteration_history</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">iteration</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">best_fitness_history</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">current_best</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">diversity_history</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">diversity</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">evaluation_time_history</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">evaluation_time</span><span class="p">)</span>

        <span class="c1"># Assess convergence</span>
        <span class="n">convergence_status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_assess_convergence</span><span class="p">(</span><span class="n">diversity</span><span class="p">,</span> <span class="n">improvement</span><span class="p">)</span>

        <span class="c1"># Performance assessment</span>
        <span class="n">performance_status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_assess_performance</span><span class="p">(</span><span class="n">evaluation_time</span><span class="p">)</span>

        <span class="c1"># Termination recommendation</span>
        <span class="n">should_terminate</span><span class="p">,</span> <span class="n">termination_reason</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_should_terminate</span><span class="p">(</span>
            <span class="n">convergence_status</span><span class="p">,</span> <span class="n">performance_status</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s1">&#39;iteration&#39;</span><span class="p">:</span> <span class="n">iteration</span><span class="p">,</span>
            <span class="s1">&#39;best_fitness&#39;</span><span class="p">:</span> <span class="n">current_best</span><span class="p">,</span>
            <span class="s1">&#39;improvement&#39;</span><span class="p">:</span> <span class="n">improvement</span><span class="p">,</span>
            <span class="s1">&#39;diversity&#39;</span><span class="p">:</span> <span class="n">diversity</span><span class="p">,</span>
            <span class="s1">&#39;stagnation_count&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">stagnation_count</span><span class="p">,</span>
            <span class="s1">&#39;convergence_status&#39;</span><span class="p">:</span> <span class="n">convergence_status</span><span class="p">,</span>
            <span class="s1">&#39;performance_status&#39;</span><span class="p">:</span> <span class="n">performance_status</span><span class="p">,</span>
            <span class="s1">&#39;should_terminate&#39;</span><span class="p">:</span> <span class="n">should_terminate</span><span class="p">,</span>
            <span class="s1">&#39;termination_reason&#39;</span><span class="p">:</span> <span class="n">termination_reason</span><span class="p">,</span>
            <span class="s1">&#39;evaluation_time&#39;</span><span class="p">:</span> <span class="n">evaluation_time</span>
        <span class="p">}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_calculate_swarm_diversity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">swarm_positions</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate swarm diversity metric.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">swarm_positions</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span> <span class="mf">0.0</span>

        <span class="c1"># Calculate pairwise distances</span>
        <span class="n">distances</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">swarm_positions</span><span class="p">)):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">swarm_positions</span><span class="p">)):</span>
                <span class="n">distance</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">swarm_positions</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">swarm_positions</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
                <span class="n">distances</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">distance</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">distances</span><span class="p">)</span> <span class="k">if</span> <span class="n">distances</span> <span class="k">else</span> <span class="mf">0.0</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_assess_convergence</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">diversity</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">improvement</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Assess convergence status.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">improvement</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">convergence_threshold</span> <span class="ow">and</span> <span class="n">diversity</span> <span class="o">&lt;</span> <span class="mf">0.01</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;CONVERGED&#39;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">stagnation_count</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stagnation_threshold</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;STAGNATED&#39;</span>
        <span class="k">elif</span> <span class="n">diversity</span> <span class="o">&lt;</span> <span class="mf">0.1</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;LOW_DIVERSITY&#39;</span>
        <span class="k">elif</span> <span class="n">improvement</span> <span class="o">&gt;</span> <span class="mf">1.0</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;IMPROVING&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;SEARCHING&#39;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_assess_performance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evaluation_time</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Assess computational performance.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">evaluation_time</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_evaluation_time</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;SLOW&#39;</span>
        <span class="k">elif</span> <span class="n">evaluation_time</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_evaluation_time</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;MODERATE&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;FAST&#39;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_should_terminate</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">convergence_status</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">performance_status</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Determine if optimization should terminate early.&quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">convergence_status</span> <span class="o">==</span> <span class="s1">&#39;CONVERGED&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;Convergence achieved&#39;</span>

        <span class="k">if</span> <span class="n">convergence_status</span> <span class="o">==</span> <span class="s1">&#39;STAGNATED&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Stagnation detected (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">stagnation_count</span><span class="si">}</span><span class="s1"> iterations)&#39;</span>

        <span class="k">if</span> <span class="n">performance_status</span> <span class="o">==</span> <span class="s1">&#39;SLOW&#39;</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">evaluation_time_history</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">:</span>
            <span class="n">avg_time</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">evaluation_time_history</span><span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="p">:])</span>
            <span class="k">if</span> <span class="n">avg_time</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_evaluation_time</span> <span class="o">*</span> <span class="mi">2</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;Performance degradation detected&#39;</span>

        <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;Continue optimization&#39;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">generate_optimization_report</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate comprehensive optimization report.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s1">&#39;optimization_summary&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;total_iterations&#39;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iteration_history</span><span class="p">),</span>
                <span class="s1">&#39;best_fitness_achieved&#39;</span><span class="p">:</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">best_fitness_history</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">best_fitness_history</span> <span class="k">else</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">),</span>
                <span class="s1">&#39;final_diversity&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">diversity_history</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">diversity_history</span> <span class="k">else</span> <span class="mf">0.0</span><span class="p">,</span>
                <span class="s1">&#39;convergence_status&#39;</span><span class="p">:</span> <span class="s1">&#39;CONVERGED&#39;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">converged</span> <span class="k">else</span> <span class="s1">&#39;INCOMPLETE&#39;</span>
            <span class="p">},</span>
            <span class="s1">&#39;performance_metrics&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;avg_evaluation_time&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">evaluation_time_history</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">evaluation_time_history</span> <span class="k">else</span> <span class="mf">0.0</span><span class="p">,</span>
                <span class="s1">&#39;max_evaluation_time&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">evaluation_time_history</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">evaluation_time_history</span> <span class="k">else</span> <span class="mf">0.0</span><span class="p">,</span>
                <span class="s1">&#39;total_optimization_time&#39;</span><span class="p">:</span> <span class="nb">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">evaluation_time_history</span><span class="p">)</span>
            <span class="p">},</span>
            <span class="s1">&#39;convergence_analysis&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;fitness_improvement_rate&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculate_improvement_rate</span><span class="p">(),</span>
                <span class="s1">&#39;diversity_trend&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculate_diversity_trend</span><span class="p">(),</span>
                <span class="s1">&#39;stagnation_periods&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_identify_stagnation_periods</span><span class="p">()</span>
            <span class="p">}</span>
        <span class="p">}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_calculate_improvement_rate</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate average fitness improvement rate.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">best_fitness_history</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span> <span class="mf">0.0</span>

        <span class="n">improvements</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">best_fitness_history</span><span class="p">)):</span>
            <span class="n">improvement</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">best_fitness_history</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">best_fitness_history</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">improvements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">improvement</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">improvements</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_calculate_diversity_trend</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate diversity trend over time.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">diversity_history</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;INSUFFICIENT_DATA&#39;</span>

        <span class="n">recent_diversity</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">diversity_history</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">:])</span>
        <span class="n">earlier_diversity</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">diversity_history</span><span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="p">:</span><span class="o">-</span><span class="mi">5</span><span class="p">])</span>

        <span class="k">if</span> <span class="n">recent_diversity</span> <span class="o">&lt;</span> <span class="n">earlier_diversity</span> <span class="o">*</span> <span class="mf">0.8</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;DECREASING&#39;</span>
        <span class="k">elif</span> <span class="n">recent_diversity</span> <span class="o">&gt;</span> <span class="n">earlier_diversity</span> <span class="o">*</span> <span class="mf">1.2</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;INCREASING&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;STABLE&#39;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_identify_stagnation_periods</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Identify periods of stagnation in optimization.&quot;&quot;&quot;</span>
        <span class="n">stagnation_periods</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">current_start</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">stagnation_threshold</span> <span class="o">=</span> <span class="mi">5</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">best_fitness_history</span><span class="p">)):</span>
            <span class="n">improvement</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">best_fitness_history</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">best_fitness_history</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

            <span class="k">if</span> <span class="n">improvement</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">convergence_threshold</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">current_start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">current_start</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">current_start</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">i</span> <span class="o">-</span> <span class="n">current_start</span> <span class="o">&gt;=</span> <span class="n">stagnation_threshold</span><span class="p">:</span>
                    <span class="n">stagnation_periods</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">current_start</span><span class="p">,</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span>
                <span class="n">current_start</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># Handle final stagnation period</span>
        <span class="k">if</span> <span class="n">current_start</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">best_fitness_history</span><span class="p">)</span> <span class="o">-</span> <span class="n">current_start</span> <span class="o">&gt;=</span> <span class="n">stagnation_threshold</span><span class="p">:</span>
            <span class="n">stagnation_periods</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">current_start</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">best_fitness_history</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">stagnation_periods</span>
</pre></div>
</div>
<p>This comprehensive PSO integration workflow provides the foundation for efficient, robust parameter optimization of SMC controllers with advanced monitoring, parallel evaluation, and quality assurance features.</p>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, Research Team
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            <div class="last-updated">
              Last updated on Oct 08, 2025</div>
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">PSO Integration Workflow and Best Practices</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#pso-integration-architecture">PSO Integration Architecture</a><ul>
<li><a class="reference internal" href="#high-level-pso-factory-integration-flow">High-Level PSO-Factory Integration Flow</a></li>
<li><a class="reference internal" href="#pso-compatible-controller-factory-interface">PSO-Compatible Controller Factory Interface</a></li>
</ul>
</li>
<li><a class="reference internal" href="#controller-specific-pso-integration-patterns">Controller-Specific PSO Integration Patterns</a><ul>
<li><a class="reference internal" href="#classical-smc-pso-integration">Classical SMC PSO Integration</a></li>
<li><a class="reference internal" href="#adaptive-smc-pso-integration">Adaptive SMC PSO Integration</a></li>
<li><a class="reference internal" href="#super-twisting-smc-pso-integration">Super-Twisting SMC PSO Integration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#advanced-pso-integration-features">Advanced PSO Integration Features</a><ul>
<li><a class="reference internal" href="#parallel-pso-evaluation">Parallel PSO Evaluation</a></li>
<li><a class="reference internal" href="#pso-progress-monitoring-and-early-termination">PSO Progress Monitoring and Early Termination</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=4ebf8126"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=08e7b316"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script src="../_static/back-to-top.js?v=840797bb"></script>
    <script src="../_static/lazy-load.js?v=dc25293c"></script>
    <script src="../_static/dark-mode.js?v=bf328970"></script>
    </body>
</html>